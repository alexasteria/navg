{"version":3,"sources":["js/elements/img/lak.png","js/elements/img/lash.png","js/elements/img/cut.png","js/elements/img/kosm.png","js/elements/panelHeader.js","js/func/func.js","js/store/reducers.js","js/store/actions.js","js/masters/mastersCard.js","js/elements/functions.js","js/masters/mastersPhoto.js","js/elements/items/ratingStars.js","js/masters/mastersComments.js","js/news/components/nowCounter.js","js/news/components/userInfo.js","js/news/components/isMember.js","js/news/components/favApp.js","js/news/news.js","js/lk/invite.js","js/lk/lk.js","js/lk/history.js","js/lk/portfolio.js","js/elements/headCity.js","js/elements/loader.js","js/lk/setting.js","js/lk/favourite.js","js/findmodel/components/findCard.js","js/findmodel/components/findList.js","js/findmodel/findModel.js","js/lk/findModelMaster.js","js/lk/partners.js","js/elements/cityList.js","js/news/moder.js","js/masters/mastersList.js","js/elements/scrollSubcat.js","js/masters/masters.js","js/elements/categoriesList.js","js/lk/rules.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Head","props","theme","left","onClick","goBack","title","BACK_LINK","process","BACKEND","users","auth","like","changeCity","message","masters","all","onID","category","vkuid","subscribers","onarrayid","connect","history","favs","new","master","user","findModel","onMasterId","onCity","comment","moderation","vkapi","uploadPhoto","savePhoto","savePhotoFindModels","getCities","getCountries","isMember","getAlbum","delPhoto","stories","repost","notyStatus","push","getAll","logs","params","sendmessage","moder","moderCom","initialState","loginStatus","mastersList","mastersListScroll","targetCategory","targetCity","targetCountry","findModelsList","findModelsListScroll","activeMasterOnMasters","activeMasterOnFindModels","activeMasterOnFavs","activePanelnews","activePanelmasters","activePanelfindmodel","activePanellk","newsHistory","mastersHistory","findmodelHistory","lkHistory","activeStory","activeViewLk","regSet","filter","setMaster","console","log","type","payload","loginUser","changeMastersList","newMastersList","changeTargetCategory","newTargetCategory","changeTargetCity","newTargetCity","changeMasterslistScroll","newScroll","changeFindModelsList","newFindModelsList","changeFindModelsListScroll","newFindModelsListScroll","changeActiveMasterOnMasters","NewActiveMaster","changeActiveMasterOnFindModels","changeActiveMasterOnFavs","changeLaunchParams","goTo","story","panel","goForward","changeStory","changeActiveViewLk","activeView","regSetInvite","data","setFilter","MastersCard","handleChange","event","setState","target","name","value","changeNumber","openModal","sendMessage","state","sendtitle","phone","fetch","activeMaster","_id","method","mode","cache","credentials","headers","redirect","referrer","body","JSON","stringify","then","res","json","error","openSnackAvatar","avatarLink","catch","e","favStatus","isFavourite","style","float","padding","marginRight","checkFavs","width","height","fill","connectStatus","before","div","initial","rotate","animate","transition","duration","enterNumber","share","bridge","send","link","result","loadFavs","includes","countFavs","length","isLoad","changeVisible","index","isChange","indexOf","splice","getPhone","group_id","key","phone_number","a","activeModal","onClose","id","header","caption","className","align","onChange","novalidate","snackbar","bind","window","scrollTo","this","map","item","url","postData","images","start_index","text","layout","after","src","size","response","icon","marginTop","visible","Fragment","separator","disabled","multiline","level","weight","marginBottom","brand","vkUid","firstname","lastname","expandable","openComments","indicator","meta","comments","description","photos","photoUrl","borderRadius","margin","openShowImages","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","openPhoto","priceList","price","asideContent","opacity","y","exit","React","Component","dispatch","bindActionCreators","imgArr","image","gridPhoto","RatingStars","useState","stars","setStars","activeStar","inactiveStar","useEffect","starsArr","i","countStars","display","star","MastersComments","changeStars","rating","validCommentText","replace","sendComment","Number","onModer","ids","isCommended","commentsArr","countComments","prevProps","prevState","snapshot","comDate","date","Date","hours","getHours","minutes","getMinutes","date1","getDate","month","getMonth","getFullYear","alignItems","flexDirection","fontSize","color","webkitUserSelect","userSelect","status","bottom","top","placeholder","commentList","validate","NowCounter","countMasters","countUsers","textAlign","position","UserInfo","openReg","setUser","fetchData","photo","photo_100","first_name","last_name","IsMember","inGroup","setInGroup","ingroup","subheader","actions","FavApp","isFav","setFavStatus","News","feedList","feed","backgroundColor","promo","vk_is_favorite","subscribe","detail","x","openModer","bannerData","Invite","deleteProcedure","setAlert","actionsLayout","autoclose","action","onRemove","getCategories","categories","regMaster","statusMessage","trim","checkLicense","cat","subcat","active","label","location","country","city","closeReg","addProd","add","saveProd","validateNewProdTitle","newProdTitle","validateNewProdBody","newProdBody","validateNewProdPrice","newProdPrice","slice","permMessage","checkSubcat","indexCat","indexSubcat","counter","count","statusPhoto","qapi","undefined","subcategory","checked","require","stretched","openRules","Lk","notifyChange","notifyStatus","wallPost","prods","prod","join","attachments","owner_id","copyright","storiesPost","background_type","locked","attachment","stickers","sticker_type","sticker","transform","relation_width","translation_y","can_delete","content_type","clickable_zones","action_type","tooltip_text_key","clickable_area","checkModeration","warningGradient","reasons","reason","openSetting","addToFavApp","connection","tmpUser","isMaster","isUser","favsArr","mastersArr","error_data","openFavourite","openHistory","openMasterPhoto","openFindModel","History","connectionList","isLoaded","href","Portfolio","deletePhoto","setTimeout","delete","loading","deleteMode","getToken","selectedFile","document","getElementById","files","match","create_album","encodeURI","token","fetchJsonp","album","album_id","getUploadServer","uploadServer","formData","FormData","append","openSnack","saveUrl","error_code","savePh","sizes","unshift","img","v","access_token","uploadUrl","upload_url","app_id","scope","photoArr","photoFile","user_albums","vk_user_id","items","WebkitUserSelect","controlSize","Loader","lak","kosm","lash","cut","Setting","saveChanges","patchData","snackbarDismiss","saveEdit","editProdTitle","editProdBody","editProdPrice","editProd","edit","checkBan","banned","statusProfile","about","tooltip","popout","manicureStatus","pedicureStatus","eyelashesStatus","eyebrowsStatus","shugaringStatus","hairStatus","cosmeticStatus","setActive","warnConnection","changed","Array","isArray","String","defaultValue","snackbarLk","withModalRootContext","Favourite","loadFavsMasters","err","setBottom","marginLeft","bottomContent","openFavMasterOnId","FindCard","find","sale","openMasterOnId","masterId","FindList","findArr","FindModel","loadFind","self","pageYOffset","FindModelMaster","targetImg","handleChangeSelect","selectvalue","save","isActive","mStatus","Partners","addToCommunity","CityList","renderCityList","cities","region","search","countryList","toLowerCase","country_id","cityList","Boolean","changeCountry","Moder","good","bad","goodComment","badComment","activeTab","mastersCount","usersCount","to","openMaster","selected","renderMasters","renderComments","MastersList","setTitle","openPanelMaster","countSubcat","scrollSubcat","Masters","loadList","currentTarget","filteredList","forEach","changeCategory","CategoriesList","loadCategories","setCategory","background","scheme","Rules","App","validLaunchParams","openFindMasterOnId","newMaster","pushState","activePanelMasters","openStory","storyName","popoutLk","popoutInvite","activePanelFindModels","activeMasterId","activeViewMasters","activePanelLk","activePanelReg","baseCities","searchCity","modalHistory","activeTabLk","mastersModal","findModal","lkModal","snackbarInvite","onStoryChange","status_bar_style","launchParams","sign","linkParams","masterid","onpopstate","dataset","geo","activePanel","tabbar","data-story","onSwipeBack","setActiveMaster","content","modal","alert","openSnackLk","openSnackLkDismiss","modalBack","openAlert","openSnackInvite","activePanelregistration","registrationHistory","hostname","config","store","createStore","changeIsMaster","newhistory","pop","hash","split","reduce","p","decodeURIComponent","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aa392f20.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/lash.e5eddc13.png\";","module.exports = __webpack_public_path__ + \"static/media/cut.4b1394bc.png\";","module.exports = __webpack_public_path__ + \"static/media/kosm.4fe91b7c.png\";","import React from \"react\";\nimport { PanelHeader, PanelHeaderBack } from \"@vkontakte/vkui\";\n\nconst Head = (props) => {\n  return (\n    <PanelHeader\n      theme=\"light\"\n      left={<PanelHeaderBack onClick={props.goBack} />}\n    >\n      {props.title}\n    </PanelHeader>\n  );\n};\n\nexport default Head;\n","const BACK_LINK = process.env.REACT_APP_BACK_LINK;\n\nexport const BACKEND = {\n  users: {\n    auth: BACK_LINK + \"users/auth/\",\n    like: BACK_LINK + \"users/like/\",\n    changeCity: BACK_LINK + \"users/changeCity/\",\n  },\n  message: BACK_LINK + \"users/message/\",\n  masters: {\n    all: BACK_LINK + \"masters/\",\n    onID: BACK_LINK + \"masters/\",\n    category: BACK_LINK + \"masters/category/\",\n    vkuid: BACK_LINK + \"masters/vkuid/\",\n    subscribers: BACK_LINK + \"masters/subscribe/\",\n    onarrayid: BACK_LINK + \"masters/onarrayid/\",\n    connect: BACK_LINK + \"masters/connect/\",\n    history: BACK_LINK + \"masters/history/\",\n  },\n  favs: {\n    new: BACK_LINK + \"favs/\",\n    master: BACK_LINK + \"favs/master/\",\n    user: BACK_LINK + \"favs/user/\",\n  },\n  findModel: {\n    new: BACK_LINK + \"findmodel/\",\n    onMasterId: BACK_LINK + \"findmodel/onMasterId/\",\n    onCity: BACK_LINK + \"findmodel/onCity/\",\n  },\n  comment: {\n    new: BACK_LINK + \"comment/master/\",\n    onMasterId: BACK_LINK + \"comment/master/\",\n    moderation: BACK_LINK + \"comment/moderation/\",\n  },\n  vkapi: {\n    uploadPhoto: BACK_LINK + \"vkapi/uploadPhoto/\",\n    savePhoto: BACK_LINK + \"vkapi/savePhoto/\",\n    savePhotoFindModels: BACK_LINK + \"vkapi/savePhotoFindModels/\",\n    getCities: BACK_LINK + \"vkapi/getCities\",\n    getCountries: BACK_LINK + \"vkapi/getCountries\",\n    isMember: BACK_LINK + \"vkapi/isMember\",\n    getAlbum: BACK_LINK + \"vkapi/getAlbum\",\n    delPhoto: BACK_LINK + \"vkapi/delPhoto/\",\n    stories: BACK_LINK + \"vkapi/stories/\",\n    repost: BACK_LINK + \"vkapi/repost/\",\n    notyStatus: BACK_LINK + \"vkapi/notifyStatus/\",\n    push: BACK_LINK + \"vkapi/push/\",\n  },\n  category: {\n    getAll: BACK_LINK + \"category/\",\n  },\n  logs: {\n    params: BACK_LINK + \"logs/params/\",\n  },\n  sendmessage: BACK_LINK + \"sendmessage\",\n  moder: BACK_LINK + \"masters/moderation/\",\n  moderCom: BACK_LINK + \"comment/moderation/\",\n};\n","export const ACTION_CHANGE_MASTERS_LIST = \"ACTION_CHANGE_MASTERS_LIST\";\nexport const ACTION_CHANGE_TARGET_CATEGORY = \"ACTION_CHANGE_TARGET_CATEGORY\";\nexport const ACTION_CHANGE_TARGET_CITY = \"ACTION_CHANGE_TARGET_CITY\";\nexport const ACTION_CHANGE_TARGET_COUNTRY = \"ACTION_CHANGE_TARGET_COUNTRY\";\nexport const ACTION_CHANGE_MASTERSLIST_SCROLL =\n  \"ACTION_CHANGE_MASTERSLIST_SCROLL\";\nexport const ACTION_CHANGE_FINDMODELS_LIST = \"ACTION_CHANGE_FINDMODELS_LIST\";\nexport const ACTION_CHANGE_FINDMODELS_SCROLL =\n  \"ACTION_CHANGE_FINDMODELS_SCROLL\";\nexport const ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS =\n  \"ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS\";\nexport const ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS =\n  \"ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS\";\nexport const ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS =\n  \"ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS\";\nexport const LOGIN_USER = \"LOGIN_USER\";\nexport const SET_MASTER = \"SET_MASTER\";\nexport const SET_LAUNCH_PARAMS = \"SET_LAUNCH_PARAMS\";\nexport const GO_TO = \"GO_TO\";\nexport const GO_FORWARD = \"GO_FORWARD\";\nexport const CHANGE_STORY = \"CHANGE_STORY\";\nexport const CHANGE_ACTIVE_VIEW_LK = \"CHANGE_ACTIVE_VIEW_LK\";\nexport const REG_SET = \"REG_SET\";\nexport const SET_FILTER = \"SET_FILTER\";\n\nconst initialState = {\n  loginStatus: false,\n  user: {},\n  master: null,\n  mastersList: [],\n  mastersListScroll: 0,\n  targetCategory: \"\",\n  targetCity: \"\",\n  targetCountry: \"\",\n  findModelsList: [],\n  findModelsListScroll: 0,\n  activeMasterOnMasters: {},\n  activeMasterOnFindModels: {},\n  activeMasterOnFavs: {},\n  params: null,\n  activePanelnews: \"news\",\n  activePanelmasters: \"mastersList\",\n  activePanelfindmodel: \"findmodel\",\n  activePanellk: \"lk\",\n  //activePanelregistration: 'registration',\n  newsHistory: [\"news\"],\n  mastersHistory: [\"mastersList\"],\n  findmodelHistory: [\"findmodel\"],\n  lkHistory: [\"lk\"],\n  //registrationHistory: ['registration'],\n  activeStory: \"news\",\n  activeViewLk: \"lk\",\n  regSet: null,\n  filter: [],\n};\n\nexport const rootReducer = (state = initialState, action) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case ACTION_CHANGE_MASTERS_LIST:\n      return { ...state, mastersList: action.payload };\n    case ACTION_CHANGE_TARGET_CATEGORY:\n      return { ...state, targetCategory: action.payload, mastersList: [] };\n    case ACTION_CHANGE_TARGET_CITY:\n      let changeCity = state.user;\n      changeCity.location.city = action.payload;\n      return {\n        ...state,\n        targetCity: action.payload,\n        mastersList: [],\n        findModelsList: [],\n        user: changeCity,\n      };\n    case ACTION_CHANGE_MASTERSLIST_SCROLL:\n      return { ...state, mastersListScroll: action.payload };\n    case ACTION_CHANGE_FINDMODELS_LIST:\n      return { ...state, findModelsList: action.payload };\n    case ACTION_CHANGE_FINDMODELS_SCROLL:\n      return { ...state, findModelsListScroll: action.payload };\n    case LOGIN_USER:\n      return {\n        ...state,\n        loginStatus: true,\n        user: action.payload,\n        targetCity:\n          action.payload.location !== undefined\n            ? action.payload.location.city\n            : { id: 1, title: \"Москва\" },\n      };\n    case SET_MASTER:\n      let changeIsMaster = state.user;\n      changeIsMaster.isMaster = true;\n      return { ...state, master: action.payload, user: changeIsMaster };\n    case ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS:\n      return { ...state, activeMasterOnMasters: action.payload };\n    case ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS:\n      return { ...state, activeMasterOnFindModels: action.payload };\n    case ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS:\n      return { ...state, activeMasterOnFavs: action.payload };\n    case SET_LAUNCH_PARAMS:\n      return { ...state, params: action.payload };\n    case GO_TO:\n      let history = state[action.payload.story + \"History\"];\n      if (history[history.length - 1] !== action.payload.panel)\n        history.push(action.payload.panel);\n      if (action.payload.panel === history[0]) history = [action.payload.panel];\n      return {\n        ...state,\n        [\"activePanel\" + action.payload.story]: action.payload.panel,\n        [action.payload.story + \"History\"]: history,\n        activeStory: action.payload.story,\n      };\n    case GO_FORWARD:\n      let newhistory = state[action.payload.story + \"History\"];\n      newhistory.pop();\n      return {\n        ...state,\n        [action.payload.story + \"History\"]: newhistory,\n        [\"activePanel\" + action.payload.story]: newhistory[\n          newhistory.length - 1\n        ],\n        activeStory: action.payload.story,\n      };\n    case CHANGE_STORY:\n      return { ...state, activeStory: action.payload };\n    case CHANGE_ACTIVE_VIEW_LK:\n      return { ...state, activeViewLk: action.payload };\n    case REG_SET:\n      return { ...state, regSet: action.payload };\n    case SET_FILTER:\n      return { ...state, filter: action.payload };\n  }\n  return state;\n};\n","import {\n  ACTION_CHANGE_MASTERS_LIST,\n  ACTION_CHANGE_TARGET_CATEGORY,\n  ACTION_CHANGE_TARGET_CITY,\n  ACTION_CHANGE_TARGET_COUNTRY,\n  ACTION_CHANGE_MASTERSLIST_SCROLL,\n  ACTION_CHANGE_FINDMODELS_LIST,\n  ACTION_CHANGE_FINDMODELS_SCROLL,\n  ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS,\n  ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS,\n  ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS,\n  LOGIN_USER,\n  SET_MASTER,\n  SET_LAUNCH_PARAMS,\n  GO_TO,\n  GO_FORWARD,\n  CHANGE_STORY,\n  CHANGE_ACTIVE_VIEW_LK,\n  REG_SET,\n  SET_FILTER,\n} from \"./reducers\";\n\nexport const setMaster = (master) => {\n  console.log(\"SET_MASTER\");\n  return {\n    type: SET_MASTER,\n    payload: master,\n  };\n};\n\nexport const loginUser = (user) => {\n  console.log(\"LOGIN_USER\");\n  return {\n    type: LOGIN_USER,\n    payload: user,\n  };\n};\n\nexport const changeMastersList = (newMastersList) => {\n  console.log(\"in ACTION_CHANGE_MASTERS_LIST\");\n  return {\n    type: ACTION_CHANGE_MASTERS_LIST,\n    payload: newMastersList,\n  };\n};\n\nexport const changeTargetCategory = (newTargetCategory) => {\n  console.log(\"in ACTION_CHANGE_TARGET_CATEGORY\");\n  return {\n    type: ACTION_CHANGE_TARGET_CATEGORY,\n    payload: newTargetCategory,\n  };\n};\n\nexport const changeTargetCity = (newTargetCity) => {\n  console.log(\"in ACTION_CHANGE_TARGET_CITY\");\n  return {\n    type: ACTION_CHANGE_TARGET_CITY,\n    payload: newTargetCity,\n  };\n};\n\nexport const changeTargetCountry = (newTargetCountry) => {\n  console.log(\"in ACTION_CHANGE_TARGET_COUNTRY\");\n  return {\n    type: ACTION_CHANGE_TARGET_COUNTRY,\n    payload: newTargetCountry,\n  };\n};\n\nexport const changeMasterslistScroll = (newScroll) => {\n  console.log(\"in ACTION_CHANGE_MASTERSLIST_SCROLL\");\n  return {\n    type: ACTION_CHANGE_MASTERSLIST_SCROLL,\n    payload: newScroll,\n  };\n};\n\nexport const changeFindModelsList = (newFindModelsList) => {\n  console.log(\"in ACTION_CHANGE_FINDMODELS_LIST\");\n  return {\n    type: ACTION_CHANGE_FINDMODELS_LIST,\n    payload: newFindModelsList,\n  };\n};\n\nexport const changeFindModelsListScroll = (newFindModelsListScroll) => {\n  console.log(\"in ACTION_CHANGE_FINDMODELS_SCROLL\");\n  return {\n    type: ACTION_CHANGE_FINDMODELS_SCROLL,\n    payload: newFindModelsListScroll,\n  };\n};\n\nexport const changeActiveMasterOnMasters = (NewActiveMaster) => {\n  console.log(\"in ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS\");\n  return {\n    type: ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS,\n    payload: NewActiveMaster,\n  };\n};\n\nexport const changeActiveMasterOnFindModels = (NewActiveMaster) => {\n  console.log(\"in ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS\");\n  return {\n    type: ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS,\n    payload: NewActiveMaster,\n  };\n};\n\nexport const changeActiveMasterOnFavs = (NewActiveMaster) => {\n  console.log(\"in ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS\");\n  return {\n    type: ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS,\n    payload: NewActiveMaster,\n  };\n};\n\nexport const changeLaunchParams = (params) => {\n  console.log(\"in SET_LAUNCH_PARAMS\");\n  return {\n    type: SET_LAUNCH_PARAMS,\n    payload: params,\n  };\n};\n\nexport const goTo = (story, panel) => {\n  return {\n    type: GO_TO,\n    payload: { story: story, panel: panel },\n  };\n};\n\nexport const goForward = (story) => {\n  return {\n    type: GO_FORWARD,\n    payload: { story: story },\n  };\n};\n\nexport const changeStory = (story) => {\n  return {\n    type: CHANGE_STORY,\n    payload: story,\n  };\n};\n\nexport const changeActiveViewLk = (activeView) => {\n  return {\n    type: CHANGE_ACTIVE_VIEW_LK,\n    payload: activeView,\n  };\n};\n\nexport const regSetInvite = (data) => {\n  return {\n    type: REG_SET,\n    payload: data,\n  };\n};\n\nexport const setFilter = (filter) => {\n  return {\n    type: SET_FILTER,\n    payload: filter,\n  };\n};\n","import React from \"react\";\nimport {\n  Group,\n  Cell,\n  Separator,\n  Div,\n  Avatar,\n  Snackbar,\n  Spinner,\n  Header,\n  Card,\n  CardGrid,\n  CardScroll,\n  Button,\n  FormLayout,\n  RichCell,\n  CellButton,\n  Placeholder,\n  Panel,\n  ModalCard,\n  ModalRoot,\n  Caption,\n} from \"@vkontakte/vkui\";\nimport InputMask from \"react-input-mask\";\nimport Icon16Like from \"@vkontakte/icons/dist/16/like\";\nimport Icon16LikeOutline from \"@vkontakte/icons/dist/16/like_outline\";\nimport { BACKEND } from \"../func/func\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { postData } from \"../elements/functions\";\nimport { connect } from \"react-redux\";\nimport Icon56GalleryOutline from \"@vkontakte/icons/dist/56/gallery_outline\";\nimport Icon24Phone from \"@vkontakte/icons/dist/24/phone\";\nimport Head from \"../elements/panelHeader\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  loginUser,\n  changeMastersList,\n  changeActiveMasterOnFindModels,\n} from \"../store/actions\";\nimport Icon56AccessibilityOutline from \"@vkontakte/icons/dist/56/accessibility_outline\";\nimport Icon16Down from \"@vkontakte/icons/dist/16/down\";\nimport Icon16Up from \"@vkontakte/icons/dist/16/up\";\nimport { motion } from \"framer-motion\";\n\nclass MastersCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoad: false,\n      snackbar: null,\n      isChange: false,\n      activeMaster: {},\n      phone: \"\",\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.setState({ activeMaster: this.props.activeMaster }, () => {\n      if (this.props.activeMaster !== null) {\n        this.loadFavs();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.openModal(null);\n    if (this.state.isChange) {\n      //если были изменения пишем в бд при разрушении ДОМ дерева\n      let mastersList = this.props.mastersList;\n      let newMastersList = mastersList.map((master) => {\n        if (master._id === this.state.activeMaster._id) {\n          if (master.subscribers.includes(this.props.user._id)) {\n            master.subscribers = master.subscribers.filter(\n              (item) => item !== this.props.user._id\n            );\n          } else {\n            master.subscribers.push(this.props.user._id);\n          }\n          return master;\n        } else {\n          return master;\n        }\n      });\n      this.props.changeMastersList(newMastersList);\n      if (\n        this.props.activeMasterOnFindModels._id === this.state.activeMaster._id\n      ) {\n        let master = this.props.activeMasterOnFindModels;\n        if (master.subscribers.includes(this.props.user._id)) {\n          master.subscribers = master.subscribers.filter(\n            (item) => item !== this.props.user._id\n          );\n        } else {\n          master.subscribers.push(this.props.user._id);\n        }\n        this.props.changeActiveMasterOnFindModels(master);\n      }\n      postData(\n        BACKEND.users.like + this.state.activeMaster._id,\n        this.props.params\n      );\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  changeNumber = (event) => {\n    this.setState({ [event.target.name]: event.target.value }, this.openModal);\n  };\n\n  openShowImages(images, index) {\n    bridge\n      .send(\"VKWebAppShowImages\", {\n        images: images,\n        start_index: index,\n      })\n      .then((data) => console.log(data));\n  }\n\n  sendMessage = () => {\n    let data = {\n      params: this.props.params,\n      title: this.state.sendtitle,\n      phone: this.state.phone,\n    };\n    fetch(BACKEND.masters.connect + this.state.activeMaster._id, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.error) {\n          this.props.openModal(null);\n          this.openSnackAvatar(res.error, this.state.activeMaster.avatarLink);\n        } else {\n          this.props.openModal(null);\n          this.openSnackAvatar(\n            \"Мы уведомили мастера, что вы хотите с ним связаться. Ожидайте.\",\n            this.state.activeMaster.avatarLink\n          );\n        }\n      })\n      .catch((e) => {\n        this.props.openModal(null);\n        this.openSnackAvatar(e.message, this.state.activeMaster.avatarLink);\n      });\n  };\n\n  favStatus = () => {\n    if (this.state.isFavourite === false) {\n      return (\n        <Div\n          style={{ float: \"right\", padding: 0, marginRight: 20 }}\n          onClick={this.checkFavs}\n        >\n          <Icon16LikeOutline width={30} height={30} fill=\"red\" />\n        </Div>\n      );\n    } else {\n      return (\n        <Div\n          style={{ float: \"right\", padding: 0, marginRight: 20 }}\n          onClick={this.checkFavs}\n        >\n          <Icon16Like width={30} height={30} fill=\"red\" />\n        </Div>\n      );\n    }\n  };\n  connectStatus = (title) => {\n    return (\n      <CellButton\n        before={\n          <motion.div\n            initial={{ rotate: 0 }}\n            animate={{\n              rotate: [\n                10,\n                -10,\n                10,\n                -10,\n                10,\n                -10,\n                10,\n                -10,\n                10,\n                -10,\n                10,\n                -10,\n                10,\n                -10,\n              ],\n            }}\n            transition={{ duration: 1 }}\n          >\n            <Icon24Phone />\n          </motion.div>\n        }\n        onClick={() => this.enterNumber(title)}\n      >\n        Записаться\n      </CellButton>\n    );\n  };\n  share = () => {\n    bridge\n      .send(\"VKWebAppShare\", {\n        link:\n          \"https://m.vk.com/app7170938#masterid=\" + this.state.activeMaster._id,\n      })\n      .then((result) => {\n        if (result.type === \"VKWebAppShareResult\") {\n          this.openSnackAvatar(\n            \"Карточка мастера отправлена.\",\n            this.state.activeMaster.avatarLink\n          );\n        }\n      });\n  };\n\n  openSnackAvatar(text, avatarLink) {\n    if (this.state.snackbar) this.setState({ snackbar: null });\n    this.setState({\n      snackbar: (\n        <Snackbar\n          duration=\"3000\"\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbar: null })}\n          after={<Avatar src={avatarLink} size={32} />}\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  loadFavs = () => {\n    if (this.props.user.favs) {\n      if (this.props.user.favs.includes(this.state.activeMaster._id)) {\n        this.setState({ isFavourite: true });\n      } else {\n        this.setState({ isFavourite: false });\n      }\n    }\n    this.setState({\n      countFavs: this.state.activeMaster.subscribers.length,\n      isLoad: true,\n    });\n  };\n  changeVisible = (index) => {\n    this.setState({ [index]: !this.state[index] });\n  };\n  checkFavs = () => {\n    if (this.state.isFavourite === false) {\n      let user = this.props.user;\n      user.favs.push(this.state.activeMaster._id);\n      this.props.loginUser(user);\n      this.setState(\n        {\n          isFavourite: true,\n          countFavs: this.state.countFavs + 1,\n          isChange: !this.state.isChange,\n        },\n        () =>\n          this.openSnackAvatar(\n            \"Мастер добавлен в список избранных.\",\n            this.state.activeMaster.avatarLink\n          )\n      );\n    } else {\n      let user = this.props.user;\n      let index = this.props.user.favs.indexOf(this.state.activeMaster._id);\n      let favs = this.props.user.favs;\n      if (index > -1) {\n        favs.splice(index, 1);\n      } else favs.splice(0, index);\n      this.props.loginUser(user);\n      this.setState(\n        {\n          isFavourite: false,\n          countFavs: this.state.countFavs - 1,\n          isChange: !this.state.isChange,\n        },\n        () =>\n          this.openSnackAvatar(\n            \"Мастер удален из списка избранных.\",\n            this.state.activeMaster.avatarLink\n          )\n      );\n    }\n  };\n\n  getPhone = () => {\n    console.log(\"Запрашиваю номер\");\n    bridge\n      .send(\"VKWebAppGetPhoneNumber\", {\n        group_id: 193179174,\n        key: \"dBuBKe1kFcdemzB\",\n      })\n      .then((result) => {\n        this.setState({ phone: result.phone_number }, () => this.openModal());\n      })\n      .catch((e) => {\n        console.log(e);\n        this.openModal();\n      });\n  };\n\n  enterNumber = async (title) => {\n    this.setState({ sendtitle: title });\n    this.openModal();\n  };\n\n  openModal = () => {\n    console.log(\"Открываю модалку\");\n    this.props.openModal(\n      <ModalRoot\n        activeModal={\"phoneNumber\"}\n        onClose={() => this.props.openModal(null)}\n      >\n        <ModalCard\n          id={\"phoneNumber\"}\n          onClose={() => this.props.openModal(null)}\n          header=\"Укажите номер телефона\"\n          caption={\n            <FormLayout>\n              <Div className=\"FormField Input Input--center\">\n                <InputMask\n                  className=\"Input__el\"\n                  //mask=\"7 (999) 999-99-99\"\n                  name=\"phone\"\n                  type=\"number\"\n                  //defaultValue={number || ''}\n                  align=\"center\"\n                  value={this.state.phone}\n                  onChange={this.changeNumber}\n                  novalidate\n                />\n                <Div className=\"FormField__border\"></Div>\n              </Div>\n              {this.state.phone === \"\" && (\n                <CellButton\n                  onClick={() => {\n                    this.getPhone();\n                  }}\n                >\n                  Запросить номер\n                </CellButton>\n              )}\n              <p>\n                Укажите номер телефона, начиная с 7 (в формате 7ХХХХХХХХХХ).\n                Если мастер не сможет ответить прямо сейчас, он свяжется с вами.\n              </p>\n              <Button onClick={this.sendMessage}>Отправить</Button>\n            </FormLayout>\n          }\n        ></ModalCard>\n      </ModalRoot>\n    );\n  };\n\n  postData(url = \"\", data = {}, method) {\n    return fetch(url, {\n      method: method,\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(data),\n    }).then((response) => console.log(\"ok\"));\n  }\n\n  render() {\n    if (this.props.activeMaster === null) {\n      return (\n        <Panel id=\"masterInfo\">\n          <Head title={\"О мастере\"} goBack={() => this.props.goBack()} />\n          <Placeholder\n            icon={<Icon56AccessibilityOutline />}\n            header=\"Мы не знаем таких мастеров.\"\n          >\n            Мастер с таким идентификатором не найден.\n          </Placeholder>\n        </Panel>\n      );\n    } else if (this.props.activeMaster.error) {\n      return (\n        <Panel id=\"masterInfo\">\n          <Head title={\"О мастере\"} goBack={() => this.props.goBack()} />\n          <Placeholder\n            icon={<Icon56AccessibilityOutline />}\n            header=\"Тут никого нет :)\"\n          >\n            Мастер с таким идентификатором не найден.\n          </Placeholder>\n        </Panel>\n      );\n    }\n    if (this.state.isLoad === false) {\n      return <Spinner size=\"large\" style={{ marginTop: 20 }} />;\n    }\n    if (this.state.activeMaster.visible === false) {\n      return (\n        <Panel id=\"masterInfo\">\n          <Head title={\"О мастере\"} goBack={() => this.props.goBack()} />\n          <Placeholder\n            icon={<Icon56AccessibilityOutline />}\n            header=\"Тут никого нет :)\"\n          >\n            Мастер предпочел скрыть свой профиль.\n          </Placeholder>\n        </Panel>\n      );\n    } else {\n      return (\n        <Panel id=\"masterInfo\">\n          <Head title={\"О мастере\"} goBack={() => this.props.goBack()} />\n          <React.Fragment>\n            <Group separator={\"hide\"}>\n              <CardGrid>\n                <Card size=\"l\">\n                  <RichCell\n                    disabled\n                    multiline\n                    before={\n                      <Avatar\n                        src={this.state.activeMaster.avatarLink}\n                        size={90}\n                      />\n                    }\n                    text={\n                      <Caption\n                        level=\"2\"\n                        weight=\"regular\"\n                        style={{ marginBottom: 15 }}\n                      >\n                        {this.state.activeMaster.type === \"Организация\"\n                          ? this.state.activeMaster.brand\n                          : this.state.activeMaster.type}\n                      </Caption>\n                    }\n                    caption={\n                      <React.Fragment>\n                        <Button onClick={() => this.share()}>Поделиться</Button>\n                        {this.props.user.vkUid === this.state.activeMaster.vkUid\n                          ? null\n                          : this.favStatus()}\n                      </React.Fragment>\n                    }\n                  >\n                    {this.state.activeMaster.firstname}{\" \"}\n                    {this.state.activeMaster.lastname}\n                  </RichCell>\n                </Card>\n              </CardGrid>\n            </Group>\n            <Group>\n              <Cell\n                expandable\n                onClick={() => this.props.openComments()}\n                indicator={this.state.activeMaster.meta.comments || 0}\n                description={\"Подписчиков: \" + this.state.countFavs}\n              >\n                Отзывы\n              </Cell>\n            </Group>\n            <Group title=\"Портфолио\">\n              {this.state.activeMaster.photos.length > 0 ? (\n                <Group\n                  header={\n                    <Header mode=\"secondary\">Выполненые работы мастера</Header>\n                  }\n                >\n                  <CardScroll>\n                    {this.state.activeMaster.photos.map((photoUrl, index) => {\n                      return (\n                        <Card\n                          style={{ padding: 2, borderRadius: 13, margin: 0 }}\n                          size=\"s\"\n                          mode=\"shadow\"\n                          key={index}\n                          onClick={() =>\n                            this.openShowImages(\n                              this.state.activeMaster.photos,\n                              index\n                            )\n                          }\n                        >\n                          <div\n                            style={{\n                              width: 144,\n                              height: 96,\n                              backgroundImage: \"url(\" + photoUrl + \")\",\n                              backgroundSize: \"cover\",\n                              backgroundPosition: \"center 35%\",\n                              backgroundRepeat: \"no-repeat\",\n                              borderRadius: 13,\n                            }}\n                          />\n                        </Card>\n                      );\n                    })}\n                  </CardScroll>\n                  <Cell\n                    expandable\n                    onClick={() => this.props.openPhoto()}\n                    description={\n                      this.state.activeMaster.photos.length +\n                      \" фото в портфолио\"\n                    }\n                    indicator={this.state.activeMaster.photos.length}\n                  >\n                    Посмотреть сеткой\n                  </Cell>\n                </Group>\n              ) : (\n                <Placeholder\n                  icon={<Icon56GalleryOutline />}\n                  header=\"Нет фотографий\"\n                />\n              )}\n            </Group>\n            <Group\n              separator=\"hide\"\n              header={<Header mode=\"secondary\">Запись к мастеру</Header>}\n              description={\n                \"Выберите необходимую процедуру и нажмите на кнопку записи к мастеру. Мастер свяжется с Вами.\"\n              }\n            >\n              {this.state.activeMaster.priceList.map((item, index) => (\n                <CardGrid key={index}>\n                  <Card size=\"l\" onClick={() => this.changeVisible(index)}>\n                    <Cell\n                      description={\n                        item.price !== \"\"\n                          ? \"От \" + item.price + \" руб.\"\n                          : \"Стоимость не указана\"\n                      }\n                      asideContent={\n                        this.state[index] ? <Icon16Up /> : <Icon16Down />\n                      }\n                      indicator=\"\"\n                    >\n                      {this.state.activeMaster.priceList[index].title}\n                    </Cell>\n                    {this.state[index] && (\n                      <motion.div\n                        initial={{ opacity: 0, y: -1000 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, y: -1000 }}\n                      >\n                        <React.Fragment>\n                          <Cell\n                            description=\"Краткое описание процедуры\"\n                            multiline\n                          >\n                            {this.state.activeMaster.priceList[index].body}\n                          </Cell>\n                          {this.connectStatus(\n                            this.state.activeMaster.priceList[index].title\n                          )}\n                        </React.Fragment>\n                      </motion.div>\n                    )}\n                    <Separator />\n                  </Card>\n                </CardGrid>\n                // </Cell>\n              ))}\n            </Group>\n            <Group\n              separator=\"hide\"\n              header={<Header mode=\"secondary\">Информация о мастере</Header>}\n            >\n              <Cell multiline>{this.state.activeMaster.description}</Cell>\n            </Group>\n            {this.state.snackbar}\n          </React.Fragment>\n        </Panel>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    params: state.params,\n    mastersList: state.mastersList,\n    activeMasterOnFindModels: state.activeMasterOnFindModels,\n  };\n};\n\nconst putActionsToProps = (dispatch) => {\n  return {\n    loginUser: bindActionCreators(loginUser, dispatch),\n    changeMastersList: bindActionCreators(changeMastersList, dispatch),\n    changeActiveMasterOnFindModels: bindActionCreators(\n      changeActiveMasterOnFindModels,\n      dispatch\n    ),\n  };\n};\n\nexport default connect(putStateToProps, putActionsToProps)(MastersCard);\n","function postData(url = \"\", data = {}) {\n  fetch(url, {\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n    mode: \"cors\", // no-cors, cors, *same-origin\n    cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: \"same-origin\", // include, *same-origin, omit\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\", // manual, *follow, error\n    referrer: \"no-referrer\", // no-referrer, *client\n    body: JSON.stringify(data), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n  })\n    .then((res) => res.json())\n    .catch((e) => console.log(e));\n}\n\nfunction patchData(url = \"\", data = {}) {\n  // Значения по умолчанию обозначены знаком *\n  return fetch(url, {\n    method: \"PATCH\", // *GET, POST, PUT, DELETE, etc.\n    mode: \"cors\", // no-cors, cors, *same-origin\n    cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: \"same-origin\", // include, *same-origin, omit\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    redirect: \"follow\", // manual, *follow, error\n    referrer: \"no-referrer\", // no-referrer, *client\n    body: JSON.stringify(data), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n  })\n    .then((response) => {\n      console.log(\"ok\");\n    }) // парсит JSON ответ в Javascript объект\n    .catch((e) => console.log(e));\n}\n\nexport { postData, patchData };\n","import React from \"react\";\nimport { Group, Div, Cell, CardGrid, Card, Spinner } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nclass MastersCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeMaster: this.props.activeMaster,\n      isLoad: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ images: this.props.activeMaster.photos, isLoad: true });\n  }\n\n  openShowImages(images, index) {\n    bridge\n      .send(\"VKWebAppShowImages\", {\n        images: images,\n        start_index: index,\n      })\n      .then((data) => console.log(data));\n  }\n\n  gridPhoto() {\n    if (this.state.images.length === 0) {\n      return <Cell multiline>У мастера еще нет фотографий в портфолио</Cell>;\n    } else {\n      let imgArr = this.state.images;\n      return (\n        <CardGrid>\n          {imgArr.map((image, index) => {\n            return (\n              <Card\n                style={{ padding: 2, borderRadius: 13, margin: 0 }}\n                size=\"s\"\n                mode=\"shadow\"\n                key={index}\n                onClick={() => this.openShowImages(this.state.images, index)}\n              >\n                <div\n                  style={{\n                    height: 96,\n                    backgroundImage: \"url(\" + image + \")\",\n                    backgroundSize: \"cover\",\n                    backgroundPosition: \"center 35%\",\n                    backgroundRepeat: \"no-repeat\",\n                    borderRadius: 13,\n                  }}\n                />\n              </Card>\n            );\n          })}\n        </CardGrid>\n      );\n    }\n  }\n\n  render() {\n    if (this.state.isLoad === false) {\n      return <Spinner size=\"large\" style={{ marginTop: 20 }} />;\n    } else {\n      return (\n        <Div>\n          <Group title=\"Портфолио\">\n            <Group separator=\"hide\">{this.gridPhoto()}</Group>\n          </Group>\n        </Div>\n      );\n    }\n  }\n}\n\nexport default MastersCard;\n","import React, { useState, useEffect } from \"react\";\nimport Icon24FavoriteOutline from \"@vkontakte/icons/dist/24/favorite_outline\";\nimport Icon24Favorite from \"@vkontakte/icons/dist/24/favorite\";\nimport { Div } from \"@vkontakte/vkui\";\n\nfunction RatingStars(props) {\n  const [stars, setStars] = useState([]);\n  const activeStar = <Icon24Favorite width={22} height={22} fill={\"ffbb00\"} />;\n  const inactiveStar = (\n    <Icon24FavoriteOutline width={22} height={22} fill={\"ffbb00\"} />\n  );\n  useEffect(() => {\n    let starsArr = [];\n    for (let i = 1; i <= 5; i++) {\n      if (i <= props.countStars) {\n        starsArr.push(activeStar);\n      } else {\n        starsArr.push(inactiveStar);\n      }\n    }\n    setStars(starsArr);\n  }, []);\n  return (\n    <Div style={{ display: \"inline-flex\", padding: 0 }}>\n      {stars.map((star) => {\n        return star;\n      })}\n    </Div>\n  );\n}\n\nexport default RatingStars;\n","import React from \"react\";\nimport {\n  Group,\n  Div,\n  Cell,\n  Avatar,\n  Footer,\n  Button,\n  Textarea,\n  Spinner,\n  Separator,\n  FormLayout,\n  Snackbar,\n  FormLayoutGroup,\n} from \"@vkontakte/vkui\";\nimport { BACKEND } from \"../func/func\";\nimport Icon24CommentOutline from \"@vkontakte/icons/dist/24/comment_outline\";\nimport { connect } from \"react-redux\";\nimport Icon24FavoriteOutline from \"@vkontakte/icons/dist/24/favorite_outline\";\nimport Icon24Favorite from \"@vkontakte/icons/dist/24/favorite\";\nimport RatingStars from \"../elements/items/ratingStars\";\n\nclass MastersComments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rating: 0,\n      body: \"\",\n      isLoad: false,\n      snackbar: null,\n      stars: [],\n      onModer: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.changeStars();\n    fetch(BACKEND.comment.onMasterId + this.props.activeMaster._id)\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.ids.includes(this.props.user._id)) {\n          this.setState({ isCommended: true });\n        }\n        this.setState({\n          commentsArr: res.comments,\n          countComments: res.comments.length,\n          isLoad: true,\n          onModer: res.onModer,\n        });\n      })\n      .catch((e) => console.log(e));\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.rating !== this.state.rating) {\n      this.changeStars();\n    }\n  }\n\n  changeStars = () => {\n    let stars = [];\n    for (let i = 1; i <= 5; i++) {\n      if (i <= this.state.rating) {\n        stars.push(\n          <Icon24Favorite\n            width={36}\n            height={36}\n            id={i}\n            onClick={() => this.setState({ rating: i })}\n            fill={\"ffbb00\"}\n          />\n        );\n      } else {\n        stars.push(\n          <Icon24FavoriteOutline\n            width={36}\n            height={36}\n            id={i}\n            onClick={() => this.setState({ rating: i })}\n            fill={\"ffbb00\"}\n          />\n        );\n      }\n    }\n    this.setState({ stars: stars });\n  };\n\n  validCommentText = (text) => {\n    return !!(\n      (this.state.body.replace(/\\s+/g, \" \").replace(/(\\r?\\n){2,}/g, \"$1\")\n        .length <\n        101) &\n      (this.state.body.replace(/\\s+/g, \" \").replace(/(\\r?\\n){2,}/g, \"$1\")\n        .length >\n        19)\n    );\n  };\n\n  sendComment = () => {\n    try {\n      if (this.state.rating === 0) throw \"Укажите оценку работы мастера.\";\n      if (\n        this.state.body.replace(/\\s+/g, \" \").replace(/(\\r?\\n){2,}/g, \"$1\")\n          .length < 20\n      )\n        throw \"Короткий отзыв будет бесполезен для пользователей. Опишите Ваши впечатления подробнее.\";\n      if (\n        this.state.body.replace(/\\s+/g, \" \").replace(/(\\r?\\n){2,}/g, \"$1\")\n          .length > 100\n      )\n        throw \"Длина отзыва ограничена 100 символами.\";\n      let comment = {\n        rating: Number(this.state.rating),\n        body: this.state.body.replace(/(\\r?\\n){2,}/g, \"$1\"),\n        moderation: false,\n        params: this.props.params,\n      };\n      this.postData(\n        BACKEND.comment.new + this.props.activeMaster._id,\n        comment,\n        \"POST\"\n      );\n    } catch (e) {\n      console.log(e);\n      this.setState({\n        snackbar: (\n          <Snackbar\n            layout=\"vertical\"\n            onClose={() => this.setState({ snackbar: null })}\n          >\n            {e}\n          </Snackbar>\n        ),\n      });\n    }\n  };\n\n  postData(url = \"\", data = {}, method) {\n    return fetch(url, {\n      method: method,\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          this.setState({\n            isCommended: true,\n            onModer: this.state.onModer + 1,\n            snackbar: (\n              <Snackbar\n                layout=\"vertical\"\n                onClose={() => this.setState({ snackbar: null })}\n              >\n                Комментарий отправлен на модерацию. После проверки он появится в\n                профиле мастера.\n              </Snackbar>\n            ),\n          });\n        }\n      })\n      .catch((e) => {\n        if (this.state.snackbar) this.setState({ snackbar: null });\n        this.setState({\n          snackbar: (\n            <Snackbar\n              layout=\"vertical\"\n              onClose={() => this.setState({ snackbar: null })}\n            >\n              {e.message}\n            </Snackbar>\n          ),\n        });\n      });\n  }\n\n  getDate(comDate) {\n    if (comDate === \"Комментарий отправлен на проверку\") {\n      return comDate;\n    } else {\n      let date = new Date(comDate);\n      let hours = date.getHours();\n      if (hours < 10) hours = \"0\" + hours;\n      let minutes = date.getMinutes();\n      if (minutes < 10) minutes = \"0\" + minutes;\n      let date1 = date.getDate();\n      if (date1 < 10) date1 = \"0\" + date1;\n      let month = date.getMonth();\n      if (month < 10) month = \"0\" + month;\n      return (\n        date1 +\n        \".\" +\n        month +\n        \".\" +\n        date.getFullYear() +\n        \" в \" +\n        hours +\n        \":\" +\n        minutes\n      );\n    }\n  }\n\n  commentList() {\n    if (this.state.isLoad === false) {\n      return (\n        <Div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <Spinner size=\"large\" style={{ marginTop: 20 }} />\n        </Div>\n      );\n    } else {\n      return this.state.commentsArr.map((comment) => {\n        return (\n          <Group key={comment._id} separator={\"hide\"}>\n            <Cell\n              description={this.getDate(comment.date)}\n              before={<Avatar size={40} src={comment.user.avatarLink} />}\n            >\n              {comment.user.firstname + \" \" + comment.user.lastname}\n            </Cell>\n            <Cell multiline>\n              {comment.moderation === true ? (\n                comment.body\n              ) : (\n                <Cell before={<Icon24CommentOutline />}>\n                  Отзыв находится на модерации\n                </Cell>\n              )}\n            </Cell>\n            <Cell indicator={<RatingStars countStars={comment.rating} />}>\n              Оценка\n            </Cell>\n            <Separator />\n          </Group>\n        );\n      });\n    }\n  }\n\n  validate() {\n    if (this.state.isLoad === true) {\n      if (this.props.activeMaster.vkUid === this.props.user.vkUid) {\n        return (\n          <Div\n            style={{\n              fontSize: 12,\n              color: \"darkgray\",\n              webkitUserSelect: \"none\",\n              userSelect: \"none\",\n            }}\n          >\n            Нельзя оставлять комментарий на самого себя\n          </Div>\n        );\n      } else if (this.state.isCommended === true) {\n        return (\n          <Div\n            style={{\n              fontSize: 12,\n              color: \"darkgray\",\n              webkitUserSelect: \"none\",\n              userSelect: \"none\",\n            }}\n          >\n            Вы уже оставляли комментарий об этом мастере\n          </Div>\n        );\n      } else {\n        return (\n          <FormLayout>\n            <FormLayoutGroup>\n              <Cell description={\"Поставьте оценку мастеру\"}>\n                <Div style={{ display: \"inline-flex\" }}>\n                  {this.state.stars.map((star) => {\n                    return star;\n                  })}\n                </Div>\n              </Cell>\n            </FormLayoutGroup>\n            <Textarea\n              name={\"body\"}\n              status={\n                this.state.body.length > 0\n                  ? this.validCommentText(this.state.body) === true\n                    ? \"valid\"\n                    : \"error\"\n                  : null\n              }\n              value={this.state.body}\n              bottom={\n                \"Отзыв должен состоять от 20 до 100 символов. Сейчас \" +\n                this.state.body\n                  .replace(/\\s+/g, \" \")\n                  .replace(/(\\r?\\n){2,}/g, \"$1\").length +\n                \" из 100.\"\n              }\n              top={\"Добавление отзыва\"}\n              placeholder=\"Опишите, что вам понравилось или не понравилось в работе мастера\"\n              onChange={this.handleChange}\n            />\n            <Button mode=\"primary\" onClick={() => this.sendComment()}>\n              Добавить отзыв\n            </Button>\n          </FormLayout>\n        );\n      }\n    }\n  }\n\n  handleChange = (event) => {\n    let { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.onModer !== 0 ? (\n          <Cell\n            indicator={this.state.onModer}\n            before={<Icon24CommentOutline />}\n          >\n            Отзывов на модерации\n          </Cell>\n        ) : null}\n        {this.commentList()}\n        <Footer>{this.validate()}</Footer>\n        {this.state.snackbar}\n      </React.Fragment>\n    );\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    params: state.params,\n  };\n};\n\nexport default connect(putStateToProps)(MastersComments);\n","import React from \"react\";\nimport {\n  Card,\n  CardGrid,\n  Footer,\n  Group,\n  Header,\n  Spinner,\n  Title,\n} from \"@vkontakte/vkui\";\n\nconst NowCounter = ({ countMasters, countUsers }) => {\n  return (\n    <Group header={<Header mode=\"secondary\">С нами уже</Header>}>\n      <CardGrid>\n        <Card size=\"m\">\n          <div style={{ height: 50 }}>\n            <div style={{ textAlign: \"center\", padding: \"12%\" }}>\n              {countUsers ? (\n                <Title style={{ color: \"#a9a9a9\" }} level=\"1\" weight=\"heavy\">\n                  {countUsers}\n                </Title>\n              ) : (\n                <Spinner size=\"small\" />\n              )}\n            </div>\n          </div>\n          <Footer style={{ margin: 5 }}>Пользователей</Footer>\n        </Card>\n        <Card size=\"m\">\n          <div style={{ height: 50, position: \"relative\" }}>\n            <div style={{ textAlign: \"center\", padding: \"12%\" }}>\n              {countMasters ? (\n                <Title style={{ color: \"#a9a9a9\" }} level=\"1\" weight=\"heavy\">\n                  {countMasters}\n                </Title>\n              ) : (\n                <Spinner size=\"small\" />\n              )}\n            </div>\n          </div>\n          <Footer style={{ margin: 5 }}>Мастеров</Footer>\n        </Card>\n      </CardGrid>\n    </Group>\n  );\n};\n\nexport default NowCounter;\n","import React, { useState, useEffect } from \"react\";\nimport { Avatar, Card, CardGrid, Cell } from \"@vkontakte/vkui\";\nimport Icon24UserOutgoing from \"@vkontakte/icons/dist/24/user_outgoing\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nconst UserInfo = ({ master, openReg }) => {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  async function fetchData() {\n    const user = await bridge.send(\"VKWebAppGetUserInfo\");\n    setUser(user);\n  }\n  return user !== null ? (\n    <CardGrid>\n      <Card size=\"l\">\n        <Cell\n          photo=\"https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg\"\n          description={\n            master === null ? \"Пользователь\" : \"Авторизованный мастер\"\n          }\n          before={<Avatar src={user.photo_100} size={50} />}\n          size=\"l\"\n        >\n          {user.first_name} {user.last_name}\n        </Cell>\n        {master === null && (\n          <Cell\n            style={{ borderRadius: \"0 0 10px 10px\" }}\n            multiline\n            onClick={openReg}\n            before={<Icon24UserOutgoing />}\n            expandable\n          >\n            Если Вы — мастер, пройдите простую процедуру регистрации\n          </Cell>\n        )}\n      </Card>\n    </CardGrid>\n  ) : null;\n};\n\nexport default UserInfo;\n","import React, { useEffect, useState } from \"react\";\nimport { BACKEND } from \"../../func/func\";\nimport { Avatar, Banner, Button } from \"@vkontakte/vkui\";\nimport Icon56UserAddOutline from \"@vkontakte/icons/dist/56/user_add_outline\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nconst IsMember = ({ params }) => {\n  const [inGroup, setInGroup] = useState(1);\n  const joinGroup = () => {\n    bridge\n      .send(\"VKWebAppJoinGroup\", {\n        group_id: 193179174,\n      })\n      .then((res) => console.log(res))\n      .catch((e) => console.log(e));\n  };\n  useEffect(() => {\n    fetch(BACKEND.vkapi.isMember, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify({ params: params }),\n    })\n      .then((res) => res.json())\n      .then((res) => setInGroup(res.ingroup));\n  }, []);\n  return !inGroup ? (\n    <Banner\n      before={\n          <Avatar size={96}>\n              <Icon56UserAddOutline fill={\"#9fc6f3\"} />\n          </Avatar>\n      }\n      header=\"Будь в курсе новостей!\"\n      subheader=\"Подпишись на наше сообщество ВКонтакте и следи за нововведениями\"\n      actions={<Button onClick={joinGroup}>Подписаться</Button>}\n    />\n  ) : null;\n};\n\nexport default IsMember;\n","import React, { useEffect, useState } from \"react\";\nimport { Avatar, Banner, Button, Footer } from \"@vkontakte/vkui\";\nimport Icon56LikeOutline from \"@vkontakte/icons/dist/56/like_outline\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nconst FavApp = ({ isFav }) => {\n    const [favStatus, setFavStatus] = useState(1)\n  const addToFav = () => {\n    bridge\n      .send(\"VKWebAppAddToFavorites\", {})\n      .then((data) => {\n        if (data.result === true) {\n            setFavStatus(1)\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n    useEffect(()=>{\n        setFavStatus(isFav)\n    }, [])\n  return !favStatus ? (\n    <Banner\n      before={\n        <Avatar size={96}>\n          <Icon56LikeOutline fill={\"#9fc6f3\"} />\n        </Avatar>\n      }\n      subheader=\"Добавьте Навигатор красоты в список избранных приложений - все мастера будут всегда под рукой\"\n      actions={<Button onClick={addToFav}>Добавить в избранное</Button>}\n    />\n  ) : (\n    <Footer />\n  );\n};\n\nexport default FavApp;\n","import React from \"react\";\nimport {\n  Placeholder,\n  Group,\n  Avatar,\n  CardGrid,\n  Card,\n  CellButton,\n  PanelHeader,\n  Panel,\n  PromoBanner,\n} from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { connect } from \"react-redux\";\nimport NowCounter from \"./components/nowCounter\";\nimport UserInfo from \"./components/userInfo\";\nimport IsMember from \"./components/isMember\";\nimport FavApp from \"./components/favApp\";\nimport FeedList from \"./components/feedList\";\nimport { motion } from \"framer-motion\";\n\nclass News extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      promo: null,\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    if (this.props.params) {\n      this.setState({ isFav: Number(this.props.params.vk_is_favorite) });\n    }\n    fetch(\"https://mysterious-garden-57052.herokuapp.com/info/landing\")\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({\n          countMasters: data.countMasters,\n          countUsers: data.countUsers,\n        });\n      });\n    bridge.subscribe((e) => {\n      if (!e.detail) {\n        return;\n      }\n\n      const { type, data } = e.detail;\n\n      if (type === \"VKWebAppGetAdsResult\") {\n        this.setState({ promo: data });\n      }\n    });\n    bridge\n      .send(\"VKWebAppGetAds\", {})\n      .then((data) => console.log(\"ads\"))\n      .catch((e) => console.log(e));\n  }\n\n  feedList = () => {\n    return this.state.feed.map((feed) => {\n      return (\n        <CardGrid>\n          <Card key={feed} size=\"l\" mode=\"shadow\">\n            <div style={{ height: 96, backgroundColor: \"aliceblue\" }} />\n          </Card>\n        </CardGrid>\n      );\n    });\n  };\n\n  render() {\n    const { user } = this.props;\n    return (\n      <Panel id=\"news\">\n        <PanelHeader>Новости</PanelHeader>\n        <Group>\n          <motion.div initial={{ x: -1000 }} animate={{ x: 0 }}>\n            <Placeholder\n              icon={\n                <Avatar\n                  src=\"https://sun1-28.userapi.com/O4KZM7zfdhZ-zHP-LtRj_xrYiNSRdraBcCQe6Q/PLqKmK-NWTY.jpg?ava=1\"\n                  size={70}\n                />\n              }\n              header=\"Привет!\"\n            >\n              У нас можно найти бьюти-мастера или предложить свои услуги. База\n              мастеров в разных городах пополняется ежедневно.\n            </Placeholder>\n          </motion.div>\n          <UserInfo\n            user={user}\n            master={this.props.master}\n            openReg={this.props.openReg}\n          />\n          <NowCounter\n            countMasters={this.state.countMasters}\n            countUsers={this.state.countUsers}\n          />\n          <IsMember params={this.props.params} />\n          <FavApp isFav={+this.props.params.vk_is_favorite} />\n          {/*<FeedList/>*/}\n          {user.vkUid === \"199500866\" && (\n            <CellButton onClick={this.props.openModer}>Модерация</CellButton>\n          )}\n          {this.state.promo !== null ? (\n            <Card size=\"l\" mode=\"shadow\">\n              <PromoBanner\n                bannerData={this.state.promo}\n                onClose={() => this.setState({ promo: null })}\n              />\n            </Card>\n          ) : null}\n        </Group>\n      </Panel>\n    );\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    master: state.master,\n    params: state.params,\n  };\n};\n\nexport default connect(putStateToProps)(News);\n","import React from \"react\";\nimport {\n  Alert,\n  Avatar,\n  Banner,\n  Button,\n  Card,\n  CardGrid,\n  Cell,\n  CellButton,\n  Checkbox,\n  Div,\n  Footer,\n  FormLayout,\n  FormLayoutGroup,\n  Group,\n  Header,\n  Input,\n  Link,\n  List,\n  RichCell,\n  Select,\n  Separator,\n  Switch,\n  Textarea,\n} from \"@vkontakte/vkui\";\nimport { BACKEND } from \"../func/func\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { bindActionCreators } from \"redux\";\nimport { changeTargetCity, regSetInvite } from \"../store/actions\";\nimport Icon24Add from \"@vkontakte/icons/dist/24/add\";\nimport { connect } from \"react-redux\";\nimport Icon16Down from \"@vkontakte/icons/dist/16/down\";\nimport Icon16Up from \"@vkontakte/icons/dist/16/up\";\nimport Icon28Message from \"@vkontakte/icons/dist/28/message\";\n\nclass Invite extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: {},\n      activeMaster: {},\n      categories: [],\n      statusPhoto: false,\n      statusMessage: false,\n      checkLicense: false,\n      description: \"\",\n      priceList: [],\n      newProdTitle: \"\",\n      newProdBody: \"\",\n      newProdPrice: \"\",\n      qapi: false,\n      type: \"Частный мастер\",\n      brand: \"\",\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    if (this.props.regSet !== null) {\n      this.setState({\n        checkLicense: this.props.regSet.checkLicense,\n        description: this.props.regSet.description,\n        priceList: this.props.regSet.priceList,\n        type: this.props.regSet.type,\n        categories: this.props.regSet.categories,\n        brand: this.props.regSet.brand,\n      });\n    } else {\n      this.getCategories();\n    }\n  }\n\n  componentWillUnmount() {\n    const data = {};\n    data.checkLicense = this.state.checkLicense;\n    data.description = this.state.description;\n    data.priceList = this.state.priceList;\n    data.type = this.state.type;\n    data.categories = this.state.categories;\n    data.brand = this.state.brand;\n    this.props.regSetInvite(data);\n    this.props.setAlert(null);\n  }\n\n  deleteProcedure = (index) => {\n    this.props.setAlert(\n      <Alert\n        actionsLayout=\"vertical\"\n        actions={[\n          {\n            title: \"Удалить процедуру\",\n            autoclose: true,\n            mode: \"destructive\",\n            action: () => this.onRemove(index),\n          },\n          {\n            title: \"Отмена\",\n            autoclose: true,\n            mode: \"cancel\",\n          },\n        ]}\n        onClose={() => this.props.setAlert(null)}\n      >\n        <h2>Подтвердите действие</h2>\n        <p>Вы уверены, что хотите удалить выбранную процедуру?</p>\n      </Alert>\n    );\n  };\n\n  getCategories = () => {\n    fetch(BACKEND.category.getAll)\n      .then((res) => res.json())\n      .then((categories) => {\n        this.setState({ categories: categories });\n        categories.map((category) => {\n          this.setState({ [category._id]: false });\n        });\n      });\n  };\n\n  regMaster = () => {\n    try {\n      if (this.state.type === \"Частный мастер\") this.setState({ brand: \"\" });\n      if (this.props.targetCity === \"Не выбрано\")\n        throw \"Город не выбран. Вас не смогут найти.\";\n      if (this.state.statusMessage === false)\n        throw \"Предоставьте доступ на получение сообщений, чтобы мы уведомили вас о заказе.\";\n      if (this.state.description.replace(/ +/g, \" \").trim().length < 20)\n        throw 'Блок \"О себе\" должен содержать более 20-ти символов.';\n      if (this.state.description.replace(/ +/g, \" \").trim().length > 200)\n        throw 'Блок \"О себе\" должен содержать менее 200 символов.';\n      if (this.state.priceList.length < 1)\n        throw \"Добавьте как минимум одну процедуру, чтобы клиенты смогли записаться к вам.\";\n      if (!this.state.type)\n        throw \"Укажите тип исполнителя работ: Частное лицо или Организация.\";\n      if (this.state.brand !== \"\") {\n        if (this.state.brand.length > 25)\n          throw \"Длина названия организации ограничена 25 символами.\";\n      }\n      if (this.state.checkLicense === false)\n        throw \"Примите условия пользовательского соглашения, если желаете зарегистрироваться.\";\n      let cat = {\n        subcat: [],\n        category: [],\n      };\n      let categories = this.state.categories;\n      categories.map((category, index) => {\n        let countCat = category.subcat.filter(function (subcat) {\n          if (subcat.active === true) {\n            cat.subcat.push(subcat._id);\n            return subcat.active;\n          } else {\n            return null;\n          }\n        });\n        if (countCat.length > 0) {\n          cat.category.push({ id: category._id, label: category.label });\n          category.active = true;\n        } else {\n          category.active = false;\n        }\n      });\n      let master = {\n        description: this.state.description,\n        type: this.state.type,\n        location: {\n          country: this.props.user.location.country,\n          city: this.props.targetCity,\n        },\n        categories: cat,\n        brand: this.state.brand,\n        priceList: this.state.priceList,\n        params: this.props.params,\n      };\n      this.props.closeReg(master);\n    } catch (error) {\n      console.log(error);\n      this.props.snackbar(error);\n    }\n  };\n  addProd = (status) => {\n    this.setState({ add: status });\n  };\n\n  validateNewProdTitle(newProdTitle) {\n    if (newProdTitle === undefined) {\n      return { status: false, error: \"Не заполнено название процедуры.\" };\n    } else {\n      if (newProdTitle.replace(/ +/g, \" \").trim().length > 20) {\n        return { status: false, error: \"Недопустимая длина заголовка.\" };\n      } else {\n        if (newProdTitle.replace(/ +/g, \" \").trim().length < 2) {\n          return { status: false, error: \"Недопустимая длина заголовка.\" };\n        } else {\n          return { status: true };\n        }\n      }\n    }\n  }\n\n  validateNewProdBody(newProdBody) {\n    if (newProdBody === undefined) {\n      return { status: false, error: \"Не заполнено описание процедуры.\" };\n    } else {\n      if (newProdBody.replace(/ +/g, \" \").trim().length > 250) {\n        return { status: false, error: \"Недопустимая длина описания.\" };\n      } else {\n        if (newProdBody.replace(/ +/g, \" \").trim().length < 5) {\n          return { status: false, error: \"Недопустимая длина описания.\" };\n        } else {\n          return { status: true };\n        }\n      }\n    }\n  }\n\n  validateNewProdPrice(newProdPrice) {\n    if (newProdPrice === undefined) {\n      return { status: false, error: \"Не заполнена стоимость процедуры.\" };\n    } else {\n      if (\n        newProdPrice\n          .replace(/[\\s.,%]/g, \"\")\n          .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n          .replace(/^0+/, \"\")\n          .trim().length > 5\n      ) {\n        return {\n          status: false,\n          error:\n            \"Некорректная стоимость. Допустимы целые числа длиной от 1 до 5 символов.\",\n        };\n      } else {\n        if (\n          newProdPrice\n            .replace(/[\\s.,%]/g, \"\")\n            .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n            .replace(/^0+/, \"\")\n            .trim().length < 1\n        ) {\n          return {\n            status: false,\n            error:\n              \"Некорректная стоимость. Допустимы целые числа длиной от 1 до 5 символов.\",\n          };\n        } else {\n          if (\n            Number(\n              newProdPrice\n                .replace(/[\\s.,%]/g, \"\")\n                .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                .replace(/^0+/, \"\")\n            ) < 0\n          ) {\n            return {\n              status: false,\n              error: \"Нельзя указать отрицательную стоимость.\",\n            };\n          } else {\n            return { status: true };\n          }\n        }\n      }\n    }\n  }\n\n  saveProd = () => {\n    try {\n      let title = this.validateNewProdTitle(this.state.newProdTitle);\n      if (!title.status) throw title.error;\n\n      let body = this.validateNewProdBody(this.state.newProdBody);\n      if (!body.status) throw body.error;\n\n      let price = this.validateNewProdPrice(this.state.newProdPrice);\n      if (!price.status) throw price.error;\n\n      let priceList = this.state.priceList;\n      priceList.push({\n        title: this.state.newProdTitle,\n        body: this.state.newProdBody,\n        price: Number(this.state.newProdPrice.replace(/^0+/, \"\")),\n      });\n      this.setState({\n        priceList: priceList,\n        add: false,\n        newProdTitle: \"\",\n        newProdBody: \"\",\n        newProdPrice: \"\",\n      });\n    } catch (error) {\n      this.props.snackbar(error);\n    }\n  };\n  onRemove = (index) => {\n    let priceList = this.state.priceList;\n    priceList = [\n      ...this.state.priceList.slice(0, index),\n      ...this.state.priceList.slice(index + 1),\n    ];\n    this.setState({ priceList: priceList });\n  };\n  permMessage = () => {\n    bridge\n      .send(\"VKWebAppAllowMessagesFromGroup\", {\n        group_id: 193179174,\n        key: \"dBuBKe1kFcdemzB\",\n      })\n      .then((result) => {\n        this.setState({ statusMessage: result.result });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n  checkSubcat = (event) => {\n    const target = event.target;\n    const indexCat = target.name;\n    const indexSubcat = target.id;\n    let categories = this.state.categories;\n    categories[indexCat].subcat[indexSubcat].active = !this.state.categories[\n      indexCat\n    ].subcat[indexSubcat].active;\n    this.setState({ categories: categories });\n  };\n  counter = (index) => {\n    let countMass = this.state.categories[index].subcat.filter(function (item) {\n      if (item.active === true) {\n        return item.active;\n      } else {\n        return null;\n      }\n    });\n    return countMass.length;\n  };\n\n  handleChange(event) {\n    let { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  render() {\n    const warningGradient = \"linear-gradient(90deg, #ffb73d 0%, #ffa000 100%)\";\n    return (\n      <React.Fragment>\n        <Group>\n          <RichCell\n            before={<Avatar src={this.props.user.avatarLink} size={80} />}\n            caption=\"Регистрация мастера\"\n          >\n            {this.props.user.firstname + \" \" + this.props.user.lastname}\n          </RichCell>\n          <Separator />\n          <Cell\n            expandable\n            description=\"В котором Вы оказываете услуги\"\n            onClick={this.props.changeCity}\n            indicator={this.props.targetCity.title || \"Не выбран\"}\n            status={this.props.targetCity.title ? \"valid\" : \"error\"}\n            bottom={\n              this.props.targetCity.title\n                ? \"\"\n                : \"Пожалуйста, укажите город в котором вы работаете\"\n            }\n          >\n            Выбранный город\n          </Cell>\n          {this.state.statusMessage === false ? (\n            <Banner\n              before={\n                <Avatar>\n                  <Icon28Message />\n                </Avatar>\n              }\n              text=\"Разрешите доступ на получение личных сообщений от приложения, для получения уведомлений о заявках\"\n              actions={<Button onClick={this.permMessage}>Разрешить</Button>}\n            />\n          ) : null}\n        </Group>\n        <Group header={<Header mode=\"secondary\">О себе</Header>}>\n          <FormLayout>\n            <Textarea\n              name={\"description\"}\n              bottom={\n                this.state.description\n                  ? \"\"\n                  : \"Пожалуйста, напишите пару слов о себе\"\n              }\n              top=\"Расскажите немного о себе. Важно, чтобы клиенты Вам доверяли. (Не менее 20-ти символов)\"\n              status={\n                this.state.description.replace(/ +/g, \" \").trim().length > 0\n                  ? this.state.description.replace(/ +/g, \" \").trim().length >\n                      19 &&\n                    this.state.description.replace(/ +/g, \" \").trim().length <\n                      201\n                    ? \"valid\"\n                    : \"error\"\n                  : null\n              }\n              value={this.state.description}\n              onChange={this.handleChange}\n            />\n          </FormLayout>\n        </Group>\n        <Group header={<Header mode=\"secondary\">Сфера деятельности</Header>}>\n          <FormLayout>\n            <FormLayoutGroup\n              top=\"Укажите вид работы, в соответствии с тем, что Вы выполняете. Так Вас будет проще найти.\"\n              id={\"category\"}\n            >\n              {this.state.categories.map((category, i) => {\n                return (\n                  <Group key={category._id} separator=\"hide\">\n                    <Cell\n                      name={category._id}\n                      onClick={() =>\n                        this.setState({\n                          [category._id]: !this.state[category._id],\n                        })\n                      }\n                      indicator={\"Выбрано: \" + this.counter(i)}\n                      asideContent={\n                        this.state[category._id] ? <Icon16Up /> : <Icon16Down />\n                      }\n                    >\n                      {category.label}\n                    </Cell>\n                    {this.state[category._id] && (\n                      <Div>\n                        {category.subcat.map((subcategory, index, category) => {\n                          return (\n                            <Cell\n                              key={index}\n                              asideContent={\n                                <Switch\n                                  name={i}\n                                  id={index}\n                                  onChange={this.checkSubcat}\n                                  checked={subcategory.active}\n                                />\n                              }\n                            >\n                              {subcategory.label}\n                            </Cell>\n                          );\n                        })}\n                      </Div>\n                    )}\n                  </Group>\n                );\n              })}\n            </FormLayoutGroup>\n          </FormLayout>\n        </Group>\n        <Group header={<Header mode=\"secondary\">Прайс-лист</Header>}>\n          {this.state.priceList.length === 0 && (\n            <Banner\n              before={\n                <Avatar size={28} style={{ backgroundImage: warningGradient }}>\n                  <span style={{ color: \"#fff\" }}>!</span>\n                </Avatar>\n              }\n              header=\"Внимание:\"\n              subheader={\n                \"Вы еще не указали ни одной процедуры. Пока они не указаны, пользователи не смогут связаться с Вами.\"\n              }\n            />\n          )}\n          <CardGrid>\n            {this.state.priceList.map((item, index) => (\n              <Card size=\"l\" mode=\"shadow\">\n                <Cell key={item} multiline>\n                  <Cell description=\"Название процедуры\">\n                    {this.state.priceList[index].title}\n                  </Cell>\n                  <Cell description=\"Краткое описание процедуры\" multiline>\n                    {this.state.priceList[index].body}\n                  </Cell>\n                  <Cell description=\"Минимальная цена за работу\">\n                    {this.state.priceList[index].price}\n                  </Cell>\n                  <Button\n                    onClick={() => {\n                      this.deleteProcedure(index);\n                    }}\n                    size=\"xl\"\n                    mode=\"destructive\"\n                  >\n                    Удалить\n                  </Button>\n                </Cell>\n              </Card>\n            ))}\n          </CardGrid>\n          {this.state.add ? (\n            <Div>\n              <Cell description=\"Добавления нового элемента\" multiline>\n                <List>\n                  <Cell\n                    description={\n                      this.state.newProdTitle.replace(/ +/g, \" \").trim()\n                        .length + \"/20\"\n                    }\n                  >\n                    <Input\n                      require\n                      status={\n                        this.state.newProdTitle.length > 0\n                          ? this.validateNewProdTitle(this.state.newProdTitle)\n                              .status === true\n                            ? \"valid\"\n                            : \"error\"\n                          : null\n                      }\n                      name=\"newProdTitle\"\n                      type=\"text\"\n                      value={this.state.newProdTitle}\n                      placeholder={\"Введите название\"}\n                      onChange={this.handleChange}\n                    />\n                  </Cell>\n                  <Cell\n                    description={\n                      this.state.newProdBody.replace(/ +/g, \" \").trim().length +\n                      \"/250\"\n                    }\n                  >\n                    <Textarea\n                      require\n                      status={\n                        this.state.newProdBody.length > 0\n                          ? this.validateNewProdBody(this.state.newProdBody)\n                              .status\n                            ? \"valid\"\n                            : \"error\"\n                          : null\n                      }\n                      name=\"newProdBody\"\n                      value={this.state.newProdBody}\n                      placeholder={\"Укажите описание\"}\n                      onChange={this.handleChange}\n                    />\n                  </Cell>\n                  <Cell\n                    description={\n                      this.state.newProdPrice\n                        .replace(/[\\s.,%]/g, \"\")\n                        .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                        .replace(/^0+/, \"\")\n                        .trim().length + \"/5\"\n                    }\n                  >\n                    <Input\n                      require\n                      status={\n                        this.state.newProdPrice\n                          .replace(/[\\s.,%]/g, \"\")\n                          .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                          .replace(/^0+/, \"\").length > 0\n                          ? this.validateNewProdPrice(\n                              this.state.newProdPrice\n                                .replace(/[\\s.,%]/g, \"\")\n                                .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                                .replace(/^0+/, \"\")\n                            ).status\n                            ? \"valid\"\n                            : \"error\"\n                          : null\n                      }\n                      name=\"newProdPrice\"\n                      type=\"number\"\n                      value={this.state.newProdPrice\n                        .replace(/[\\s.,%]/g, \"\")\n                        .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                        .replace(/^0+/, \"\")}\n                      placeholder={\"Укажите цену\"}\n                      onChange={this.handleChange}\n                    />\n                  </Cell>\n                </List>\n              </Cell>\n              <Div style={{ display: \"flex\" }}>\n                <Button\n                  size=\"l\"\n                  stretched\n                  style={{ marginRight: 8 }}\n                  onClick={() => this.saveProd()}\n                >\n                  Сохранить\n                </Button>\n                <Button\n                  size=\"l\"\n                  stretched\n                  mode=\"destructive\"\n                  onClick={() => this.addProd(false)}\n                >\n                  Отменить\n                </Button>\n              </Div>\n            </Div>\n          ) : (\n            <Div>\n              <Button\n                stretched\n                size=\"l\"\n                mode=\"outline\"\n                onClick={() => this.addProd(true)}\n                before={<Icon24Add />}\n              >\n                Добавить процедуру\n              </Button>\n            </Div>\n          )}\n        </Group>\n        <Separator />\n        <FormLayout>\n          <Select\n            name={\"type\"}\n            top=\"Выберите тип оказания услуг\"\n            value={this.state.type}\n            bottom={\n              this.state.type ? \"\" : \"Пожалуйста, укажите тип оказания услуг\"\n            }\n            onChange={this.handleChange}\n          >\n            <option value=\"Частный мастер\">Частный мастер</option>\n            <option value=\"Организация\">Организация</option>\n          </Select>\n          {this.state.type === \"Организация\" && (\n            <FormLayoutGroup top=\"Укажите наименование организации в которой вы работаете\">\n              <Input\n                name={\"brand\"}\n                type=\"text\"\n                status={\n                  this.state.brand.length > 0\n                    ? this.state.brand.length < 26\n                      ? \"valid\"\n                      : \"error\"\n                    : null\n                }\n                value={this.state.brand}\n                onChange={this.handleChange}\n              />\n            </FormLayoutGroup>\n          )}\n          <Checkbox\n            checked={this.state.checkLicense}\n            onChange={() =>\n              this.setState({ checkLicense: !this.state.checkLicense })\n            }\n          >\n            Согласен c{\" \"}\n            <Link onClick={this.props.openRules}>\n              условиями использования приложения\n            </Link>\n          </Checkbox>\n          <Button size=\"xl\" onClick={this.regMaster}>\n            Зарегистрироваться как мастер\n          </Button>\n        </FormLayout>\n        <Footer />\n      </React.Fragment>\n    );\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    targetCity: state.targetCity,\n    user: state.user,\n    params: state.params,\n    regSet: state.regSet,\n  };\n};\n\nconst putActionsToProps = (dispatch) => {\n  return {\n    changeTargetCity: bindActionCreators(changeTargetCity, dispatch),\n    regSetInvite: bindActionCreators(regSetInvite, dispatch),\n  };\n};\n\nexport default connect(putStateToProps, putActionsToProps)(Invite);\n","import React from \"react\";\nimport {\n  Separator,\n  Avatar,\n  Cell,\n  List,\n  Group,\n  Banner,\n  Button,\n  Card,\n  CardGrid,\n  RichCell,\n  Caption,\n  Switch,\n  Spinner,\n  Header,\n  Div,\n  MiniInfoCell,\n  CardScroll,\n  Placeholder,\n  Panel,\n} from \"@vkontakte/vkui\";\nimport Icon24Story from \"@vkontakte/icons/dist/24/story\";\nimport Icon24Like from \"@vkontakte/icons/dist/24/like\";\nimport Icon24Search from \"@vkontakte/icons/dist/24/search\";\nimport Icon24Write from \"@vkontakte/icons/dist/24/write\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { connect } from \"react-redux\";\nimport Icon24ShareOutline from \"@vkontakte/icons/dist/24/share_outline\";\nimport Icon24StoryOutline from \"@vkontakte/icons/dist/24/story_outline\";\nimport { BACKEND } from \"../func/func\";\nimport Icon24List from \"@vkontakte/icons/dist/24/list\";\nimport Icon24Notification from \"@vkontakte/icons/dist/24/notification\";\nimport Icon56GalleryOutline from \"@vkontakte/icons/dist/56/gallery_outline\";\nimport Icon16Down from \"@vkontakte/icons/dist/16/down\";\nimport Icon16Up from \"@vkontakte/icons/dist/16/up\";\nimport html2canvas from \"html2canvas\";\n\nclass Lk extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      connection: false,\n      tmpUser: [],\n      isMaster: false,\n      isUser: false,\n      favsArr: [],\n      mastersArr: [],\n      countFavs: 0,\n      promo: null,\n      notifyStatus: null,\n    };\n  }\n\n  componentDidMount() {\n    fetch(BACKEND.vkapi.notyStatus, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify({ params: this.props.params }),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        this.setState({ notifyStatus: res });\n      })\n      .catch((e) => console.log(e));\n\n    bridge.subscribe((e) => {\n      if (!e.detail) {\n        return;\n      }\n\n      const { type, data } = e.detail;\n\n      if (type === \"VKWebAppGetAdsResult\") {\n        this.setState({ promo: data });\n      }\n\n      if (type === \"VKWebAppGetAdsFailed\") {\n        console.log(data.error_data);\n      }\n\n      if (type === \"VKWebAppShowWallPostBoxResult\") {\n        fetch(BACKEND.vkapi.repost, {\n          method: \"POST\",\n          mode: \"cors\",\n          cache: \"no-cache\",\n          credentials: \"same-origin\",\n          headers: { \"Content-Type\": \"application/json\" },\n          redirect: \"follow\",\n          referrer: \"no-referrer\",\n          body: JSON.stringify({ params: this.props.params }),\n        });\n      }\n\n      if (type === \"VKWebAppShowStoryBoxLoadFinish\") {\n        fetch(BACKEND.vkapi.stories, {\n          method: \"POST\",\n          mode: \"cors\",\n          cache: \"no-cache\",\n          credentials: \"same-origin\",\n          headers: { \"Content-Type\": \"application/json\" },\n          redirect: \"follow\",\n          referrer: \"no-referrer\",\n          body: JSON.stringify({ params: this.props.params }),\n        });\n      }\n\n      if (type === \"VKWebAppDenyNotificationsResult\") {\n        this.setState({ notifyStatus: false });\n      }\n\n      if (type === \"VKWebAppAllowNotificationsResult\") {\n        if (data.result === true) {\n          this.setState({ notifyStatus: true });\n          fetch(BACKEND.vkapi.push, {\n            method: \"POST\",\n            mode: \"cors\",\n            cache: \"no-cache\",\n            credentials: \"same-origin\",\n            headers: { \"Content-Type\": \"application/json\" },\n            redirect: \"follow\",\n            referrer: \"no-referrer\",\n            body: JSON.stringify({ params: this.props.params }),\n          });\n        }\n      }\n    });\n    bridge\n      .send(\"VKWebAppGetAds\", {})\n      .then((data) => console.log(\"Ads\"))\n      .catch((e) => console.log(e));\n  }\n\n  notifyChange = () => {\n    if (this.state.notifyStatus) {\n      bridge.send(\"VKWebAppDenyNotifications\");\n    } else {\n      bridge.send(\"VKWebAppAllowNotifications\");\n    }\n  };\n\n  wallPost = () => {\n    const link = \"https://vk.com/app7170938\";\n    let prodsArr = this.props.master.priceList.map((prod) => {\n      return \"&#9989;\" + prod.title + \"\\n\";\n    });\n    let prods = prodsArr.join(\"\");\n    bridge.send(\"VKWebAppShowWallPostBox\", {\n      attachments: link + \"#masterid=\" + this.props.master._id,\n      message:\n        \"&#128522; Приглашаю записаться на: \\n\" +\n        prods +\n        \"по специальным условиям в приложении Навигатор красоты. \\n\",\n      owner_id: this.props.master.vkUid,\n      copyright: link,\n    });\n  };\n\n  storiesPost = () => {\n    bridge.send(\"VKWebAppShowStoryBox\", {\n      background_type: \"image\",\n      url:\n        \"https://sun9-76.userapi.com/9CA7Ap-SWJm-bdeu9OWh1iXJP5BkaSbtx3zfKA/jcRS6sqPaP0.jpg\",\n      locked: true,\n      attachment: {\n        text: \"view\",\n        type: \"url\",\n        url: \"https://vk.com/app7170938#masterid=\" + this.props.master._id,\n      },\n      stickers: [\n        {\n          sticker_type: \"renderable\",\n          sticker: {\n            transform: {\n              relation_width: 0.9,\n              translation_y: 0.25,\n            },\n            can_delete: 0,\n            content_type: \"image\",\n            url:\n              \"https://sun9-11.userapi.com/W7ljJxZlpaMD9EPafPeujRRV61xv7evo4P3DrA/f1HJkZgc7W0.jpg\",\n            clickable_zones: [\n              {\n                // \"action_type\": \"app\",\n                action_type: \"link\",\n                action: {\n                  link:\n                    \"https://vk.com/app7170938#masterid=\" +\n                    this.props.master._id,\n                  tooltip_text_key: \"tooltip_open_page\",\n                },\n                clickable_area: [\n                  {\n                    x: 0,\n                    y: 0,\n                  },\n                  {\n                    x: 884,\n                    y: 0,\n                  },\n                  {\n                    x: 884,\n                    y: 196,\n                  },\n                  {\n                    x: 0,\n                    y: 196,\n                  },\n                ],\n              },\n            ],\n          },\n        },\n      ],\n    });\n  };\n\n  checkModeration = () => {\n    const warningGradient = \"linear-gradient(90deg, #ffb73d 0%, #ffa000 100%)\";\n    if (this.props.master.moderation.status === false) {\n      if (this.props.master.moderation.reasons.length > 0) {\n        return (\n          <Banner\n            before={\n              <Avatar size={28} style={{ backgroundImage: warningGradient }}>\n                <span style={{ color: \"#fff\" }}>!</span>\n              </Avatar>\n            }\n            header=\"Обнаружены ошибки:\"\n            subheader={\n              <React.Fragment>\n                {this.props.master.moderation.reasons.map((reason, index) => {\n                  return <Div>{reason}</Div>;\n                })}\n              </React.Fragment>\n            }\n            actions={\n              <Button mode=\"tertiary\" onClick={this.props.openSetting}>\n                Исправить\n              </Button>\n            }\n          />\n        );\n      } else {\n        return (\n          <Banner\n            before={\n              <Avatar size={28} style={{ backgroundImage: warningGradient }}>\n                <span style={{ color: \"#fff\" }}>!</span>\n              </Avatar>\n            }\n            header=\"Профиль на модерации\"\n            subheader={\n              <React.Fragment>\n                Ваш профиль на проверке. В течение суток он будет доступен в\n                поиске.\n              </React.Fragment>\n            }\n            //actions={<Button mode=\"tertiary\">Отменить заявку</Button>}\n          />\n        );\n      }\n    }\n  };\n\n  postData(url = \"\", data = {}) {\n    return fetch(url, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(data),\n    }).then((response) => console.log(\"ok\"));\n  }\n\n  addToFavApp = () => {\n    bridge.send(\"VKWebAppAddToFavorites\", {}).then((data) => console.log(data));\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Group separator={\"hide\"}>\n          {this.props.master !== null && this.checkModeration()}\n          <CardGrid>\n            <Card size=\"l\">\n              <RichCell\n                disabled\n                multiline\n                before={<Avatar src={this.props.user.avatarLink} size={45} />}\n                text={\n                  <Caption level=\"2\" weight=\"regular\">\n                    {this.props.master\n                      ? this.props.master.type\n                      : \"Пользователь\"}\n                  </Caption>\n                }\n                after={\n                  this.props.master !== null && (\n                    <Icon24Write onClick={this.props.openSetting} />\n                  )\n                }\n              >\n                {this.props.user.firstname + \" \" + this.props.user.lastname}\n              </RichCell>\n            </Card>\n          </CardGrid>\n        </Group>\n        <Group title=\"Основное\" separator={\"hide\"}>\n          <List>\n            <Cell\n              expandable\n              before={<Icon24Like />}\n              onClick={this.props.openFavourite}\n            >\n              Избранное\n            </Cell>\n          </List>\n        </Group>\n        {this.props.isFavourite === 0 ? (\n          <Banner\n            header=\"Мы избранные\"\n            subheader=\"Добавьте Навигатор красоты в список избранных приложений. Мы всего в одном клике от вас.\"\n            actions={\n              <Button onClick={() => this.addToFavApp()}>Добавить</Button>\n            }\n          />\n        ) : null}\n        {this.props.master !== null && (\n          <React.Fragment>\n            <Separator style={{ margin: \"12px 0\" }} />\n            <Group header={<Header mode=\"secondary\">Меню мастера</Header>}>\n              <List>\n                <Cell\n                  before={<Icon24Notification />}\n                  asideContent={\n                    this.state.notifyStatus === null ? (\n                      <Spinner size=\"small\" />\n                    ) : (\n                      <Switch\n                        name={\"notify\"}\n                        onChange={this.notifyChange}\n                        checked={this.state.notifyStatus}\n                      />\n                    )\n                  }\n                >\n                  Уведомления о заявках\n                </Cell>\n                <Cell\n                  expandable\n                  before={<Icon24List />}\n                  onClick={this.props.openHistory}\n                >\n                  История заявок\n                </Cell>\n                <Cell\n                  expandable\n                  before={<Icon24Story />}\n                  onClick={this.props.openMasterPhoto}\n                >\n                  Портфолио\n                </Cell>\n                <Cell\n                  expandable\n                  before={<Icon24Search />}\n                  onClick={this.props.openFindModel}\n                >\n                  Поиск модели\n                </Cell>\n              </List>\n              <Group\n                header={\n                  <Header mode=\"secondary\">Хотите больше просмотров?</Header>\n                }\n              >\n                <Div style={{ display: \"flex\" }}>\n                  <Button\n                    before={<Icon24ShareOutline />}\n                    size=\"m\"\n                    stretched\n                    mode=\"primary\"\n                    style={{ marginRight: 8 }}\n                    onClick={() => this.wallPost()}\n                  >\n                    На стену\n                  </Button>\n                  <Button\n                    before={<Icon24StoryOutline />}\n                    size=\"m\"\n                    stretched\n                    mode=\"primary\"\n                    onClick={() => this.storiesPost()}\n                  >\n                    В историю\n                  </Button>\n                </Div>\n              </Group>\n            </Group>\n          </React.Fragment>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    master: state.master,\n    params: state.params,\n  };\n};\n\nexport default connect(putStateToProps)(Lk);\n","import React from \"react\";\nimport {\n  Avatar,\n  RichCell,\n  Spinner,\n  Placeholder,\n  Link,\n  Cell,\n  Footer,\n  Group,\n  Div,\n  Header,\n  Button,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { BACKEND } from \"../func/func\";\nimport Head from \"../elements/panelHeader\";\nimport { connect } from \"react-redux\";\nimport Icon56PhoneOutline from \"@vkontakte/icons/dist/56/phone_outline\";\nimport Icon24ShareOutline from \"@vkontakte/icons/dist/24/share_outline\";\nimport Icon24StoryOutline from \"@vkontakte/icons/dist/24/story_outline\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nclass History extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      connectionList: [],\n      isLoaded: false,\n    };\n  }\n\n  componentDidMount() {\n    fetch(BACKEND.masters.history, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify({ params: this.props.params }),\n    })\n      .then((res) => res.json())\n      .then((res) => this.setState({ connectionList: res, isLoaded: true }))\n      .catch((e) => console.log(e));\n  }\n\n  getDate(comDate) {\n    let date = new Date(comDate);\n    let hours = date.getHours();\n    if (hours < 10) hours = \"0\" + hours;\n    let minutes = date.getMinutes();\n    if (minutes < 10) minutes = \"0\" + minutes;\n    let date1 = date.getDate();\n    if (date1 < 10) date1 = \"0\" + date1;\n    let month = date.getMonth();\n    if (month < 10) month = \"0\" + month;\n    return (\n      date1 +\n      \".\" +\n      month +\n      \".\" +\n      date.getFullYear() +\n      \" в \" +\n      hours +\n      \":\" +\n      minutes\n    );\n  }\n\n  wallPost = () => {\n    const link = \"https://vk.com/app7170938\";\n    let prodsArr = this.props.master.priceList.map((prod) => {\n      return \"&#9989;\" + prod.title + \"\\n\";\n    });\n    let prods = prodsArr.join(\"\");\n    bridge.send(\"VKWebAppShowWallPostBox\", {\n      attachments: link + \"#masterid=\" + this.props.master._id,\n      message:\n        \"&#128522; Приглашаю записаться на: \\n\" +\n        prods +\n        \"по специальным условиям в приложении Навигатор красоты. \\n\",\n      owner_id: this.props.master.vkUid,\n      copyright: link,\n    });\n  };\n\n  storiesPost = () => {\n    bridge.send(\"VKWebAppShowStoryBox\", {\n      background_type: \"image\",\n      url:\n        \"https://sun9-76.userapi.com/9CA7Ap-SWJm-bdeu9OWh1iXJP5BkaSbtx3zfKA/jcRS6sqPaP0.jpg\",\n      locked: true,\n      attachment: {\n        text: \"view\",\n        type: \"url\",\n        url: \"https://vk.com/app7170938#masterid=\" + this.props.master._id,\n      },\n      stickers: [\n        {\n          sticker_type: \"renderable\",\n          sticker: {\n            transform: {\n              relation_width: 0.9,\n              translation_y: 0.25,\n            },\n            can_delete: 0,\n            content_type: \"image\",\n            url:\n              \"https://sun9-11.userapi.com/W7ljJxZlpaMD9EPafPeujRRV61xv7evo4P3DrA/f1HJkZgc7W0.jpg\",\n            clickable_zones: [\n              {\n                // \"action_type\": \"app\",\n                action_type: \"link\",\n                action: {\n                  link:\n                    \"https://vk.com/app7170938#masterid=\" +\n                    this.props.master._id,\n                  tooltip_text_key: \"tooltip_open_page\",\n                },\n                clickable_area: [\n                  {\n                    x: 0,\n                    y: 0,\n                  },\n                  {\n                    x: 884,\n                    y: 0,\n                  },\n                  {\n                    x: 884,\n                    y: 196,\n                  },\n                  {\n                    x: 0,\n                    y: 196,\n                  },\n                ],\n              },\n            ],\n          },\n        },\n      ],\n    });\n  };\n\n  render() {\n    if (this.state.isLoaded === false) {\n      return (\n        <React.Fragment>\n          <Head title=\"История заявок\" goBack={() => this.props.goBack()} />\n          <Placeholder\n            stretched\n            icon={<Spinner size=\"large\" style={{ marginTop: 20 }} />}\n            header={\"Ищем-ищем...\"}\n          />\n        </React.Fragment>\n      );\n    } else if (this.state.connectionList.length === 0) {\n      return (\n        <React.Fragment>\n          <Head title=\"История заявок\" goBack={() => this.props.goBack()} />\n          <Placeholder\n            icon={<Icon56PhoneOutline />}\n            header=\"История заявок пуста\"\n            action={\n              <Div style={{ display: \"flex\" }}>\n                <Button\n                  before={<Icon24ShareOutline />}\n                  size=\"m\"\n                  stretched\n                  mode=\"primary\"\n                  style={{ marginRight: 8 }}\n                  onClick={() => this.wallPost()}\n                >\n                  На стену\n                </Button>\n                <Button\n                  before={<Icon24StoryOutline />}\n                  size=\"m\"\n                  stretched\n                  mode=\"primary\"\n                  onClick={() => this.storiesPost()}\n                >\n                  В историю\n                </Button>\n              </Div>\n            }\n            stretched\n          >\n            Поделитесь со своими подписчиками Вашим профилем в приложении\n            \"Навигатор красоты\"\n          </Placeholder>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <Head title=\"История\" goBack={() => this.props.goBack()} />\n          <Group separator=\"hide\">\n            {this.state.connectionList.map((connect) => {\n              return (\n                <Div>\n                  <RichCell\n                    before={<Avatar size={72} src={connect.user.avatarLink} />}\n                    text={connect.prod}\n                    caption={this.getDate(connect.date)}\n                    //bottom={<Button mode=\"destructive\">В черный список</Button>}\n                  >\n                    {connect.user.name}\n                  </RichCell>\n                  <Cell>\n                    <Link href={\"https://vk.com/id\" + connect.user.vkUid}>\n                      Ссылка на страницу ВКонтакте\n                    </Link>\n                  </Cell>\n                  <Cell>Номер телефона - {connect.user.phone}</Cell>\n                </Div>\n              );\n            })}\n            <Footer style={{ webkitUserSelect: \"none\", userSelect: \"none\" }}>\n              На этом все. Записей всего - {this.state.connectionList.length}.\n            </Footer>\n          </Group>\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    master: state.master,\n    params: state.params,\n  };\n};\n\nexport default connect(putStateToProps)(History);\n","import React from \"react\";\nimport {\n  Group,\n  Div,\n  File,\n  FormLayout,\n  CardGrid,\n  Card,\n  Snackbar,\n  Cell,\n  PanelSpinner,\n  Spinner,\n  CellButton,\n  Alert,\n  FixedLayout,\n  Placeholder,\n  Footer,\n  Button,\n} from \"@vkontakte/vkui\";\nimport { BACKEND } from \"../func/func.js\";\nimport Icon24Camera from \"@vkontakte/icons/dist/24/camera\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport fetchJsonp from \"fetch-jsonp\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { setMaster } from \"../store/actions\";\nimport Icon28WriteSquareOutline from \"@vkontakte/icons/dist/28/write_square_outline\";\nimport Icon56GalleryOutline from \"@vkontakte/icons/dist/56/gallery_outline\";\nimport Icon24Add from \"@vkontakte/icons/dist/24/add\";\nimport Head from \"../elements/panelHeader\";\n\nclass Portfolio extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeMaster: {},\n      photoArr: [],\n      isLoad: false,\n      photoFile: \"\",\n      images: [],\n      deleteMode: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ images: this.props.master.photos, isLoad: true });\n  }\n\n  componentWillUnmount() {\n    this.props.setAlert(null);\n  }\n\n  openSnack(text) {\n    if (this.state.snackbar) return;\n    this.setState({\n      snackbar: (\n        <Snackbar\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbar: null })}\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  openShowImages(images, index) {\n    bridge\n      .send(\"VKWebAppShowImages\", {\n        images: images,\n        start_index: index,\n      })\n      .then((data) => console.log(\"ok\"));\n  }\n\n  deletePhoto = (link) => {\n    this.props.setAlert(\n      <Alert\n        actionsLayout=\"vertical\"\n        actions={[\n          {\n            title: \"Удалить фотографию\",\n            autoclose: true,\n            mode: \"destructive\",\n            action: () => setTimeout(this.delete(link), 500),\n          },\n          {\n            title: \"Отмена\",\n            autoclose: true,\n            mode: \"cancel\",\n          },\n        ]}\n        onClose={() => this.props.setAlert(null)}\n      >\n        <h2>Подтвердите действие</h2>\n        <p>Вы уверены, что хотите удалить выбранную фотографию?</p>\n      </Alert>\n    );\n  };\n\n  delete = (link) => {\n    this.setState({ loading: true });\n    fetch(BACKEND.vkapi.delPhoto, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify({ params: this.props.params, photo: link }),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.status === \"success\") {\n          if (res.master.photos.length === 0)\n            this.setState({ deleteMode: false });\n          this.setState({ images: res.master.photos, loading: false });\n          this.props.setMaster(res.master);\n          this.props.setAlert(null);\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n\n  async getAlbum() {\n    const user_albums = encodeURI(\n      \"https://api.vk.com/method/photos.getAlbums?owner_id=\" +\n        this.props.params.vk_user_id +\n        \"&access_token=\" +\n        this.state.token +\n        \"&v=5.103\"\n    );\n    let album_id = null;\n    await fetchJsonp(user_albums)\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.response) {\n          res.response.items.map((album) => {\n            if (album.title === \"Навигатор красоты\") {\n              album_id = album.id;\n            }\n          });\n        }\n      })\n      .catch((e) => console.log(e));\n    if (album_id === null) {\n      return { status: \"none\" };\n    } else {\n      return { status: true, album_id: album_id };\n    }\n  }\n\n  uploadPhoto = async () => {\n    try {\n      let token = await this.getToken();\n      if (token === null) throw \"Ошибка. Не получен токен пользователя.\";\n      let selectedFile = document.getElementById(\"input\").files[0];\n      if (!selectedFile.type.match(\"image.*\"))\n        throw \"Допустимо загружать только изображения.\";\n      let getAlbum = await this.getAlbum();\n      if (getAlbum.status === false) throw \"Не получен альбом для загрузки.\";\n      let album;\n      if (getAlbum.status === \"none\") {\n        const create_album = encodeURI(\n          \"https://api.vk.com/method/photos.createAlbum?title=Навигатор красоты&access_token=\" +\n            this.state.token +\n            \"&v=5.103\"\n        );\n        await fetchJsonp(create_album)\n          .then((res) => res.json())\n          .then((res) => {\n            console.log(\"Создали альбом в ИД \", res.response.id);\n            album = res.response.id;\n          })\n          .catch((e) => console.log(e));\n      } else {\n        album = getAlbum.album_id;\n      }\n\n      const uploadServer = await this.getUploadServer(this.state.token, album);\n\n      if (uploadServer.status === false)\n        throw \"Ошибка. Не получена ссылка на загрузку фото.\";\n\n      this.setState({ loading: true });\n      const formData = new FormData();\n      formData.append(\n        \"master\",\n        this.props.master.firstname + \" \" + this.props.master.lastname\n      );\n      formData.append(\"uploadUrl\", uploadServer.url);\n      formData.append(\"token\", this.state.token);\n      formData.append(\"file1\", selectedFile);\n      formData.append(\"masterId\", this.props.master._id);\n      fetch(BACKEND.vkapi.uploadPhoto, {\n        method: \"POST\",\n        body: formData,\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          if (res.error) {\n            this.setState({ loading: false });\n            this.openSnack(res.error);\n          } else {\n            fetchJsonp(res.saveUrl, {\n              mode: \"no-cors\",\n              method: \"GET\",\n            })\n              .then((result) => result.json())\n              .then((result) => {\n                if (result.error) {\n                  this.setState({ loading: false });\n                  this.openSnack(`При сохранении фото возникла ошибка #${result.error.error_code}`);\n                } else {\n                  let savePh = {\n                    url: result.response[0].sizes[4].url,\n                    params: this.props.params,\n                  };\n                  fetch(BACKEND.vkapi.savePhoto, {\n                    method: \"POST\",\n                    mode: \"cors\",\n                    cache: \"no-cache\",\n                    credentials: \"same-origin\",\n                    headers: {\n                      \"Content-Type\": \"application/json\",\n                    },\n                    redirect: \"follow\",\n                    referrer: \"no-referrer\",\n                    body: JSON.stringify(savePh),\n                  })\n                    .then((res) => res.json())\n                    .then((res) => {\n                      if (res.error) {\n                        this.setState({ loading: false });\n                        this.openSnack(res.error);\n                      } else {\n                        let imgArr = this.state.images;\n                        imgArr.unshift(res.img);\n                        this.openSnack(\"Фото успешно загружено.\");\n                        this.setState({ images: imgArr, loading: false });\n                      }\n                    })\n                    .catch((e) => {\n                      this.setState({ loading: false });\n                      console.log(e);\n                    });\n                }\n              })\n              .catch((e) => {\n                this.setState({ loading: false });\n                console.log(e);\n              });\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.setState({ loading: false });\n          this.openSnack(\"Ошибка при загрузке.\");\n        });\n    } catch (e) {\n      console.log(e);\n      document.getElementById(\"input\").value = \"\";\n      this.openSnack(e || \"Какая-то ошибка. Попробуем еще разок?\");\n    }\n  };\n\n  getUploadServer = async (token, album) => {\n    return await bridge\n      .send(\"VKWebAppCallAPIMethod\", {\n        method: \"photos.getUploadServer\",\n        params: { album_id: album, v: \"5.103\", access_token: token },\n      })\n      .then((result) => {\n        this.setState({ uploadUrl: result.response.upload_url });\n        console.log(\"uploadUrl:\", result.response.upload_url)\n        return { status: true, url: result.response.upload_url };\n      })\n      .catch((e) => {\n        console.log(e);\n        return { status: false };\n      });\n  };\n\n  getToken = async () => {\n    return await bridge\n      .send(\"VKWebAppGetAuthToken\", { app_id: 7170938, scope: \"photos\" })\n      .then((result) => {\n        if (result.access_token) {\n          this.setState({ token: result.access_token });\n          return result.access_token;\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        return null;\n      });\n  };\n\n  gridPhoto() {\n    if (this.state.images.length > 0) {\n      return (\n        <CardGrid>\n          {this.state.images.map((image, index) => {\n            return (\n              <Card\n                style={{ padding: 2, borderRadius: 13, margin: 0 }}\n                size=\"s\"\n                mode=\"shadow\"\n                key={index}\n                onClick={\n                  this.state.deleteMode\n                    ? () => this.deletePhoto(image)\n                    : () => this.openShowImages(this.state.images, index)\n                }\n              >\n                <div\n                  style={{\n                    height: 96,\n                    backgroundImage: \"url(\" + image + \")\",\n                    backgroundSize: \"cover\",\n                    backgroundPosition: \"center 35%\",\n                    backgroundRepeat: \"no-repeat\",\n                    borderRadius: 13,\n                  }}\n                ></div>\n                {this.state.deleteMode ? (\n                  <div style={{ color: \"red\", textAlign: \"center\" }}>\n                    Удалить\n                  </div>\n                ) : null}\n              </Card>\n            );\n          })}\n        </CardGrid>\n      );\n    } else {\n      return (\n        <Placeholder\n          icon={<Icon56GalleryOutline />}\n          header=\"Фотографий еще нет\"\n        >\n          Разрешите доступ к разделу \"Фотографии\" и загрузите первое фото в Ваше\n          портфолио\n        </Placeholder>\n      );\n    }\n  }\n\n  render() {\n    if (this.state.isLoad === false) {\n      return <Spinner size=\"large\" style={{ marginTop: 20 }} />;\n    } else {\n      return (\n        <Div style={{ WebkitUserSelect: \"none\", userSelect: \"none\" }}>\n          <Head title={\"Портфолио\"} goBack={() => this.props.goBack(\"lk\")} />\n          {this.state.loading ? (\n            <Div style={{ webkitUserSelect: \"none\", userSelect: \"none\" }}>\n              <Cell multiline>Подождите немного...</Cell>\n              <PanelSpinner />\n            </Div>\n          ) : (\n            <React.Fragment>\n              <Div style={{ display: \"flex\" }}>\n                {this.state.deleteMode === false && (\n                  <File\n                    stretched\n                    before={<Icon24Add />}\n                    controlSize=\"l\"\n                    mode=\"outline\"\n                    onChange={this.uploadPhoto}\n                    id=\"input\"\n                    style={{ marginRight: 8 }}\n                  >\n                    Добавить\n                  </File>\n                )}\n                {this.state.images.length > 0 ? (\n                  this.state.deleteMode === false ? (\n                    <Button\n                      size=\"l\"\n                      mode=\"outline\"\n                      onClick={() => this.setState({ deleteMode: true })}\n                      before={<Icon28WriteSquareOutline />}\n                    >\n                      Редактировать\n                    </Button>\n                  ) : (\n                    <Button\n                      stretched\n                      size=\"l\"\n                      mode=\"outline\"\n                      onClick={() => this.setState({ deleteMode: false })}\n                      before={<Icon28WriteSquareOutline />}\n                    >\n                      Завершить редактирование\n                    </Button>\n                  )\n                ) : null}\n              </Div>\n              {this.gridPhoto()}\n            </React.Fragment>\n          )}\n          {this.state.snackbar}\n        </Div>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    master: state.master,\n    params: state.params,\n  };\n};\n\nconst putActionsToProps = (dispatch) => {\n  return {\n    setMaster: bindActionCreators(setMaster, dispatch),\n  };\n};\n\nexport default connect(putStateToProps, putActionsToProps)(Portfolio);\n","import React from \"react\";\nimport { Cell, MiniInfoCell, SimpleCell, Subhead } from \"@vkontakte/vkui\";\nimport { connect } from \"react-redux\";\n\nfunction indicator(city) {\n  if (city) {\n    return city === \"Не определено\" ? city : city.title;\n  }\n}\n\nfunction HeadCity(props) {\n  return (\n    <SimpleCell\n      expandable\n      onClick={props.changeCity}\n      indicator={\n        <Subhead weight=\"regular\">{indicator(props.targetCity)}</Subhead>\n      }\n    >\n      <Subhead weight=\"regular\">Выбранный город</Subhead>\n    </SimpleCell>\n  );\n}\n\nconst putStateToProps = (state) => {\n  return {\n    targetCity: state.targetCity,\n  };\n};\n\nexport default connect(putStateToProps)(HeadCity);\n","import React from \"react\";\nimport './loader.css'\nimport lak from './img/lak.png'\nimport lash from './img/lash.png'\nimport cut from './img/cut.png'\nimport kosm from './img/kosm.png'\nconst Loader = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"item item-1\">\n          <img src={lak} width={'50'} height={'50'}/>\n      </div>\n      <div className=\"item item-2\">\n          <img src={kosm} width={'50'} height={'50'}/>\n      </div>\n      <div className=\"item item-3\">\n          <img src={lash} width={'50'} height={'50'}/>\n      </div>\n      <div className=\"item item-4\">\n          <img src={cut} width={'50'} height={'50'}/>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\nimport {\n  Group,\n  Div,\n  Avatar,\n  Cell,\n  FormLayout,\n  Textarea,\n  Switch,\n  FormLayoutGroup,\n  Button,\n  CellButton,\n  Input,\n  CardGrid,\n  Card,\n  List,\n  Alert,\n  platform,\n  withModalRootContext,\n  Snackbar,\n  Placeholder,\n  Spinner,\n  Select,\n  RichCell,\n  Separator,\n  Banner,\n  Header,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { BACKEND } from \"../func/func\";\nimport Icon24Add from \"@vkontakte/icons/dist/24/add\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { setMaster } from \"../store/actions\";\nimport Icon24Dismiss from \"@vkontakte/icons/dist/24/dismiss\";\nimport Head from \"../elements/panelHeader\";\nimport Icon16Down from \"@vkontakte/icons/dist/16/down\";\nimport Icon16Up from \"@vkontakte/icons/dist/16/up\";\nimport HeadCity from \"../elements/headCity\";\nimport Icon56WifiOutline from \"@vkontakte/icons/dist/56/wifi_outline\";\nimport Loader from \"../elements/loader\"\n\nclass Setting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      about: \"non info\",\n      tooltip: true,\n      popout: null,\n      vkuid: \"\",\n      count: {\n        manicureStatus: 0,\n        pedicureStatus: 0,\n        eyelashesStatus: 0,\n        eyebrowsStatus: 0,\n        shugaringStatus: 0,\n        hairStatus: 0,\n        cosmeticStatus: 0,\n      },\n      category: [],\n      isLoad: false,\n      isMaster: false,\n      snackbar: null,\n      newProdTitle: \"\",\n      newProdBody: \"\",\n      newProdPrice: \"\",\n      editProdTitle: \"\",\n      editProdBody: \"\",\n      editProdPrice: \"\",\n      isChange: false,\n      type: \"Частный мастер\",\n      brand: \"\",\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.user.isMaster === true) {\n      if (this.props.master.brand !== null)\n        this.setState({ brand: this.props.master.brand });\n      this.setState({\n        master: this.props.master,\n        description: this.props.master.description,\n        type: this.props.master.type,\n      });\n      fetch(BACKEND.category.getAll)\n        .then((res) => res.json())\n        .then((categories) => {\n          this.setState({ categories: categories });\n          categories.map((category) => {\n            this.setState({ [category._id]: false });\n          });\n          this.setActive(this.props.master.categories.subcat);\n        })\n        .catch((e) => {\n          this.setState({ warnConnection: true });\n        });\n      if (this.props.master.changed) this.setState({ isChange: true });\n    }\n  }\n\n  componentWillUnmount() {\n    this.saveChanges();\n    this.props.setAlert(null);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.targetCity !== this.props.targetCity) {\n      let master = this.state.master;\n      master.location.city = this.props.targetCity;\n      this.setState({ master: master });\n    }\n  }\n\n  saveChanges = () => {\n    try {\n      if (this.state.type === \"Частный мастер\") this.setState({ brand: \"\" });\n      if (this.state.description.replace(/ +/g, \" \").trim().length < 20)\n        throw 'Блок \"О себе\" должен содержать более 20 символов.';\n      if (this.state.description.replace(/ +/g, \" \").trim().length > 200)\n        throw 'Блок \"О себе\" должен содержать не более 200 символов.';\n      if (this.state.master.priceList.length < 1)\n        throw \"Добавьте как минимум одну процедуру, чтобы клиенты смогли записаться к Вам.\";\n      if (this.state.brand !== \"\") {\n        if (this.state.brand.length > 25)\n          throw \"Длина названия организации ограничена 25 символами.\";\n      }\n      if (this.state.isChange === true) {\n        let master = this.state.master;\n        master.type = this.state.type;\n        master.brand = this.state.brand;\n        master.params = this.props.params;\n        this.patchData(BACKEND.masters.all + this.state.master._id, master);\n        this.props.setMaster(this.state.master);\n      }\n    } catch (e) {\n      this.props.snackbarDismiss(e);\n    }\n  };\n\n  setActive(subcat) {\n    if (Array.isArray(subcat)) {\n      this.state.categories.map((category) => {\n        this.setState({ [category._id]: false });\n        category.subcat.map((subcat) => {\n          if (this.state.master.categories.subcat.includes(subcat._id)) {\n            subcat.active = true;\n          }\n        });\n      });\n      this.setState({ isLoad: true });\n    }\n  }\n\n  deleteProcedure = (index) => {\n    this.setState({ isChange: true });\n    this.props.setAlert(\n      <Alert\n        actionsLayout=\"vertical\"\n        actions={[\n          {\n            title: \"Удалить процедуру\",\n            autoclose: true,\n            mode: \"destructive\",\n            action: () => this.onRemove(index),\n          },\n          {\n            title: \"Отмена\",\n            autoclose: true,\n            mode: \"cancel\",\n          },\n        ]}\n        onClose={() => this.props.setAlert(null)}\n      >\n        <h2>Подтвердите действие</h2>\n        <p>Вы уверены, что хотите удалить выбранную процедуру?</p>\n      </Alert>\n    );\n  };\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n    this.setState({ isChange: true });\n  };\n\n  patchData(url = \"\", activeMaster = {}) {\n    console.log(activeMaster);\n    this.state.categories.map((category) => {\n      let count = category.subcat.filter((subcat) => subcat.active === true)\n        .length;\n      category.active = count > 0;\n    });\n    activeMaster.description = this.state.description;\n    activeMaster.categories = {\n      subcat: [],\n      category: [],\n    };\n    this.state.categories.map((category) => {\n      if (category.active === true) {\n        activeMaster.categories.category.push({\n          id: category._id,\n          label: category.label,\n        });\n      }\n      category.subcat.map((subcat) => {\n        if (subcat.active === true) {\n          activeMaster.categories.subcat.push(subcat._id);\n        }\n      });\n    });\n    return fetch(url, {\n      method: \"PATCH\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(activeMaster),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        this.props.setMaster(res.master);\n      })\n      .catch((e) => console.log(e.message));\n  }\n\n  saveEdit = (index) => {\n    try {\n      let title = this.validateNewProdTitle(this.state.editProdTitle);\n      if (!title.status) throw title.error;\n\n      let body = this.validateNewProdBody(this.state.editProdBody);\n      if (!body.status) throw body.error;\n\n      let price = this.validateNewProdPrice(this.state.editProdPrice);\n      if (!price.status) throw price.error;\n\n      const editProd = {\n        title: this.state.editProdTitle,\n        body: this.state.editProdBody,\n        price: Number(\n          this.state.editProdPrice\n            .replace(/[\\s.,%]/g, \"\")\n            .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n            .replace(/^0+/, \"\")\n        ),\n      };\n\n      let master = this.state.master;\n      master.priceList.splice(index, 1, editProd);\n      this.setState({\n        master: master,\n        editProdTitle: \"\",\n        editProdBody: \"\",\n        editProdPrice: \"\",\n        edit: null,\n      });\n      this.setState({ isChange: true });\n    } catch (error) {\n      this.props.snackbarDismiss(error);\n    }\n  };\n\n  visible = (event) => {\n    const target = event.target;\n    const name = target.name;\n    let master = this.state.master;\n    master[name] = !master[name];\n    this.setState({ master: master });\n    this.props.setMaster(master);\n    this.setState({ isChange: true });\n  };\n  onRemove = (index) => {\n    let master = this.state.master;\n    master.priceList = [\n      ...this.state.master.priceList.slice(0, index),\n      ...this.state.master.priceList.slice(index + 1),\n    ];\n    this.setState({ master: master });\n    this.setState({ isChange: true });\n  };\n\n  openSnackDismiss(text) {\n    if (this.state.snackbar) this.setState({ snackbar: null });\n    this.setState({\n      snackbar: (\n        <Snackbar\n          before={<Icon24Dismiss />}\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbar: null })}\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  openSnack(text) {\n    if (this.state.snackbar) this.setState({ snackbar: null });\n    this.setState({\n      snackbar: (\n        <Snackbar\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbar: null })}\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  validateNewProdTitle(newProdTitle) {\n    if (newProdTitle === undefined) {\n      return { status: false, error: \"Не заполнено название процедуры.\" };\n    } else {\n      if (newProdTitle.replace(/ +/g, \" \").trim().length > 20) {\n        return { status: false, error: \"Недопустимая длина заголовка.\" };\n      } else {\n        if (newProdTitle.replace(/ +/g, \" \").trim().length < 2) {\n          return { status: false, error: \"Недопустимая длина заголовка.\" };\n        } else {\n          return { status: true };\n        }\n      }\n    }\n  }\n\n  validateNewProdBody(newProdBody) {\n    if (newProdBody === undefined) {\n      return { status: false, error: \"Не заполнено описание процедуры.\" };\n    } else {\n      if (newProdBody.replace(/ +/g, \" \").trim().length > 250) {\n        return { status: false, error: \"Недопустимая длина описания.\" };\n      } else {\n        if (newProdBody.replace(/ +/g, \" \").trim().length < 5) {\n          return { status: false, error: \"Недопустимая длина описания.\" };\n        } else {\n          return { status: true };\n        }\n      }\n    }\n  }\n\n  validateNewProdPrice(newProdPrice) {\n    if (newProdPrice === undefined) {\n      return { status: false, error: \"Не заполнена стоимость процедуры.\" };\n    } else {\n      if (\n        newProdPrice\n          .replace(/[\\s.,%]/g, \"\")\n          .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n          .replace(/^0+/, \"\")\n          .trim().length > 5\n      ) {\n        return {\n          status: false,\n          error:\n            \"Некорректная стоимость. Допустимы целые числа длиной от 1 до 5 символов.\",\n        };\n      } else {\n        if (\n          newProdPrice\n            .replace(/[\\s.,%]/g, \"\")\n            .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n            .replace(/^0+/, \"\")\n            .trim().length < 1\n        ) {\n          return {\n            status: false,\n            error:\n              \"Некорректная стоимость. Допустимы целые числа длиной от 1 до 5 символов.\",\n          };\n        } else {\n          if (\n            Number(\n              newProdPrice\n                .replace(/[\\s.,%]/g, \"\")\n                .replace(/[.\\/,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                .replace(/^0+/, \"\")\n            ) < 0\n          ) {\n            return {\n              status: false,\n              error: \"Нельзя указать отрицательную стоимость.\",\n            };\n          } else {\n            return { status: true };\n          }\n        }\n      }\n    }\n  }\n\n  saveProd = () => {\n    try {\n      let title = this.validateNewProdTitle(this.state.newProdTitle);\n      if (!title.status) throw title.error;\n\n      let body = this.validateNewProdBody(this.state.newProdBody);\n      if (!body.status) throw body.error;\n\n      let price = this.validateNewProdPrice(this.state.newProdPrice);\n      if (!price.status) throw price.error;\n\n      let master = this.state.master;\n      master.priceList.push({\n        title: this.state.newProdTitle,\n        body: this.state.newProdBody,\n        price: Number(\n          this.state.newProdPrice\n            .replace(/[\\s.,%]/g, \"\")\n            .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n            .replace(/^0+/, \"\")\n        ),\n      });\n      this.setState({\n        master: master,\n        add: false,\n        newProdTitle: \"\",\n        newProdBody: \"\",\n        newProdPrice: \"\",\n      });\n      this.setState({ isChange: true });\n    } catch (error) {\n      this.props.snackbarDismiss(error);\n    }\n  };\n\n  counter = (index) => {\n    let countMass = this.state.categories[index].subcat.filter((subcat) => {\n      if (subcat.active === true) {\n        return subcat.label;\n      }\n    });\n    return countMass.length;\n  };\n  checkBan = () => {\n    if (this.state.master.banned.status === true) {\n      return (\n        <Cell multiline>\n          Ваш профиль сейчас не выводится в поиске, так-как обнаружены\n          нарушения. Для возобновления доступа - исправьте их. Информация\n          отправлена в личные сообщения.\n        </Cell>\n      );\n    } else {\n      return (\n        <Cell\n          asideContent={\n            <Switch\n              name={\"visible\"}\n              onChange={this.visible}\n              checked={this.state.master.visible}\n            />\n          }\n          description=\"Видимость в указанном городе\"\n        >\n          Показывать профиль\n        </Cell>\n      );\n    }\n  };\n\n  checkSubcat = (event) => {\n    const target = event.target;\n    const indexCat = target.name;\n    const indexSubcat = target.id;\n    let categories = this.state.categories;\n    categories[indexCat].subcat[indexSubcat].active = !this.state.categories[\n      indexCat\n    ].subcat[indexSubcat].active;\n    this.setState({ categories: categories });\n  };\n\n  statusProfile = () => {\n    if (this.state.master.moderation.status === false) {\n      return \"На модерации\";\n    } else if (this.state.master.visible === false) {\n      return \"Ваш профиль не выводится в поиске\";\n    } else {\n      return \"Ваш профиль доступен в поиске\";\n    }\n  };\n\n  render() {\n    const warningGradient = \"linear-gradient(90deg, #ffb73d 0%, #ffa000 100%)\";\n    if (this.state.warnConnection) {\n      return (\n        <React.Fragment>\n          <HeadCity changeCity={() => this.props.changeCity()} />\n          <Placeholder\n            stretched\n            icon={<Icon56WifiOutline />}\n            header={\"Что-то не так!\"}\n          >\n            Проверьте интернет-соединение.\n          </Placeholder>\n        </React.Fragment>\n      );\n    } else if (this.state.isLoad === false) {\n      return (\n        <React.Fragment>\n          <Head title=\"Настройки\" goBack={() => this.props.goBack(\"lk\")} />\n          <Placeholder\n            stretched\n            icon={<Loader/>}\n            header={\"Загружаю...\"}\n          />\n        </React.Fragment>\n      );\n    }\n    if (this.props.user.isMaster === false) {\n      return null;\n    } else {\n      return (\n        <React.Fragment>\n          <Head\n            title=\"Настройки\"\n            goBack={() => {\n              try {\n                if (\n                  this.state.description.replace(/ +/g, \" \").trim().length < 20\n                )\n                  throw 'Блок \"О себе\" должен содержать более 20 символов.';\n                if (\n                  this.state.description.replace(/ +/g, \" \").trim().length > 200\n                )\n                  throw 'Блок \"О себе\" должен содержать не более 200 символов.';\n                if (this.state.master.priceList.length < 1)\n                  throw \"Добавьте как минимум одну процедуру, чтобы клиенты смогли записаться к Вам.\";\n                this.props.goBack(\"lk\");\n              } catch (e) {\n                this.props.snackbarDismiss(e);\n              }\n            }}\n          />\n          <RichCell\n            before={<Avatar src={this.state.master.avatarLink} size={72} />}\n            caption={this.statusProfile()}\n          >\n            {this.state.master.firstname + \" \" + this.state.master.lastname}\n          </RichCell>\n          <Separator />\n          <Cell\n            expandable\n            description=\"В котором Вы оказываете услуги\"\n            onClick={() => {\n              try {\n                if (\n                  this.state.description.replace(/ +/g, \" \").trim().length < 20\n                )\n                  throw 'Блок \"О себе\" должен содержать более 20 символов.';\n                if (\n                  this.state.description.replace(/ +/g, \" \").trim().length > 201\n                )\n                  throw 'Блок \"О себе\" должен содержать не более 200 символов.';\n                if (this.state.master.priceList.length < 1)\n                  throw \"Добавьте как минимум одну процедуру, чтобы клиенты смогли записаться к Вам.\";\n                this.props.changeCity();\n              } catch (e) {\n                this.props.snackbarDismiss(e);\n              }\n            }}\n            indicator={\n              this.state.master.location.city === typeof String\n                ? \"Не выбрано\"\n                : this.state.master.location.city.title\n            }\n          >\n            Выбранный город\n          </Cell>\n          <Group>{this.checkBan()}</Group>\n          <Group header={<Header mode=\"secondary\">Прайс-лист</Header>}>\n            {this.state.master.priceList.length === 0 && (\n              <Banner\n                before={\n                  <Avatar\n                    size={28}\n                    style={{ backgroundImage: warningGradient }}\n                  >\n                    <span style={{ color: \"#fff\" }}>!</span>\n                  </Avatar>\n                }\n                header=\"Внимание:\"\n                subheader={\n                  \"Вы еще не указали ни одной процедуры. Пока они не указаны, пользователи не смогут связаться с Вами.\"\n                }\n              />\n            )}\n            <CardGrid>\n              {this.state.master.priceList.map((item, index) => (\n                <Card size=\"l\" mode=\"shadow\" key={index}>\n                  <Cell multiline>\n                    <Cell description=\"Название процедуры\">\n                      {this.state.edit === index ? (\n                        <Input\n                          name=\"editProdTitle\"\n                          onChange={this.handleChange}\n                          defaultValue={\n                            this.state.master.priceList[index].title\n                          }\n                          value={this.state.editProdTitle}\n                          status={\n                            this.validateNewProdTitle(this.state.editProdTitle)\n                              .status === true\n                              ? \"valid\"\n                              : \"error\"\n                          }\n                        />\n                      ) : (\n                        this.state.master.priceList[index].title\n                      )}\n                    </Cell>\n                    <Cell description=\"Краткое описание процедуры\" multiline>\n                      {this.state.edit === index ? (\n                        <Input\n                          name=\"editProdBody\"\n                          onChange={this.handleChange}\n                          defaultValue={this.state.master.priceList[index].body}\n                          value={this.state.editProdBody}\n                          status={\n                            this.validateNewProdBody(this.state.editProdBody)\n                              .status\n                              ? \"valid\"\n                              : \"error\"\n                          }\n                        />\n                      ) : (\n                        this.state.master.priceList[index].body\n                      )}\n                    </Cell>\n                    <Cell description=\"Минимальная цена за работу\">\n                      {this.state.edit === index ? (\n                        <Input\n                          name=\"editProdPrice\"\n                          type=\"number\"\n                          onChange={this.handleChange}\n                          defaultValue={\n                            this.state.master.priceList[index].price\n                          }\n                          value={this.state.editProdPrice\n                            .replace(/[\\s.,%]/g, \"\")\n                            .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                            .replace(/^0+/, \"\")}\n                          status={\n                            this.validateNewProdPrice(\n                              this.state.editProdPrice\n                                .replace(/[\\s.,%]/g, \"\")\n                                .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                                .replace(/^0+/, \"\")\n                            ).status\n                              ? \"valid\"\n                              : \"error\"\n                          }\n                        />\n                      ) : (\n                        this.state.master.priceList[index].price\n                      )}\n                    </Cell>\n                    {this.state.edit === index ? (\n                      <Div style={{ display: \"flex\" }}>\n                        <Button\n                          stretched\n                          style={{ marginRight: 8 }}\n                          onClick={() => this.setState({ edit: null })}\n                          size=\"l\"\n                          mode=\"destructive\"\n                        >\n                          Отменить\n                        </Button>\n                        <Button\n                          size=\"l\"\n                          stretched\n                          onClick={() => this.saveEdit(index)}\n                          mode=\"secondary\"\n                        >\n                          Сохранить\n                        </Button>\n                      </Div>\n                    ) : (\n                      <Div style={{ display: \"flex\" }}>\n                        <Button\n                          stretched\n                          style={{ marginRight: 8 }}\n                          onClick={() => this.deleteProcedure(index)}\n                          size=\"l\"\n                          mode=\"destructive\"\n                        >\n                          Удалить\n                        </Button>\n                        <Button\n                          size=\"l\"\n                          stretched\n                          onClick={() => {\n                            this.setState({\n                              editProdTitle: this.state.master.priceList[index]\n                                .title,\n                              editProdBody: this.state.master.priceList[index]\n                                .body,\n                              editProdPrice: String(\n                                this.state.master.priceList[index].price\n                              ),\n                              edit: index,\n                              add: false,\n                            });\n                          }}\n                          mode=\"secondary\"\n                        >\n                          Редактировать\n                        </Button>\n                      </Div>\n                    )}\n                  </Cell>\n                </Card>\n              ))}\n            </CardGrid>\n            {this.state.add ? (\n              <Div style={{ WebkitUserSelect: \"none\", userSelect: \"none\" }}>\n                <Cell description=\"Добавления нового элемента\" multiline>\n                  <List>\n                    <Cell\n                      description={\n                        this.state.newProdTitle.replace(/ +/g, \" \").trim()\n                          .length + \"/20\"\n                      }\n                    >\n                      <Input\n                        require\n                        status={\n                          this.state.newProdTitle.length > 0\n                            ? this.validateNewProdTitle(this.state.newProdTitle)\n                                .status === true\n                              ? \"valid\"\n                              : \"error\"\n                            : null\n                        }\n                        name=\"newProdTitle\"\n                        type=\"text\"\n                        value={this.state.newProdTitle}\n                        placeholder={\"Введите название\"}\n                        onChange={this.handleChange}\n                      />\n                    </Cell>\n                    <Cell\n                      description={\n                        this.state.newProdBody.replace(/ +/g, \" \").trim()\n                          .length + \"/250\"\n                      }\n                    >\n                      <Textarea\n                        require\n                        status={\n                          this.state.newProdBody.length > 0\n                            ? this.validateNewProdBody(this.state.newProdBody)\n                                .status\n                              ? \"valid\"\n                              : \"error\"\n                            : null\n                        }\n                        name=\"newProdBody\"\n                        value={this.state.newProdBody}\n                        placeholder={\"Укажите описание\"}\n                        onChange={this.handleChange}\n                      />\n                    </Cell>\n                    <Cell\n                      description={\n                        this.state.newProdPrice\n                          .replace(/[\\s.,%]/g, \"\")\n                          .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                          .replace(/^0+/, \"\")\n                          .trim().length + \"/5\"\n                      }\n                    >\n                      <Input\n                        require\n                        status={\n                          this.state.newProdPrice\n                            .replace(/[\\s.,%]/g, \"\")\n                            .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                            .replace(/^0+/, \"\").length > 0\n                            ? this.validateNewProdPrice(\n                                this.state.newProdPrice\n                                  .replace(/[\\s.,%]/g, \"\")\n                                  .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                                  .replace(/^0+/, \"\")\n                              ).status\n                              ? \"valid\"\n                              : \"error\"\n                            : null\n                        }\n                        name=\"newProdPrice\"\n                        type=\"number\"\n                        value={this.state.newProdPrice\n                          .replace(/[\\s.,%]/g, \"\")\n                          .replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\")\n                          .replace(/^0+/, \"\")}\n                        placeholder={\"Укажите цену\"}\n                        onChange={this.handleChange}\n                      />\n                    </Cell>\n                  </List>\n                </Cell>\n                <Div\n                  style={{\n                    display: \"flex\",\n                    WebkitUserSelect: \"none\",\n                    userSelect: \"none\",\n                  }}\n                >\n                  <Button\n                    size=\"l\"\n                    stretched\n                    mode=\"destructive\"\n                    style={{ marginRight: 8 }}\n                    onClick={() => this.setState({ add: false })}\n                  >\n                    Отменить\n                  </Button>\n                  <Button size=\"l\" stretched onClick={() => this.saveProd()}>\n                    Сохранить\n                  </Button>\n                </Div>\n              </Div>\n            ) : (\n              <Div>\n                <Button\n                  stretched\n                  size=\"l\"\n                  mode=\"outline\"\n                  onClick={() => this.setState({ add: true, edit: null })}\n                  before={<Icon24Add />}\n                >\n                  Добавить процедуру\n                </Button>\n              </Div>\n            )}\n          </Group>\n          <Group header={<Header mode=\"secondary\">О себе</Header>}>\n            <FormLayout>\n              <Textarea\n                name={\"description\"}\n                status={\n                  this.state.description.replace(/ +/g, \" \").trim().length >\n                    19 &&\n                  this.state.description.replace(/ +/g, \" \").trim().length < 201\n                    ? \"valid\"\n                    : \"error\"\n                }\n                bottom={\n                  this.state.description.replace(/ +/g, \" \").trim().length > 1\n                    ? \"\"\n                    : \"Пожалуйста, напишите пару слов о себе\"\n                }\n                top=\"Расскажите немного о себе. Важно, чтобы клиенты Вам доверяли. (Не менее 20-ти символов)\"\n                value={this.state.description}\n                onChange={this.handleChange}\n              />\n            </FormLayout>\n          </Group>\n          <Group header={<Header mode=\"secondary\">Сфера деятельности</Header>}>\n            <FormLayout>\n              <FormLayoutGroup\n                top=\"Укажите вид работы, в соответствии с тем, что Вы выполняете. Так Вас будет проще найти.\"\n                id={\"category\"}\n              >\n                {this.state.categories.map((category, i) => {\n                  return (\n                    <Group key={category._id}>\n                      <Cell\n                        name={category._id}\n                        onClick={() =>\n                          this.setState({\n                            [category._id]: !this.state[category._id],\n                          })\n                        }\n                        indicator={\"Выбрано: \" + this.counter(i)}\n                        asideContent={\n                          this.state[category._id] ? (\n                            <Icon16Up />\n                          ) : (\n                            <Icon16Down />\n                          )\n                        }\n                      >\n                        {category.label}\n                      </Cell>\n                      {this.state[category._id] && (\n                        <Div\n                          style={{\n                            WebkitUserSelect: \"none\",\n                            userSelect: \"none\",\n                          }}\n                        >\n                          {category.subcat.map(\n                            (subcategory, index, category) => {\n                              return (\n                                <Cell\n                                  key={index}\n                                  asideContent={\n                                    <Switch\n                                      name={i}\n                                      id={index}\n                                      onChange={(event) => {\n                                        this.setState({ isChange: true });\n                                        this.checkSubcat(event);\n                                      }}\n                                      checked={subcategory.active}\n                                    />\n                                  }\n                                >\n                                  {subcategory.label}\n                                </Cell>\n                              );\n                            }\n                          )}\n                        </Div>\n                      )}\n                    </Group>\n                  );\n                })}\n              </FormLayoutGroup>\n              <Separator />\n              <Select\n                name={\"type\"}\n                top=\"Выберите тип оказания услуг\"\n                value={this.state.type}\n                bottom={\n                  this.state.type\n                    ? \"\"\n                    : \"Пожалуйста, укажите тип оказания услуг\"\n                }\n                onChange={this.handleChange}\n              >\n                <option value=\"Частный мастер\">Частный мастер</option>\n                <option value=\"Организация\">Организация</option>\n              </Select>\n              {this.state.type === \"Организация\" && (\n                <FormLayoutGroup top=\"Укажите наименование организации в которой вы работаете\">\n                  <Input\n                    name={\"brand\"}\n                    type=\"text\"\n                    status={\n                      this.state.brand.length > 0\n                        ? this.state.brand.length < 26\n                          ? \"valid\"\n                          : \"error\"\n                        : null\n                    }\n                    value={this.state.brand}\n                    onChange={this.handleChange}\n                  />\n                </FormLayoutGroup>\n              )}\n            </FormLayout>\n          </Group>\n          {this.props.snackbarLk}\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    targetCity: state.targetCity,\n    user: state.user,\n    master: state.master,\n    params: state.params,\n  };\n};\n\nconst putActionsToProps = (dispatch) => {\n  return {\n    setMaster: bindActionCreators(setMaster, dispatch),\n  };\n};\n\nexport default connect(\n  putStateToProps,\n  putActionsToProps\n)(withModalRootContext(Setting));\n","import React from \"react\";\nimport {\n  Avatar,\n  RichCell,\n  Spinner,\n  Placeholder,\n  Card,\n  CardGrid,\n  Footer,\n  Group,\n  Cell,\n  MiniInfoCell,\n  Div,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { BACKEND } from \"../func/func\";\nimport Icon56LikeOutline from \"@vkontakte/icons/dist/56/like_outline\";\nimport Icon24Comment from \"@vkontakte/icons/dist/24/comment\";\nimport Icon16Chevron from \"@vkontakte/icons/dist/16/chevron\";\nimport Icon16Like from \"@vkontakte/icons/dist/16/like\";\nimport Head from \"../elements/panelHeader\";\nimport RatingStars from \"../elements/items/ratingStars\";\nimport Loader from \"../elements/loader\";\n\nclass Favourite extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      favsArr: [],\n      mastersArr: [],\n      isLoaded: false,\n    };\n  }\n\n  componentDidMount() {\n    this.loadFavsMasters(this.props.user.favs);\n  }\n\n  loadFavsMasters = (favs) => {\n    let ids = { ids: favs };\n    fetch(BACKEND.masters.onarrayid, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(ids),\n    })\n      .then((res) => res.json())\n      .then((mastersArr) => {\n        this.setState({ mastersArr: mastersArr, isLoaded: true });\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({ isLoaded: true });\n      });\n  };\n\n  setBottom = (meta, id) => {\n    if (meta.comments > 0) {\n      return (\n        <MiniInfoCell\n          style={{ padding: 0, margin: 0 }}\n          after={\n            this.props.user.favs.includes(id) ? (\n              <div style={{ margin: 3 }}>\n                <Icon16Like width={21} height={21} fill=\"red\" />\n              </div>\n            ) : null\n          }\n        >\n          <div style={{ display: \"inline-flex\" }}>\n            <Icon24Comment />\n            <span style={{ margin: \"auto\" }}>{meta.comments}</span>\n            <span style={{ marginLeft: 10 }}>\n              <RatingStars countStars={meta.rating} />\n            </span>\n          </div>\n        </MiniInfoCell>\n      );\n    } else {\n      return (\n        <Div\n          style={{\n            margin: 0,\n            padding: 0,\n            color: \"#a9a9a9\",\n            webkitUserSelect: \"none\",\n            userSelect: \"none\",\n          }}\n        >\n          Отзывы отсутствуют\n        </Div>\n      );\n    }\n  };\n\n  render() {\n    if (this.state.isLoaded === false) {\n      return (\n        <React.Fragment>\n          <Head title=\"Избранное\" goBack={() => this.props.goBack()} />\n          <Placeholder stretched icon={<Loader />} header=\"Уже ищу\">\n            Это может занять несколько секунд\n          </Placeholder>\n        </React.Fragment>\n      );\n    } else {\n      if (this.state.mastersArr.error) {\n        return (\n          <React.Fragment>\n            <Head title=\"Избранное\" goBack={() => this.props.goBack()} />\n            <Placeholder\n              stretched\n              icon={<Icon56LikeOutline />}\n              header={this.state.mastersArr.message}\n            >\n              Добавить мастера в этот список можно, нажав соответствующую кнопку\n              в его профиле.\n            </Placeholder>\n          </React.Fragment>\n        );\n      } else {\n        return (\n          <React.Fragment>\n            <Head title=\"Избранное\" goBack={() => this.props.goBack()} />\n            <Group separator=\"hide\">\n              {this.state.mastersArr.map((master) => {\n                if (master !== null) {\n                  //если мастер не удален\n                  return (\n                    <CardGrid key={master.vkUid}>\n                      <Card size=\"l\" mode=\"shadow\">\n                        <Cell\n                          style={{ borderRadius: \"10px 10px 10px 10px\" }}\n                          expandable\n                          photo=\"https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg\"\n                          description={\n                            <React.Fragment>\n                              {master.categories.category.map(\n                                (category, index) => {\n                                  if (\n                                    index <\n                                    master.categories.category.length - 1\n                                  ) {\n                                    return (\n                                      <span style={{ display: \"inline-flex\" }}>\n                                        {category.label}\n                                        <Icon16Chevron />\n                                      </span>\n                                    );\n                                  } else {\n                                    return category.label;\n                                  }\n                                }\n                              )}\n                            </React.Fragment>\n                          }\n                          bottomContent={this.setBottom(\n                            master.meta,\n                            master._id\n                          )}\n                          before={<Avatar src={master.avatarLink} size={70} />}\n                          size=\"l\"\n                          onClick={() => this.props.openFavMasterOnId(master)}\n                        >\n                          {master.firstname} {master.lastname}\n                        </Cell>\n                      </Card>\n                    </CardGrid>\n                  );\n                }\n              })}\n              <Footer style={{ webkitUserSelect: \"none\", userSelect: \"none\" }}>\n                На этом все. Мастеров всего - {this.state.mastersArr.length}.\n              </Footer>\n            </Group>\n          </React.Fragment>\n        );\n      }\n    }\n  }\n}\n\nexport default Favourite;\n","import React from \"react\";\nimport {\n  Avatar,\n  Card,\n  CardGrid,\n  Cell,\n  RichCell,\n  Button,\n  Counter,\n  SimpleCell,\n  MiniInfoCell,\n} from \"@vkontakte/vkui\";\nimport Icon24MoneyCircle from \"@vkontakte/icons/dist/24/money_circle\";\n\nexport default function FindCard(props) {\n  return (\n    <CardGrid key={props.key}>\n      <Card size=\"l\">\n        <RichCell\n          disabled\n          before={<Avatar size={52} src={props.find.avatarLink} />}\n          caption={props.date}\n        >\n          {props.find.firstname} {props.find.lastname}\n        </RichCell>\n        <Cell multiline>{props.find.body}</Cell>\n        <CardGrid style={{ marginBottom: 10 }}>\n          {props.find.images.map((image, i) => {\n            return (\n              <Card\n                style={{ padding: 2, borderRadius: 13, margin: 0 }}\n                size=\"s\"\n                mode=\"shadow\"\n                key={i}\n              >\n                <div\n                  style={{\n                    borderRadius: 13,\n                    height: 96,\n                    backgroundImage: \"url(\" + image + \")\",\n                    backgroundSize: \"cover\",\n                  }}\n                />\n              </Card>\n            );\n          })}\n        </CardGrid>\n        <SimpleCell width={15} height={15} before={<Icon24MoneyCircle />}>\n          {props.find.sale}\n        </SimpleCell>\n        <SimpleCell\n          onClick={() => props.openMasterOnId(props.find.masterId)}\n          expandable\n        >\n          Записаться\n        </SimpleCell>\n      </Card>\n    </CardGrid>\n  );\n}\n","import React from \"react\";\nimport { Button, Placeholder } from \"@vkontakte/vkui\";\nimport Icon56UsersOutline from \"@vkontakte/icons/dist/56/users_outline\";\nimport FindCard from \"./findCard\";\n\nfunction getDate(comDate) {\n  if (comDate === \"Только что\") {\n    return comDate;\n  } else {\n    let date = new Date(comDate);\n    let hours = date.getHours();\n    if (hours < 10) hours = \"0\" + hours;\n    let minutes = date.getMinutes();\n    if (minutes < 10) minutes = \"0\" + minutes;\n    let date1 = date.getDate();\n    if (date1 < 10) date1 = \"0\" + date1;\n    let month = date.getMonth();\n    if (month < 10) month = \"0\" + month;\n    return (\n      date1 +\n      \".\" +\n      month +\n      \".\" +\n      date.getFullYear() +\n      \" в \" +\n      hours +\n      \":\" +\n      minutes\n    );\n  }\n}\n\nexport default function FindList(props) {\n  if (props.findArr.length === 0) {\n    return (\n      <Placeholder\n        icon={<Icon56UsersOutline />}\n        header=\"Не расстраивайтесь\"\n        action={\n          <Button onClick={props.share} size=\"l\">\n            Поделиться\n          </Button>\n        }\n      >\n        В данный момент в городе {props.user.location.city.title} нет поиска\n        моделей. Мы расширяем базу мастеров, и скоро предложения появятся.\n        Поделитесь приложением с мастерами, которых Вы знаете.\n      </Placeholder>\n    );\n  } else {\n    return props.findArr.map((find) => {\n      return (\n        <FindCard\n          date={getDate(find.date)}\n          key={find._id}\n          find={find}\n          openMasterOnId={props.openMasterOnId}\n        />\n      );\n    });\n  }\n}\n","import React from \"react\";\nimport { BACKEND } from \"../func/func\";\nimport FindList from \"./components/findList\";\nimport HeadCity from \"../elements/headCity\";\nimport { Footer, Placeholder, Spinner } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport {\n  changeFindModelsList,\n  changeFindModelsListScroll,\n} from \"../store/actions\";\nimport Icon56WifiOutline from \"@vkontakte/icons/dist/56/wifi_outline\";\nimport Loader from \"../elements/loader\";\nimport { motion } from \"framer-motion\";\n\nclass FindModel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoad: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.findModelsList.length === 0) {\n      this.loadFind();\n    } else {\n      this.setState(\n        { findArr: this.props.findModelsList, isLoad: true },\n        () => {\n          if (this.props.findModelsListScroll) {\n            window.scrollTo(0, this.props.findModelsListScroll);\n          }\n        }\n      );\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.targetCity !== this.props.targetCity) {\n      this.setState({ isLoad: false }, () => this.loadFind());\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.changeFindModelsListScroll(window.self.pageYOffset);\n  }\n\n  loadFind = () => {\n    fetch(\n      BACKEND.findModel.onCity +\n        this.props.user.location.country.id +\n        \"/\" +\n        this.props.targetCity.id\n    ) //ловим обьявления по городу юзера\n      .then((res) => res.json())\n      .then((find) => {\n        this.props.changeFindModelsList(find);\n        this.setState({ findArr: find, isLoad: true });\n      })\n      .catch((e) => this.setState({ warnConnection: true }));\n  };\n\n  share = () => {\n    bridge\n      .send(\"VKWebAppShare\", { link: \"https://m.vk.com/app7170938\" })\n      .then((result) => {\n        if (result.type === \"VKWebAppShareResult\") {\n          this.openSnackAvatar(\n            \"Ссылка на приложение отправлена.\",\n            this.state.activeMaster.avatarLink\n          );\n        }\n      });\n  };\n\n  render() {\n    if (this.state.warnConnection) {\n      return (\n        <React.Fragment>\n          <HeadCity changeCity={() => this.props.changeCity()} />\n          <Placeholder\n            stretched\n            icon={<Icon56WifiOutline />}\n            header={\"Что-то не так!\"}\n          >\n            Проверьте интернет-соединение.\n          </Placeholder>\n          {this.state.snackbar}\n        </React.Fragment>\n      );\n    } else if (this.state.isLoad === false) {\n      return (\n        <React.Fragment>\n          <HeadCity changeCity={() => this.props.changeCity()} />\n          <Placeholder\n            stretched\n            icon={<Loader style={{ marginTop: 20 }} />}\n            header=\"Уже ищу\"\n          >\n            Это может занять несколько секунд\n          </Placeholder>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <HeadCity changeCity={() => this.props.changeCity()} />\n          <motion.div initial={{ x: 500 }} animate={{ x: 0 }}>\n            <FindList\n              findArr={this.state.findArr}\n              share={this.share}\n              user={this.props.user}\n              openMasterOnId={this.props.openMasterOnId}\n            />\n          </motion.div>\n          <Footer />\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    targetCity: state.targetCity,\n    user: state.user,\n    findModelsListScroll: state.findModelsListScroll,\n    findModelsList: state.findModelsList,\n  };\n};\n\nconst putActionsToProps = (dispatch) => {\n  return {\n    changeFindModelsList: bindActionCreators(changeFindModelsList, dispatch),\n    changeFindModelsListScroll: bindActionCreators(\n      changeFindModelsListScroll,\n      dispatch\n    ),\n  };\n};\n\nexport default connect(putStateToProps, putActionsToProps)(FindModel);\n","import React from \"react\";\nimport {\n  FormLayout,\n  Button,\n  Cell,\n  Select,\n  Textarea,\n  Separator,\n  Card,\n  Snackbar,\n  Spinner,\n  Banner,\n  Switch,\n  Div,\n  CardScroll,\n  Footer,\n} from \"@vkontakte/vkui\";\nimport { BACKEND } from \"../func/func\";\nimport FindCard from \"../findmodel/components/findCard\";\nimport { connect } from \"react-redux\";\n\nclass FindModelMaster extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeMaster: \"\",\n      body: \"\",\n      isLoaded: false,\n      isActive: false,\n      error: \"\",\n      loading: false,\n      images: [],\n      loadFind: {\n        images: [],\n      },\n      selectvalue: \"Укажите тип акции\",\n      visible: true,\n      targetImg: [],\n    };\n  }\n\n  componentDidMount() {\n    fetch(BACKEND.findModel.onMasterId + this.props.master._id)\n      .then((res) => res.json())\n      .then((find) => {\n        if (find.length > 0) {\n          let targetImg = [];\n          find[0].images.map((photo) => {\n            if (this.props.master.photos.includes(photo)) targetImg.push(photo);\n          });\n          this.setState({\n            targetImg: targetImg,\n            loadFind: find[0],\n            body: find[0].body,\n            visible: find[0].visible,\n            error: \"\",\n            isLoaded: true,\n            selectvalue: find[0].sale,\n            isActive: true,\n          });\n        } else {\n          let error = <Cell multiline>У Вас нет активных постов о поиске</Cell>;\n          this.setState({ error: error, isLoaded: true });\n        }\n      });\n  }\n\n  targetImg = (url) => {\n    try {\n      if (this.state.targetImg.includes(url)) {\n        let targetImg = this.state.targetImg;\n        let index = targetImg.indexOf(url);\n        if (index > -1) {\n          targetImg.splice(index, 1);\n        } else targetImg.splice(0, index);\n        this.setState({ targetImg: targetImg });\n      } else {\n        let targetImg = this.state.targetImg;\n        if (targetImg.length > 2) throw \"Выделить можно только 3 фотографии.\";\n        targetImg.push(url);\n        this.setState({ targetImg: targetImg });\n      }\n    } catch (e) {\n      this.openSnack(e);\n    }\n  };\n\n  openSnack(text) {\n    if (this.state.snackbar) return;\n    this.setState({\n      snackbar: (\n        <Snackbar\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbar: null })}\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  handleChangeSelect = (event) => {\n    this.setState({ selectvalue: event.target.value });\n  };\n\n  handleChange = (event) => {\n    let { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n  save = () => {\n    try {\n      if (this.state.body.replace(/ +/g, \" \").trim().length === 0)\n        throw \"Пустое сообщение недопустимо.\";\n      if (this.state.body.replace(/ +/g, \" \").trim().length > 250)\n        throw \"Максимальная длина сообщения - 250 символов.\";\n      if (this.state.targetImg.length < 3)\n        throw \"Необходимо выбрать 3 фотографии из портфолио.\";\n      if (this.state.selectvalue === \"Укажите тип акции\")\n        throw \"Вы не выбрали акцию. Размещение не акционных предложений недоступно.\";\n      if (this.state.selectvalue === \"\")\n        throw \"Вы не выбрали акцию. Размещение не акционных предложений недоступно.\";\n\n      if (this.state.isActive === true) {\n        let find = this.state.loadFind;\n        find.body = this.state.body;\n        find.images = this.state.targetImg;\n        find.sale = this.state.selectvalue;\n        find.visible = this.state.visible;\n        find.params = this.props.params;\n        this.patchData(BACKEND.findModel.new + this.state.loadFind._id, find);\n      } else {\n        let find = this.state.loadFind;\n        find.body = this.state.body;\n\n        find.images = this.state.targetImg;\n        find.sale = this.state.selectvalue;\n        find.visible = this.state.visible;\n        find.params = this.props.params;\n        fetch(BACKEND.findModel.new, {\n          method: \"POST\",\n          mode: \"cors\",\n          cache: \"no-cache\",\n          credentials: \"same-origin\",\n          headers: { \"Content-Type\": \"application/json\" },\n          redirect: \"follow\",\n          referrer: \"no-referrer\",\n          body: JSON.stringify(find),\n        })\n          .then((res) => res.json())\n          .then((res) => {\n            this.setState({ loadFind: res.find, isActive: true });\n            if (res.mStatus === false) {\n              this.setState({ visible: false });\n              this.openSnack(\n                \"Объявление о поиске модели создано, но пока не показывается. Его можно активировать сразу после прохождения модерации профиля мастера.\"\n              );\n            } else {\n              this.openSnack(\"Объявление о поиске модели успешно создано.\");\n            }\n          })\n          .catch((e) => console.log(e));\n      }\n    } catch (e) {\n      this.openSnack(e);\n    }\n  };\n\n  patchData(url = \"\", data = {}) {\n    return fetch(url, {\n      method: \"PATCH\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((result) => {\n        this.openSnack(\"Информация успешно обновлена.\");\n      })\n      .catch((e) => {\n        this.openSnack(\"Не удалось обновить данные.\");\n        console.log(e);\n      });\n  }\n\n  getDate(comDate) {\n    if (comDate === \"Только что\") {\n      return comDate;\n    } else {\n      let date = new Date(comDate);\n      let hours = date.getHours();\n      if (hours < 10) hours = \"0\" + hours;\n      let minutes = date.getMinutes();\n      if (minutes < 10) minutes = \"0\" + minutes;\n      let date1 = date.getDate();\n      if (date1 < 10) date1 = \"0\" + date1;\n      let month = date.getMonth();\n      if (month < 10) month = \"0\" + month;\n      return (\n        date1 +\n        \".\" +\n        month +\n        \".\" +\n        date.getFullYear() +\n        \" в \" +\n        hours +\n        \":\" +\n        minutes\n      );\n    }\n  }\n\n  postData(url = \"\", data = {}) {\n    fetch(url, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((result) => {\n        this.setState({ loadFind: result, isActive: true });\n      });\n  }\n\n  render() {\n    if (this.state.isLoaded === false) {\n      return <Spinner size=\"large\" style={{ marginTop: 20 }} />;\n    } else {\n      return (\n        <React.Fragment>\n          <Banner\n            header=\"Мастер ищет модель\"\n            subheader=\"Правила размещения\"\n            text=\"В данной категории можно разместиться, если вы предлагаете услуги по специальным условиям. Сейчас доступно три варианта: скидка 50%, оплата только за расходные материалы или полностью бесплатно, например, для пополнения портфолио.\"\n          />\n          <FormLayout>\n            <Textarea\n              name={\"body\"}\n              top=\"Основное сообщение\"\n              value={this.state.body}\n              onChange={this.handleChange}\n            />\n            {this.props.master.photos.length > 0 ? (\n              <Div style={{ webkitUserSelect: \"none\", userSelect: \"none\" }}>\n                <Cell>Выполненые работы мастера</Cell>\n                <CardScroll>\n                  {this.props.master.photos.map((photoUrl, index) => {\n                    return (\n                      <Card\n                        style={{ padding: 2, borderRadius: 13, margin: 0 }}\n                        size=\"s\"\n                        mode=\"shadow\"\n                        key={index}\n                        onClick={() => this.targetImg(photoUrl)}\n                      >\n                        {this.state.targetImg.includes(photoUrl) ? (\n                          <div\n                            style={{\n                              width: 144,\n                              height: 96,\n                              backgroundImage: \"url(\" + photoUrl + \")\",\n                              backgroundSize: \"cover\",\n                              borderRadius: 13,\n                            }}\n                          >\n                            <div\n                              style={{\n                                backgroundColor: \"grey\",\n                                borderRadius: \"13px 13px 0 0\",\n                                textAlign: \"center\",\n                              }}\n                            >\n                              Выбрано\n                            </div>\n                          </div>\n                        ) : (\n                          <div\n                            style={{\n                              width: 144,\n                              height: 96,\n                              backgroundImage: \"url(\" + photoUrl + \")\",\n                              backgroundSize: \"cover\",\n                              borderRadius: 13,\n                            }}\n                          />\n                        )}\n                      </Card>\n                    );\n                  })}\n                </CardScroll>\n              </Div>\n            ) : (\n              <Cell multiline>\n                У Вас в портфолио нет фото, разместить объявление о поиске\n                можно, имея в портфолио не менее 3-х фотографий.\n              </Cell>\n            )}\n\n            <Select\n              value={this.state.selectvalue}\n              onChange={this.handleChangeSelect}\n              top=\"Тип акции\"\n              placeholder=\"Выберите тип акции\"\n            >\n              <option value=\"Скидка 50%\">Скидка 50%</option>\n              <option value=\"Оплата за материалы\">Оплата за материалы</option>\n              <option value=\"Бесплатно\">Бесплатно</option>\n            </Select>\n            <Cell\n              asideContent={\n                <Switch\n                  onChange={() => {\n                    if (this.props.master.moderation.status === true) {\n                      this.setState({ visible: !this.state.visible });\n                    } else {\n                      this.openSnack(\n                        \"Ваш профиль находится на модерации. Вы можете создать объявление уже сейчас, но до завершения проверки пользователи его не увидят.\"\n                      );\n                    }\n                  }}\n                  checked={\n                    this.props.master.moderation.status === true\n                      ? this.state.visible\n                      : false\n                  }\n                />\n              }\n            >\n              Показывать объявление в поиске\n            </Cell>\n            <Button size=\"xl\" onClick={this.save}>\n              Сохранить\n            </Button>\n          </FormLayout>\n          <Separator style={{ margin: \"12px 0\" }} />\n          {this.state.isActive && (\n            <React.Fragment>\n              <Cell description={\"Некликабельно\"}>\n                Ваш пост будет выглядеть так:\n              </Cell>\n              <FindCard\n                date={this.getDate(this.state.loadFind.date)}\n                key={this.state.loadFind._id}\n                find={this.state.loadFind}\n                openMasterOnId={this.props.openMasterOnId}\n              />\n            </React.Fragment>\n          )}\n          <Footer />\n          {this.state.snackbar}\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    master: state.master,\n    params: state.params,\n  };\n};\n\nexport default connect(putStateToProps)(FindModelMaster);\n","import React from \"react\";\nimport { Banner, Button } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nclass Partners extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  async addToCommunity() {\n    await bridge\n      .send(\"VKWebAppAddToCommunity\", {})\n      .then((data) => console.log(data));\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Banner\n          header=\"Установите в ваше сообщество\"\n          subheader=\"Если Вы являетесь владельцем сообщества с тематикой, схожей с тематикой нашего приложения, установите Навигатор красоты в свою группу. Ваши подписчики смогут получить удобный инструмент для поиска мастеров.\"\n          actions={\n            <Button onClick={() => this.addToCommunity()}>\n              Установить в сообщество\n            </Button>\n          }\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Partners;\n","import React from \"react\";\nimport {\n  Cell,\n  List,\n  Panel,\n  Placeholder,\n  Search,\n  Spinner,\n  Select,\n  SimpleCell,\n  Subhead,\n  Separator,\n  Div,\n} from \"@vkontakte/vkui\";\nimport Icon56PlaceOutline from \"@vkontakte/icons/dist/56/place_outline\";\nimport { BACKEND } from \"../func/func\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./loader\";\n\nclass CityList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      isLoad: false,\n      cities: [],\n      countryList: [],\n      targetCountry: null,\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.user.location.country)\n      this.setState({ targetCountry: this.props.user.location.country }, () =>\n        this.getCities(this.state.search, this.state.targetCountry)\n      );\n    this.getCountries();\n  }\n\n  getCountries() {\n    fetch(BACKEND.vkapi.getCountries)\n      .then((res) => res.json())\n      .then((res) => {\n        this.setState({ countryList: res.countryList, isLoad: true });\n      })\n      .catch((e) => console.log(e));\n  }\n\n  getCities(filter, country) {\n    this.setState({ loading: true });\n    const data = {\n      search: filter.toLowerCase(),\n      country_id: country.id,\n    };\n    fetch(BACKEND.vkapi.getCities, {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\",\n        // 'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrer: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.error) {\n          console.log(res.error);\n        } else {\n          this.setState({ cities: res.cityList, isLoad: true, loading: false });\n        }\n      })\n      .catch((e) => console.log(e));\n  }\n\n  renderCityList = () => {\n    return this.state.cities.length > 0 ? (\n      this.state.cities.map((city) => (\n        <>\n          <Cell\n            description={city.region || \"\"}\n            onClick={() =>\n              this.props.changeCity({\n                city: city,\n                country: this.state.targetCountry,\n              })\n            }\n            key={city.id}\n          >\n            {city.title}\n          </Cell>\n          <Separator />\n        </>\n      ))\n    ) : (\n      <Placeholder icon={<Icon56PlaceOutline />} header=\"Город не найден\">\n        Проверьте опечатки или измените критерии поиска\n      </Placeholder>\n    );\n  };\n\n  onChange(e) {\n    this.setState({ search: e.target.value });\n    this.getCities(e.target.value, this.state.targetCountry);\n  }\n\n  render() {\n    if (this.state.isLoad === false) {\n      return <Spinner style={{ marginTop: 20 }} />;\n    } else {\n      return (\n        <React.Fragment>\n          <Div>\n            <Select\n              defaultValue={this.props.user.location.country.id}\n              onChange={(e) => {\n                const country = this.state.countryList.map((country) => {\n                  if (country.id === Number(e.target.value)) return country;\n                });\n                this.setState(\n                  {\n                    targetCountry: country.filter(Boolean)[0],\n                    changeCountry: false,\n                  },\n                  () =>\n                    this.getCities(this.state.search, this.state.targetCountry)\n                );\n              }}\n              placeholder={\"Выберите страну\"}\n            >\n              {this.state.countryList.map((country) => {\n                return <option key={country.id} value={country.id}>{country.title}</option>;\n              })}\n            </Select>\n          </Div>\n          {this.state.targetCountry !== null ? (\n            <React.Fragment>\n              <Search\n                value={this.state.search}\n                onChange={this.onChange}\n                after={null}\n              />\n              {this.state.loading ? (\n                <Spinner size=\"large\" style={{ marginTop: 20 }} />\n              ) : (\n                <List>{this.renderCityList()}</List>\n              )}\n            </React.Fragment>\n          ) : (\n            <Placeholder icon={<Icon56PlaceOutline />} header=\"Выберите страну\">\n              Если нужной Вам страны нет в списке - напишите нам!\n            </Placeholder>\n          )}\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n  };\n};\n\nexport default connect(putStateToProps)(CityList);\n","import React from \"react\";\nimport {\n  Placeholder,\n  RichCell,\n  Avatar,\n  Tabs,\n  CardGrid,\n  Card,\n  Button,\n  TabsItem,\n  Panel,\n  Textarea,\n  Cell,\n} from \"@vkontakte/vkui\";\nimport Icon56LikeOutline from \"@vkontakte/icons/dist/56/like_outline\";\n\nimport { BACKEND } from \"../func/func\";\nimport Head from \"../elements/panelHeader\";\nimport { connect } from \"react-redux\";\n\nclass Moder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mastersList: [],\n      activeTab: \"masters\",\n      comments: [],\n      mastersCount: 0,\n      usersCount: 0,\n      isLoad: true,\n    };\n  }\n\n  handleChange = (event) => {\n    let { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  async componentDidMount() {\n    await fetch(BACKEND.moder, {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrer: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(this.props.params), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n    })\n      .then((res) => res.json())\n      .then((mastersList) => {\n        this.setState({ mastersList: mastersList });\n      })\n      .catch((e) => console.log(e));\n    await fetch(BACKEND.comment.moderation, {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrer: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(this.props.params), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n    })\n      .then((res) => res.json())\n      .then((comments) => {\n        this.setState({ comments: comments, isLoad: false });\n      });\n  }\n\n  good = (id, index) => {\n    let mastersList = this.state.mastersList;\n    if (index > -1) {\n      mastersList.splice(index, 1);\n    } else mastersList.splice(0, index);\n    this.setState({ mastersList: mastersList });\n    let moderation = {\n      id: id,\n      status: true,\n      reasons: [],\n      params: this.props.params,\n    };\n    fetch(BACKEND.moder + \"good\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrer: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(moderation), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n    })\n      .then((res) => res.json())\n      .catch((e) => console.log(e));\n  };\n\n  bad = (id, index) => {\n    let mastersList = this.state.mastersList;\n    // if (index > -1) {\n    //     mastersList.splice(index, 1);\n    // } else mastersList.splice(0, index);\n    // this.setState({mastersList: mastersList});\n    let reasons = [];\n    reasons.push(this.state.reason);\n    mastersList[index].moderation.reasons = reasons;\n    let moderation = {\n      id: id,\n      status: false,\n      reasons: reasons,\n      params: this.props.params,\n    };\n    fetch(BACKEND.moder + \"bad\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrer: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(moderation), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n    })\n      .then((res) => res.json())\n      .catch((e) => console.log(e));\n    //this.setState({mastersList: mastersList});\n  };\n\n  goodComment = (id, index) => {\n    let comments = this.state.comments;\n    if (index > -1) {\n      comments.splice(index, 1);\n    } else comments.splice(0, index);\n    this.setState({ comments: comments });\n    let moderation = {\n      id: id,\n      params: this.props.params,\n    };\n    fetch(BACKEND.moderCom + \"good\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrer: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(moderation), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n    })\n      .then((res) => res.json())\n      .then((res) => console.log(res))\n      .catch((e) => console.log(e));\n  };\n\n  badComment = (id, index) => {\n    let comments = this.state.comments;\n    if (index > -1) {\n      comments.splice(index, 1);\n    } else comments.splice(0, index);\n    this.setState({ comments: comments });\n    let moderation = {\n      id: id,\n      params: this.props.params,\n    };\n    fetch(BACKEND.moderCom + \"bad\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrer: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(moderation), // тип данных в body должен соответвовать значению заголовка \"Content-Type\"\n    })\n      .then((res) => res.json())\n      .then((res) => console.log(res))\n      .catch((e) => console.log(e));\n  };\n\n  renderComments() {\n    if (this.state.comments.length === 0) {\n      return (\n        <Placeholder icon={<Icon56LikeOutline />} header=\"На модерации\">\n          Пока никого нет\n        </Placeholder>\n      );\n    }\n    return this.state.comments.map((comment, index) => {\n      if (comment === null) return null;\n      console.log(comment);\n      return (\n        <CardGrid key={index} style={{ padding: 0 }}>\n          <Card size=\"l\" mode=\"shadow\">\n            <RichCell\n              disabled\n              multiline\n              actions={\n                <React.Fragment>\n                  <Button onClick={() => this.goodComment(comment._id, index)}>\n                    Одобрить\n                  </Button>\n                  <Button\n                    onClick={() => this.badComment(comment._id, index)}\n                    mode=\"destructive\"\n                  >\n                    Удалить\n                  </Button>\n                </React.Fragment>\n              }\n            >\n              {comment.body}\n            </RichCell>\n            <Cell before={<Avatar size={25} src={comment.user.avatarLink} />}>\n              {\" \"}\n              From - {comment.user.firstname + \" \" + comment.user.lastname}\n            </Cell>\n            <Cell>To - {comment.to.name}</Cell>\n          </Card>\n        </CardGrid>\n      );\n    });\n  }\n\n  renderMasters() {\n    if (this.state.isLoad === true) {\n      return (\n        <Placeholder icon={<Icon56LikeOutline />} header=\"Загружаю...\">\n          Пока никого нет\n        </Placeholder>\n      );\n    } else if (this.state.mastersList.length === 0) {\n      return (\n        <Placeholder icon={<Icon56LikeOutline />} header=\"На модерации\">\n          Пока никого нет\n        </Placeholder>\n      );\n    } else {\n      return this.state.mastersList.map((master, index) => {\n        return (\n          <CardGrid key={master.vkUid} style={{ padding: 0 }}>\n            <Card size=\"l\" mode=\"shadow\">\n              <RichCell\n                disabled\n                multiline\n                before={\n                  <Avatar\n                    onClick={() => this.props.openMaster(master)}\n                    src={master.avatarLink}\n                    size={70}\n                  />\n                }\n                caption={master.location.city.title}\n                actions={\n                  <React.Fragment>\n                    <Cell>\n                      <Button onClick={() => this.good(master._id, index)}>\n                        Одобрить\n                      </Button>\n                      <Button\n                        onClick={() => this.setState({ [master.vkUid]: true })}\n                        mode=\"secondary\"\n                      >\n                        Отклонить\n                      </Button>\n                    </Cell>\n                  </React.Fragment>\n                }\n              >\n                {master.firstname} {master.lastname}\n              </RichCell>\n              {master.moderation.reasons.length > 0 && (\n                <Cell>\n                  {master.moderation.reasons.map((reason) => {\n                    return reason;\n                  })}\n                </Cell>\n              )}\n              {this.state[master.vkUid] === true && (\n                <Cell>\n                  <Textarea\n                    name=\"reason\"\n                    value={this.state.reason}\n                    onChange={(event) => {\n                      console.log(this.state.reason);\n                      this.setState({ reason: event.target.value });\n                    }}\n                  />\n                  <Button\n                    onClick={() => {\n                      this.bad(master._id, index);\n                      this.setState({ [master.vkUid]: false });\n                    }}\n                    mode=\"secondary\"\n                  >\n                    Отклонить\n                  </Button>\n                </Cell>\n              )}\n            </Card>\n          </CardGrid>\n        );\n      });\n    }\n  }\n\n  render() {\n    if (this.props.params.vk_user_id !== \"199500866\") {\n      return (\n        <Panel id=\"moder\">\n          <Cell>У Вас нет доступа</Cell>\n        </Panel>\n      );\n    } else {\n      return (\n        <Panel id=\"moder\">\n          <Head title={\"Модерация\"} goBack={() => this.props.goBack()} />\n          <div>\n            <Tabs>\n              <TabsItem\n                onClick={() => this.setState({ activeTab: \"masters\" })}\n                selected={this.state.activeTab === \"masters\"}\n              >\n                Мастера\n              </TabsItem>\n              <TabsItem\n                onClick={() => this.setState({ activeTab: \"comments\" })}\n                selected={this.state.activeTab === \"comments\"}\n              >\n                Комментарии\n              </TabsItem>\n            </Tabs>\n            {this.state.activeTab === \"masters\"\n              ? this.renderMasters()\n              : this.renderComments()}\n          </div>\n        </Panel>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n    master: state.master,\n    params: state.params,\n  };\n};\n\nexport default connect(putStateToProps)(Moder);\n","import React from \"react\";\nimport {\n  Avatar,\n  Button,\n  Card,\n  CardGrid,\n  Cell,\n  Div,\n  Group,\n  Header,\n  Placeholder,\n  Footer,\n  PromoBanner,\n  MiniInfoCell,\n  Headline,\n  Caption,\n} from \"@vkontakte/vkui\";\nimport Icon56UsersOutline from \"@vkontakte/icons/dist/56/users_outline\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport RatingStars from \"../elements/items/ratingStars\";\nimport Icon24Comment from \"@vkontakte/icons/dist/24/comment\";\nimport Icon16Chevron from \"@vkontakte/icons/dist/16/chevron\";\nimport Icon16Like from \"@vkontakte/icons/dist/16/like\";\nimport { connect } from \"react-redux\";\n\nclass MastersList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      promo: null,\n    };\n  }\n\n  componentDidMount() {\n    this.setTitle(this.props.mastersList.length);\n    try {\n      if (this.props.city === \"Не выбрано\") throw \"Нет города\";\n      if (this.props.mastersList.length === 0) throw \"Никого не нашли\";\n    } catch (e) {\n      this.setState({ error: e });\n    }\n    bridge.subscribe((e) => {\n      if (!e.detail) {\n        return;\n      }\n\n      const { type, data } = e.detail;\n\n      if (type === \"VKWebAppGetAdsResult\") {\n        this.setState({ promo: data });\n      }\n    });\n    bridge\n      .send(\"VKWebAppGetAds\", {})\n      .then((data) => console.log(\"ads\"))\n      .catch((e) => console.log(e));\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps !== this.props) {\n      this.setState({ error: null });\n      try {\n        if (this.props.city === \"Не выбрано\") throw \"Нет города\";\n        if (this.props.mastersList.length === 0) throw \"Никого не нашли\";\n      } catch (e) {\n        this.setState({ error: e });\n      }\n    }\n  }\n\n  setTitle(count) {\n    if (count === undefined) {\n      this.setState({ title: \"Мы никого не нашли :( пока не нашли...\" });\n    } else {\n      this.setState({ title: \"Найдено мастеров: \" + count });\n    }\n  }\n\n  renderMasters() {\n    let i = 0;\n    return this.props.mastersList.map((master) => {\n      if (i === 6) i = 0;\n      i++;\n      return (\n        <CardGrid key={master.vkUid}>\n          <Card size=\"l\" mode=\"shadow\">\n            <Cell\n              style={{ borderRadius: \"10px 10px 10px 10px\" }}\n              expandable\n              photo=\"https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg\"\n              description={\n                <React.Fragment>\n                  {master.categories.category.map((category, index) => {\n                    if (index < master.categories.category.length - 1) {\n                      return (\n                        <span key={index} style={{ display: \"inline-flex\" }}>\n                          {category.label}\n                          <Icon16Chevron />\n                        </span>\n                      );\n                    } else {\n                      return category.label;\n                    }\n                  })}\n                </React.Fragment>\n              }\n              bottomContent={this.setBottom(master.meta, master._id)}\n              before={<Avatar src={master.avatarLink} size={70} />}\n              size=\"l\"\n              onClick={() => this.props.openPanelMaster(master)}\n            >\n              {master.firstname} {master.lastname}\n            </Cell>\n          </Card>\n        </CardGrid>\n      );\n    });\n  }\n\n  setBottom = (meta, id) => {\n    if (meta.comments > 0) {\n      return (\n        <MiniInfoCell\n          before={\n            <div style={{ display: \"inline-flex\" }}>\n              <Icon24Comment />\n              <span style={{ margin: \"auto\" }}>{meta.comments}</span>\n            </div>\n          }\n          style={{ padding: 0, margin: 0 }}\n          after={\n            this.props.user.favs.includes(id) ? (\n              <div style={{ margin: 3 }}>\n                <Icon16Like width={21} height={21} fill=\"red\" />\n              </div>\n            ) : null\n          }\n        >\n          <div style={{ display: \"inline-flex\" }}>\n            <span style={{ marginLeft: 10 }}>\n              <RatingStars countStars={meta.rating} />\n            </span>\n          </div>\n        </MiniInfoCell>\n      );\n    } else {\n      return (\n        <MiniInfoCell\n          style={{ margin: 0, padding: 0 }}\n          before={\n            <div style={{ display: \"inline-flex\", marginTop: -1 }}>\n              <Icon24Comment />\n            </div>\n          }\n        >\n          <Caption\n            style={{\n              color: \"#a9a9a9\",\n              WebkitUserSelect: \"none\",\n              userSelect: \"none\",\n            }}\n            weight=\"regular\"\n          >\n            Отзывы отсутствуют\n          </Caption>\n        </MiniInfoCell>\n      );\n    }\n  };\n\n  share = () => {\n    bridge\n      .send(\"VKWebAppShare\", { link: \"https://m.vk.com/app7170938\" })\n      .then((result) => {\n        if (result.type === \"VKWebAppShareResult\") {\n          this.props.openSnack(\"Спасибо, что помогаете сервису в развитии.\");\n        }\n      });\n  };\n\n  render() {\n    if (this.state.error === \"Нет города\") {\n      return (\n        <Placeholder icon={<Icon56UsersOutline />} header=\"Где вы?\">\n          Нам не удалось определить Ваш город, укажите его вручную.\n        </Placeholder>\n      );\n    } else if (this.state.error === \"Никого не нашли\") {\n      return (\n        <Placeholder\n          icon={<Icon56UsersOutline />}\n          header=\"Не расстраивайтесь\"\n          action={\n            <Button onClick={() => this.share()} size=\"l\">\n              Поделиться\n            </Button>\n          }\n        >\n          В данный момент у нас нет данных о специалистах этого профиля в Вашем\n          городе. Мы расширяем базу мастеров, и скоро предложения появятся.\n          Поделитесь приложением с мастерами, которых Вы знаете.\n        </Placeholder>\n      );\n    } else {\n      return (\n        <Group\n          separator=\"hide\"\n          header={<Header mode=\"secondary\">{this.state.title}</Header>}\n        >\n          {this.renderMasters()}\n          <Footer>\n            На этом все. Мастеров всего - {this.props.mastersList.length}.\n          </Footer>\n          {this.state.promo !== null ? (\n            <Card size=\"l\" mode=\"shadow\">\n              <PromoBanner\n                bannerData={this.state.promo}\n                onClose={() => this.setState({ promo: null })}\n              />\n            </Card>\n          ) : null}\n        </Group>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    user: state.user,\n  };\n};\n\nexport default connect(putStateToProps)(MastersList);\n","import React from \"react\";\nimport { Counter, HorizontalScroll, Tabs, TabsItem } from \"@vkontakte/vkui\";\n\nfunction countSubcat(id, props) {\n  let count = 0;\n  props.mastersList.map((master) => {\n    if (master.categories.subcat) {\n      if (master.categories.subcat.includes(id)) {\n        count++;\n      }\n    }\n  });\n  return count;\n}\n\nconst scrollSubcat = (props) => {\n  if (props.targetCategory._id !== \"all\") {\n    return (\n      <HorizontalScroll>\n        <Tabs>\n          {props.targetCategory.subcat.map((subcat) => {\n            return (\n              <TabsItem\n                after={\n                  <Counter size=\"s\">{countSubcat(subcat._id, props)}</Counter>\n                }\n                key={subcat._id}\n                id={subcat._id}\n                onClick={props.checkSubcat}\n                selected={props.filter.includes(subcat._id)}\n              >\n                {subcat.label}\n              </TabsItem>\n            );\n          })}\n        </Tabs>\n      </HorizontalScroll>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default scrollSubcat;\n","import React from \"react\";\nimport HeadCity from \"../elements/headCity\";\nimport {\n  Div,\n  Panel,\n  PanelHeader,\n  Placeholder,\n  SelectMimicry\n} from \"@vkontakte/vkui\";\nimport MastersList from \"./mastersList\";\nimport ScrollSubcat from \"../elements/scrollSubcat\";\nimport { BACKEND } from \"../func/func\";\nimport { connect } from \"react-redux\";\nimport {\n  changeMastersList,\n  changeMasterslistScroll,\n  changeTargetCategory,\n  changeTargetCity,\n  setFilter,\n} from \"../store/actions\";\nimport { bindActionCreators } from \"redux\";\nimport Icon56WifiOutline from \"@vkontakte/icons/dist/56/wifi_outline\";\nimport Loader from \"../elements/loader\"\nimport { motion } from \"framer-motion\";\nimport Head from \"../elements/panelHeader\"\n\nclass Masters extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoad: false,\n      filter: [],\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.mastersList.length === 0) {\n      this.loadList();\n    } else {\n      this.setState({ filteredList: this.props.mastersList, isLoad: true });\n    }\n  }\n\n  componentWillMount() {\n    if (this.props.mastersListScroll) {\n      window.scrollTo(0, this.props.mastersListScroll);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.changeMasterslistScroll(window.self.pageYOffset);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.targetCity !== this.props.targetCity) {\n      this.setState({ isLoad: false }, () => this.loadList());\n    }\n  }\n\n  loadList = () => {\n    this.props.setFilter([]);\n    if (this.props.targetCategory === \"\") {\n      fetch(\n        BACKEND.masters.category +\n          \"all/\" +\n          this.props.user.location.country.id +\n          \"/\" +\n          this.props.targetCity.id\n      )\n        .then((res) => res.json())\n        .then((mastersList) => {\n          this.props.changeMastersList(mastersList);\n          this.filter();\n        })\n        .catch((e) => this.setState({ warnConnection: true }));\n    } else {\n      fetch(\n        BACKEND.masters.category +\n          this.props.targetCategory._id +\n          \"/\" +\n          this.props.user.location.country.id +\n          \"/\" +\n          this.props.targetCity.id\n      )\n        .then((res) => res.json())\n        .then((mastersList) => {\n          this.props.changeMastersList(mastersList);\n          this.filter();\n        })\n        .catch((e) => this.setState({ warnConnection: true }));\n    }\n  };\n\n  checkSubcat = (e) => {\n    if (this.props.filter.includes(e.currentTarget.id)) {\n      let index = this.props.filter.indexOf(e.currentTarget.id);\n      let filter = this.props.filter;\n      if (index > -1) {\n        filter.splice(index, 1);\n      } else filter.splice(0, index);\n      this.setState({ filter: filter }, () => this.filter());\n    } else {\n      let filter = this.props.filter;\n      filter.push(e.currentTarget.id);\n      this.props.setFilter(filter);\n      this.filter();\n    }\n  };\n\n  filter() {\n    if (this.props.filter.length === 0) {\n      this.setState({ filteredList: this.props.mastersList, isLoad: true });\n    } else {\n      let filteredList = this.props.mastersList.filter((master) => {\n        let i = 0;\n        this.props.filter.forEach((filter) => {\n          if (master.categories.subcat) {\n            if (master.categories.subcat.includes(filter)) i++;\n          } else {\n            return false;\n          }\n        });\n        if (i > 0) return true;\n      });\n      this.setState({ filteredList: filteredList, isLoad: true });\n    }\n  }\n\n  render() {\n    if (this.state.warnConnection) {\n      return (\n        <React.Fragment>\n          <HeadCity changeCity={() => this.props.changeCity()} />\n          <Placeholder\n            stretched\n            icon={<Icon56WifiOutline />}\n            header={\"Что-то не так!\"}\n          >\n            Проверьте интернет-соединение.\n          </Placeholder>\n          {this.state.snackbar}\n        </React.Fragment>\n      );\n    } else {\n      const { targetCategory, user } = this.props;\n      return (\n        <Panel id=\"mastersList\">\n          <PanelHeader>Мастера</PanelHeader>\n          <HeadCity changeCity={() => this.props.changeCity()} />\n          <Div>\n            <SelectMimicry\n              top=\"Выберите категорию\"\n              placeholder=\"Показаны мастера всех категорий\"\n              onClick={\n                user.location.city === \"Не определено\"\n                  ? this.props.openSnack(\"Сначала выберите город\")\n                  : this.props.changeCategory\n              }\n            >\n              {targetCategory.label}\n            </SelectMimicry>\n            {targetCategory && this.state.isLoad && (\n              <ScrollSubcat\n                targetCategory={targetCategory}\n                mastersList={this.props.mastersList}\n                checkSubcat={(e) => this.checkSubcat(e)}\n                filter={this.props.filter}\n              />\n            )}\n          </Div>\n          {this.state.isLoad ? (\n            <motion.div\n                initial={{ x: 500 }}\n                animate={{ x: 0 }}\n            >\n              <MastersList\n                  openSnack={this.props.openSnack}\n                  mastersList={this.state.filteredList}\n                  category={targetCategory}\n                  city={user.location.city}\n                  openPanelMaster={this.props.openPanelMaster}\n              />\n            </motion.div>\n          ) : (\n              <Placeholder\n                  icon={<Loader style={{marginTop: 20}} />}\n                  header=\"Уже ищу\"\n              >\n                Это может занять несколько секунд\n              </Placeholder>\n          )}\n          {this.props.snackbar}\n        </Panel>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    mastersList: state.mastersList,\n    targetCategory: state.targetCategory,\n    targetCity: state.targetCity,\n    mastersListScroll: state.mastersListScroll,\n    user: state.user,\n    filter: state.filter,\n  };\n};\n\nconst putActionsToProps = (dispatch) => {\n  return {\n    changeMastersList: bindActionCreators(changeMastersList, dispatch),\n    changeTargetCategory: bindActionCreators(changeTargetCategory, dispatch),\n    changeTargetCity: bindActionCreators(changeTargetCity, dispatch),\n    changeMasterslistScroll: bindActionCreators(\n      changeMasterslistScroll,\n      dispatch\n    ),\n    setFilter: bindActionCreators(setFilter, dispatch),\n  };\n};\n\nexport default connect(putStateToProps, putActionsToProps)(Masters);\n","import React from \"react\";\nimport {\n  Cell,\n  List,\n  Spinner,\n  Button,\n  Banner,\n  MiniInfoCell,\n} from \"@vkontakte/vkui\";\nimport { BACKEND } from \"../func/func\";\nimport Icon24Done from \"@vkontakte/icons/dist/24/done\";\nimport { connect } from \"react-redux\";\nimport Icon16Chevron from \"@vkontakte/icons/dist/16/chevron\";\n\nclass CategoriesList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoad: false,\n    };\n  }\n\n  componentDidMount() {\n    this.loadCategories();\n  }\n\n  loadCategories = () => {\n    fetch(BACKEND.category.getAll)\n      .then((res) => res.json())\n      .then((categories) => {\n        categories.unshift({ _id: \"all\", label: \"Мастера всех категорий\" });\n        this.setState({ categories: categories, isLoad: true });\n      })\n      .catch((error) => {\n        console.log(error); // Error: Not Found\n      });\n  };\n\n  render() {\n    if (this.state.isLoad === false) {\n      return (\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <Spinner size=\"large\" style={{ marginTop: 20 }} />\n        </div>\n      );\n    } else {\n      return (\n        <List>\n          {this.state.categories.map((category) => {\n            return (\n              <React.Fragment>\n                <Banner\n                  key={category._id}\n                  onClick={() => this.props.setCategory(category)}\n                  mode=\"image\"\n                  header={category.label}\n                  subheader={\n                    category.subcat &&\n                    category.subcat.map((subcat, index) => {\n                      if (index < category.subcat.length - 1) {\n                        return (\n                          <span style={{ display: \"inline-flex\" }}>\n                            {subcat.label}\n                            <Icon16Chevron />\n                          </span>\n                        );\n                      } else {\n                        return subcat.label;\n                      }\n                    })\n                  }\n                  background={\n                    this.props.scheme !== \"space_gray\" ? (\n                      <div\n                        style={{\n                          background: \"linear-gradient(#ea9696, #c593b1)\",\n                        }}\n                      />\n                    ) : (\n                      <div />\n                    )\n                  }\n                  //actions={<Button onClick={()=>this.props.setCategory(category)} mode=\"overlay_primary\">Выбрать</Button>}\n                />\n                {/*<Cell*/}\n                {/*    key={category._id}*/}\n                {/*    onClick={()=>this.props.setCategory(category)}*/}\n                {/*    asideContent={this.props.targetCategory === category ?*/}\n                {/*        <Icon24Done fill=\"var(--accent)\"/> : null}*/}\n                {/*>*/}\n                {/*    {category.label}*/}\n                {/*</Cell>*/}\n              </React.Fragment>\n            );\n          })}\n        </List>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    targetCategory: state.targetCategory,\n  };\n};\n\nexport default connect(putStateToProps)(CategoriesList);\n","import React from \"react\";\nimport { Div } from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nclass Rules extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <Div style={{ color: \"gray\" }}>\n        1. Основные понятия\n        <br />\n        1.1. Сайт – сайт, расположенный в сети Интернет по адресу\n        http://vk.com/.\n        <br />\n        1.2. Разработчик – физическое лицо, размещающее приложение на Сайте и\n        использующее его в соответствии с Условиями размещения приложений и\n        Правилами размещения приложений на Сайте. Фамилия, имя и отчество либо\n        наименование Разработчика, а также иная информация о нем указаны в\n        разделе «Информация о разработчике» в окне запуска Приложения и в\n        настройках Приложения.\n        <br />\n        1.3. Администрация Сайта – общество с ограниченной ответственностью «В\n        Контакте», расположенное по адресу: 191024, Санкт-Петербург, ул.\n        Херсонская, д. 12-14, литер А, помещение 1-Н, ОГРН 1079847035179, ИНН\n        7842349892.\n        <br />\n        1.4. Приложение – программный сервис, именуемый \"Навигатор красоты\"\n        размещенный на Сайте в разделе «Приложения», прошедший модерацию\n        Администрацией Сайта и включенный в каталог приложений.\n        <br />\n        1.5. Пользователь – пользователь Сайта, зарегистрированный в\n        установленном порядке и использующий Приложение.\n        <br />\n        <br />\n        <br />\n        2. Статус Правил\n        <br />\n        2.1. Настоящие Правила представляют собой соглашение между Разработчиком\n        и Пользователем (далее вместе именуемые «Стороны») и регулируют права и\n        обязанности Разработчика и Пользователя в связи с использованием\n        Приложения.\n        <br />\n        <br />\n        <br />\n        3. Права и обязанности Сторон\n        <br />\n        3.1. Пользователь обязан ознакомиться с информацией о Разработчике,\n        политикой конфиденциальности Разработчика и настоящими Правилами до\n        первого запуска Приложения. При несогласии с положениями указанных\n        документов Пользователь обязан воздержаться от запуска и использования\n        Приложения.\n        <br />\n        3.2. Пользователь обязуется использовать Приложение в личных\n        некоммерческих целях. Запрещается предлагать услуги, связанные с\n        использованием Приложения, другим Пользователям в целях извлечения\n        прибыли. Запрещается использование каких-либо автоматических скриптов\n        («программы-роботы») или иных средств, позволяющих взаимодействовать с\n        Приложением без участия Пользователя. Запрещается совершать действия,\n        направленные на нарушение нормального функционирования Приложения, и\n        использовать специальные программы, содержащие вредоносные компоненты\n        («вирусы»).\n        <br />\n        3.3. Разработчик вправе в любое время вносить изменения в функционал\n        Приложения, интерфейс и/или содержание Приложения с уведомлением\n        Пользователей или без такового.\n        <br />\n        3.4. Разработчик вправе в одностороннем порядке устанавливать стоимость\n        отдельных сервисов, предлагаемых Приложением, выраженную во внутренней\n        валюте Приложений - голосах. Пользователь обязуется добросовестно\n        использовать способы пополнения личного счета Пользователя в Приложении\n        и дальнейшего использования голосов. При обнаружении Разработчиком\n        фактов неправомерного пополнения личного счета Пользователя в Приложении\n        Разработчик вправе отказать Пользователю в дальнейшем предоставлении\n        услуг либо в одностороннем порядке уменьшить личный счет Пользователя в\n        Приложении.\n        <br />\n        3.5. Разработчик вправе запросить и использовать информацию о\n        Пользователе исключительно в целях предоставления услуг по использованию\n        Приложения. Использование информации о Пользователе регулируется\n        политикой конфиденциальности Разработчика.\n        <br />\n        3.6. Разработчик обязан обеспечить техническую поддержку Приложения и\n        предоставить простой способ связи для обращений Пользователей по всем\n        возникающим в процессе использования Приложения вопросам в разделе\n        «Помощь» и в настройках Приложения, во вкладке «Информация о\n        разработчике».\n        <br />\n        <br />\n        <br />\n        4. Интеллектуальная собственность\n        <br />\n        4.1. Пользователь признает, что Приложение, его интерфейс и содержание\n        (включая, но не ограничиваясь, элементы дизайна, текст, графические\n        изображения, иллюстрации, видео, скрипты, программы, музыка, звуки и\n        другие объекты и их подборки, связанные с Приложением) защищены\n        авторским правом, товарными знаками, патентами и иными правами, которые\n        принадлежат Разработчику или иным законным правообладателям.\n        <br />\n        4.2. Разработчик предоставляет Пользователю неисключительную лицензию на\n        использование Приложения, а именно на запуск и дальнейшую эксплуатацию\n        Приложения исключительно в целях удовлетворения личных, семейных,\n        домашних или иных не связанных с предпринимательской деятельностью нужд,\n        без права передачи данной лицензии третьим лицам и без права\n        предоставления сублицензий на использование Приложения третьим лицам.\n        <br />\n        4.3. Пользователь не вправе воспроизводить, копировать, изменять,\n        уничтожать, перерабатывать (включая выполнение любого перевода или\n        локализации), продавать, сдавать в прокат, опубликовывать, скачивать,\n        иным образом распространять Приложение либо его компоненты,\n        декомпилировать или иным образом пытаться извлечь исходный код\n        компонентов Приложения, являющихся программным обеспечением, а также\n        изменять функционал Приложения без предварительного письменного согласия\n        Разработчика.\n        <br />\n        4.4. Пользователь не вправе удалять и/или изменять какую-либо\n        информацию, размещенную Разработчиком в рамках Приложения, в том числе\n        знаки охраны авторского права и средств индивидуализации.\n        <br />\n        4.5. Лицензия, указанная в пункте 4.2 настоящих Правил, предоставляется\n        на весь срок использования Приложения Пользователем. Данная лицензия\n        распространяется также на все обновления и/или дополнительные компоненты\n        Приложения, которые могут быть созданы и предоставлены Разработчиком в\n        будущем.\n        <br />\n        4.6. Если иное явным образом не установлено в настоящих Правилах, ничто\n        в настоящих Правилах не может быть рассмотрено как передача\n        исключительных прав на Приложение и/или его компоненты Пользователю.\n        <br />\n        <br />\n        <br />\n        5. Гарантии и Ответственность\n        <br />\n        5.1. Пользователь признает и соглашается с тем, что Приложение\n        предоставляется на условиях «как есть». Разработчик не предоставляет\n        гарантий в отношении последствий использования Приложения,\n        взаимодействия Приложения с другим программным обеспечением.\n        <br />\n        5.2. Разработчик не предоставляет гарантий того, что Приложение может\n        подходить для конкретных целей использования. Пользователь признает и\n        соглашается с тем, что результат использования Приложения может не\n        соответствовать ожиданиям Пользователя.\n        <br />\n        5.3. Разработчик или иные правообладатели ни при каких обстоятельствах\n        не несут ответственность за любой косвенный, случайный, неумышленный\n        ущерб (включая упущенную выгоду, ущерб, причиненный утратой данных),\n        вызванный в связи с использованием Приложения или невозможностью его\n        использования, в том числе в случае отказа работы Приложения или иного\n        перерыва в использовании Приложения, даже если Разработчик предупреждал\n        или указывал на возможность такого ущерба.\n        <br />\n        5.4. Пользователь самостоятельно несет ответственность за свои действия\n        по использованию Приложения, в том числе за действия по размещению и\n        передаче информации, комментариев, изображений и иных материалов другим\n        Пользователям с помощью Приложения. Пользователь самостоятельно несет\n        ответственность за соблюдение прав третьих лиц, применимого\n        законодательства, настоящих Правил, каких-либо правил и/или обязательных\n        инструкций Разработчика, размещенных в разделе «Помощь» Приложения, при\n        использовании Приложения.\n        <br />\n        5.5. За нарушения, допущенные Пользователем, Разработчик вправе отказать\n        Пользователю в дальнейшем предоставлении услуг или ограничить такое\n        предоставление полностью или частично с уведомлением Пользователя или\n        без такового.\n        <br />\n        5.6. Разработчик не несет ответственности за качество оказанных услуг\n        Пользователей Пользователям, а так же за достоверность информации\n        указанной Пользователями.\n        <br />\n        <br />\n        <br />\n        6. Заключительные положения\n        <br />\n        6.1. Пользователь вправе в любой момент отказаться от предоставления\n        услуг посредством удаления Приложения со своей персональной страницы на\n        Сайте.\n        <br />\n        6.2. Разработчик вправе в любой момент приостанавливать или прекращать\n        функционирование Приложения с уведомлением Пользователей или без\n        такового.\n        <br />\n        6.3. Настоящие Правила регулируются и толкуются в соответствии с\n        законодательством Российской Федерации. Вопросы, не урегулированные\n        Правилами, подлежат разрешению в соответствии с законодательством\n        Российской Федерации.\n        <br />\n        6.4. В случае возникновения любых споров или разногласий, связанных с\n        исполнением настоящих Правил, Разработчик и Пользователь приложат все\n        усилия для их разрешения путем проведения переговоров между ними. В\n        случае, если споры не будут разрешены путем переговоров, споры подлежат\n        разрешению в порядке, установленном действующим законодательством\n        Российской Федерации.\n        <br />\n        6.5. Настоящие Правила составлены на русском языке и могут быть\n        предоставлены Пользователю для ознакомления на другом языке. В случае\n        расхождения русскоязычной версии Правил и версии Правил на ином языке,\n        применяются положения русскоязычной версии настоящих Правил.\n        <br />\n        6.6. Если по тем или иным причинам одно или несколько положений\n        настоящих Правил будут признаны недействительными или не имеющими\n        юридической силы, это не оказывает влияния на действительность или\n        применимость остальных положений.\n      </Div>\n    );\n  }\n}\n\nexport default Rules;\n","import React from \"react\";\nimport {\n  Avatar,\n  Button,\n  ConfigProvider,\n  Epic,\n  Group,\n  Panel,\n  PanelHeader,\n  Placeholder,\n  Root,\n  Separator,\n  Snackbar,\n  Spinner,\n  Tabbar,\n  TabbarItem,\n  Tabs,\n  TabsItem,\n  View,\n} from \"@vkontakte/vkui\";\nimport Icon28More from \"@vkontakte/icons/dist/28/more.js\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport Icon28FireOutline from \"@vkontakte/icons/dist/28/fire_outline\";\nimport Icon28ServicesOutline from \"@vkontakte/icons/dist/28/services_outline\";\nimport Icon16Done from \"@vkontakte/icons/dist/16/done\";\nimport Icon28Search from \"@vkontakte/icons/dist/28/search\";\nimport Head from \"./js/elements/panelHeader\";\nimport MasterCard from \"./js/masters/mastersCard.js\";\nimport MasterPhoto from \"./js/masters/mastersPhoto.js\";\nimport MasterComments from \"./js/masters/mastersComments.js\";\nimport News from \"./js/news/news.js\";\nimport Invite from \"./js/lk/invite.js\";\nimport Lk from \"./js/lk/lk.js\";\nimport History from \"./js/lk/history.js\";\nimport Portfolio from \"./js/lk/portfolio.js\";\nimport Setting from \"./js/lk/setting.js\";\nimport Favourite from \"./js/lk/favourite.js\";\nimport FindModel from \"./js/findmodel/findModel\";\nimport FindModelMaster from \"./js/lk/findModelMaster\";\nimport Partners from \"./js/lk/partners\";\nimport { BACKEND } from \"./js/func/func\";\nimport CityList from \"./js/elements/cityList\";\nimport Moder from \"./js/news/moder\";\nimport Icon24Dismiss from \"@vkontakte/icons/dist/24/dismiss\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport Masters from \"./js/masters/masters\";\nimport CategoriesList from \"./js/elements/categoriesList\";\nimport Rules from \"./js/lk/rules\";\nimport { connect } from \"react-redux\";\nimport Loader from './js/elements/loader'\nimport {\n  changeActiveMasterOnFavs,\n  changeActiveMasterOnFindModels,\n  changeActiveMasterOnMasters,\n  changeActiveViewLk,\n  changeFindModelsList,\n  changeFindModelsListScroll,\n  changeLaunchParams,\n  changeMastersList,\n  changeMasterslistScroll,\n  changeStory,\n  changeTargetCategory,\n  changeTargetCity,\n  goForward,\n  goTo,\n  loginUser,\n  setMaster,\n} from \"./js/store/actions\";\nimport { bindActionCreators } from \"redux\";\nimport Icon56WifiOutline from \"@vkontakte/icons/dist/56/wifi_outline\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      popoutLk: null,\n      popoutInvite: null,\n      activeStory: \"news\",\n      activePanelFindModels: \"findmodel\",\n      activePanelMasters: \"mastersList\",\n      activeMasterId: \"\",\n      activeViewMasters: \"mastersList\",\n      activeViewLk: \"lk\",\n      activePanelLk: \"lk\",\n      activePanelReg: \"registration\",\n      baseCities: \"\",\n      searchCity: \"\",\n      activeModal: null,\n      modalHistory: [],\n      targetCity: \"Не выбрано\",\n      activeTabLk: \"about\",\n      scheme: \"bright_light\",\n      warnConnection: false,\n      mastersModal: null,\n      findModal: null,\n      lkModal: null,\n      snackbarInvite: null,\n    };\n    this.onStoryChange = this.onStoryChange.bind(this);\n  }\n\n  componentDidMount() {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        this.setState({ scheme: data.scheme });\n        if (data.scheme === \"space_gray\")\n          bridge.send(\"VKWebAppSetViewSettings\", { status_bar_style: \"light\" });\n        if (data.scheme === \"bright_light\")\n          bridge.send(\"VKWebAppSetViewSettings\", { status_bar_style: \"dark\" });\n      }\n    });\n    if (this.props.launchParams.sign !== undefined) {\n      this.setState({ validLaunchParams: true });\n      console.log(\"Параметры пришли\");\n      this.props.changeLaunchParams(this.props.launchParams);\n      this.auth(this.props.launchParams);\n    } else {\n      this.setState({ validLaunchParams: false });\n      this.openSnack(\"Ошибка. Не переданы параметры запуска.\");\n    }\n\n    if (this.props.linkParams.masterid) {\n      this.openMasterOnId(this.props.linkParams.masterid);\n      this.props.changeStory(\"masters\");\n    }\n    if (this.props.linkParams.history) {\n      this.goTo(\"lk\", \"history\");\n    }\n    window.onpopstate = () => {\n      this.goBack(this.props.activeStory);\n    };\n  }\n\n  auth = (params) => {\n    fetch(BACKEND.users.auth, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(params),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (this.state.warnConnection === true) {\n          this.setState({ warnConnection: false, snackbar: null });\n        }\n        this.setState({ validLaunchParams: true });\n        this.props.loginUser(data.user);\n        if (data.master !== null) {\n          this.props.setMaster(data.master);\n        }\n      })\n      .catch((e) => {\n        console.log(e);\n        this.setState({\n          snackbar: (\n            <Snackbar\n              duration=\"3000\"\n              layout=\"vertical\"\n              onClose={() => this.setState({ snackbar: null })}\n              before={<Icon24Dismiss />}\n            >\n              Ошибка подключения к серверу. Страшно, очень страшно, мы не знаем\n              что это такое, если бы мы знали что это такое, то мы бы знали, что\n              это такое.\n            </Snackbar>\n          ),\n        });\n        this.setState({ warnConnection: true });\n      });\n  };\n\n  openSnack(text) {\n    const blueBackground = {\n      backgroundColor: \"var(--accent)\",\n    };\n    if (this.state.snackbar) this.setState({ snackbar: null });\n    this.setState({\n      snackbar: (\n        <Snackbar\n          duration=\"3000\"\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbar: null })}\n          before={\n            <Avatar size={24} style={blueBackground}>\n              <Icon16Done fill=\"#fff\" width={14} height={14} />\n            </Avatar>\n          }\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  openSnackInvite(text) {\n    if (this.state.snackbarInvite) this.setState({ snackbarInvite: null });\n    this.setState({\n      snackbarInvite: (\n        <Snackbar\n          duration=\"3000\"\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbarInvite: null })}\n          before={<Icon24Dismiss />}\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  openMasterOnId = (masterId) => {\n    fetch(BACKEND.masters.onID + masterId)\n      .then((res) => res.json())\n      .then((master) => {\n        if (master.error) master = null;\n        this.props.changeActiveMasterOnMasters(master);\n        this.goTo(\"masters\", \"masterInfo\");\n      });\n  };\n\n  openFindMasterOnId = (masterId) => {\n    fetch(BACKEND.masters.onID + masterId)\n      .then((res) => res.json())\n      .then((master) => {\n        this.props.changeActiveMasterOnFindModels(master);\n        this.goTo(\"findmodel\", \"masterInfo\");\n      });\n  };\n\n  openSnackLk(text) {\n    const blueBackground = {\n      backgroundColor: \"var(--accent)\",\n    };\n    if (this.state.snackbarLk) this.setState({ snackbarLk: null });\n    this.setState({\n      snackbarLk: (\n        <Snackbar\n          duration=\"3000\"\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbarLk: null })}\n          before={\n            <Avatar size={24} style={blueBackground}>\n              <Icon16Done fill=\"#fff\" width={14} height={14} />\n            </Avatar>\n          }\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  openSnackLkDismiss(text) {\n    if (this.state.snackbarLk) this.setState({ snackbarLk: null });\n    this.setState({\n      snackbarLk: (\n        <Snackbar\n          duration=\"3000\"\n          layout=\"vertical\"\n          onClose={() => this.setState({ snackbarLk: null })}\n          before={<Icon24Dismiss />}\n        >\n          {text}\n        </Snackbar>\n      ),\n    });\n  }\n\n  closeReg = (master) => {\n    fetch(BACKEND.masters.all, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(master),\n    })\n      .then((res) => res.json())\n      .then((newMaster) => {\n        if (newMaster.error) {\n          this.openSnack(newMaster.error);\n        } else {\n          this.props.setMaster(newMaster);\n          this.goTo(\"lk\", \"lk\");\n        }\n      })\n      .catch((e) => {\n        console.log(e);\n        //this.openSnack(e.message)\n      });\n  };\n\n  goTo = (story, panel) => {\n    window.history.pushState({ panel: panel }, panel);\n    this.props.goTo(story, panel);\n    let hist = this.props[story + \"History\"];\n  };\n\n  goBack = (story) => {\n    if (this.props[story + \"History\"].length === 1) {\n      bridge.send(\"VKWebAppClose\", { status: \"sucsess\" });\n    } else {\n      this.props.goForward(story);\n      let hist = this.props[story + \"History\"];\n    }\n  };\n\n  activePanelMasters = (name) => {\n    this.setState({ activePanelMasters: name });\n  };\n\n  openStory = (storyName) => {\n    this.setState({ activeStory: storyName });\n  };\n\n  onStoryChange(e) {\n    this.setState({ activeStory: e.currentTarget.dataset.story });\n  }\n\n  changeTargetCity(geo) {\n    let user = this.props.user;\n    user.location.city = geo.city;\n    user.location.country = geo.country;\n    this.props.changeTargetCity(geo.city);\n    user.params = this.props.params;\n    return fetch(BACKEND.users.changeCity, {\n      method: \"PATCH\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: { \"Content-Type\": \"application/json\" },\n      redirect: \"follow\",\n      referrer: \"no-referrer\",\n      body: JSON.stringify(user),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(\"ok\");\n      })\n      .catch((e) => console.log(e));\n  }\n\n  render() {\n    const { user, loginStatus } = this.props;\n    if (this.state.warnConnection === true) {\n      return (\n        <ConfigProvider scheme={this.state.scheme}>\n          <View id=\"loading\" activePanel=\"loading\">\n            <Panel id=\"loading\">\n              <Placeholder\n                stretched\n                icon={<Icon56WifiOutline />}\n                header={\"Что-то не так!\"}\n                action={\n                  <Button\n                    size=\"l\"\n                    onClick={() => this.auth(this.props.launchParams)}\n                  >\n                    Повторить авторизацию\n                  </Button>\n                }\n              >\n                Проверьте интернет-соединение.\n              </Placeholder>\n              {this.state.snackbar}\n            </Panel>\n          </View>\n        </ConfigProvider>\n      );\n    } else if (this.state.validLaunchParams === false) {\n      return (\n        <ConfigProvider scheme={this.state.scheme}>\n          <View id=\"warn\" activePanel=\"warn\">\n            <Panel id=\"warn\">\n              <Placeholder\n                icon={<Spinner size=\"large\" style={{ marginTop: 40 }} />}\n              >\n                Всё, беда! Вы все сломали :(\n              </Placeholder>\n              {this.state.snackbar}\n            </Panel>\n          </View>\n        </ConfigProvider>\n      );\n    } else if (loginStatus === false) {\n      return (\n        <ConfigProvider scheme={this.state.scheme}>\n          <View id=\"loading\" activePanel=\"loading\">\n            <Panel id=\"loading\">\n              <Placeholder\n                stretched\n                icon={<Loader />}\n                header=\"Выполняется вход...\"\n              >\n                Это может занять несколько секунд\n                {this.state.snackbar}\n              </Placeholder>\n            </Panel>\n          </View>\n        </ConfigProvider>\n      );\n    } else {\n      return (\n        <ConfigProvider scheme={this.state.scheme}>\n          <Epic\n            activeStory={this.props.activeStory}\n            tabbar={\n              <Tabbar>\n                <TabbarItem\n                  onClick={() => {\n                    if (this.props.activeStory === \"news\") {\n                      this.goTo(\"news\", \"news\");\n                    } else {\n                      this.props.changeStory(\"news\");\n                    }\n                  }}\n                  selected={this.props.activeStory === \"news\"}\n                  data-story=\"news\"\n                  text=\"Новости\"\n                >\n                  <Icon28FireOutline />\n                </TabbarItem>\n                <TabbarItem\n                  onClick={() => {\n                    if (this.props.activeStory === \"masters\") {\n                      this.goTo(\"masters\", \"mastersList\");\n                    } else {\n                      this.props.changeStory(\"masters\");\n                    }\n                  }}\n                  selected={this.props.activeStory === \"masters\"}\n                  data-story=\"masters\"\n                  text=\"Мастера\"\n                >\n                  <Icon28ServicesOutline />\n                </TabbarItem>\n                <TabbarItem\n                  onClick={() => {\n                    if (this.props.activeStory === \"findmodel\") {\n                      this.goTo(\"findmodel\", \"findmodel\");\n                    } else {\n                      this.props.changeStory(\"findmodel\");\n                    }\n                  }}\n                  selected={this.props.activeStory === \"findmodel\"}\n                  data-story=\"findmodel\"\n                  text=\"Ищу модель\"\n                >\n                  <Icon28Search />\n                </TabbarItem>\n                <TabbarItem\n                  onClick={() => {\n                    this.setState({ snackbarLk: null });\n                    if (this.props.activeStory === \"lk\") {\n                      this.goTo(\"lk\", \"lk\");\n                    } else {\n                      this.props.changeStory(\"lk\");\n                    }\n                  }}\n                  selected={this.props.activeStory === \"lk\"}\n                  data-story=\"lk\"\n                  text=\"Кабинет\"\n                >\n                  <Icon28More />\n                </TabbarItem>\n              </Tabbar>\n            }\n          >\n            <View\n              id=\"news\"\n              history={this.props.newsHistory}\n              onSwipeBack={() => this.goBack(\"news\")}\n              activePanel={\n                this.props.newsHistory[this.props.newsHistory.length - 1]\n              }\n            >\n              <News\n                id=\"news\"\n                params={this.props.params}\n                openReg={() => {\n                  this.props.changeStory(\"lk\");\n                  this.goTo(\"lk\", \"registration\");\n                }}\n                openStory={this.openStory}\n                user={this.props.user}\n                openModer={() => this.goTo(\"news\", \"moder\")}\n              />\n              <Moder\n                id=\"moder\"\n                goBack={() => this.goBack(\"news\")}\n                user={this.state.user}\n                openMaster={(master) => {\n                  this.setState({ activeMaster: master });\n                  this.goTo(\"news\", \"masterInfo\");\n                }}\n              />\n              <Panel id=\"masterInfo\">\n                <MasterCard\n                  goBack={() => this.goBack(\"news\")}\n                  openPhoto={() => \"null\"}\n                  openComments={() => \"null\"}\n                  activeMaster={this.state.activeMaster}\n                  setActiveMaster={(master) =>\n                    this.setState({ activeMaster: master })\n                  }\n                  openModal={(content) => {\n                    this.setState({ mastersModal: content });\n                  }}\n                />\n              </Panel>\n            </View>\n            <View\n              id=\"masters\"\n              modal={this.state.mastersModal}\n              activePanel={\n                this.props.mastersHistory[this.props.mastersHistory.length - 1]\n              }\n              history={this.props.mastersHistory}\n              onSwipeBack={() => this.goBack(\"masters\")}\n            >\n              <Masters\n                id=\"mastersList\"\n                changeCity={() => this.goTo(\"masters\", \"changeCity\")}\n                openSnack={(title) => this.openSnack(title)}\n                changeCategory={() => this.goTo(\"masters\", \"masterCat\")}\n                openPanelMaster={(master) => {\n                  this.props.changeActiveMasterOnMasters(master);\n                  this.goTo(\"masters\", \"masterInfo\");\n                }}\n                snackbar={this.state.snackbar}\n              />\n              <Panel id=\"changeCity\">\n                <Head\n                  title={\"Выбор города\"}\n                  goBack={() => this.goBack(\"masters\")}\n                />\n                <CityList\n                  id=\"changeCity\"\n                  goBack={() => this.goBack(\"masters\")}\n                  changeCity={(city) => {\n                    this.changeTargetCity(city);\n                    this.goBack(\"masters\");\n                  }}\n                />\n              </Panel>\n              <Panel id=\"masterInfo\">\n                <MasterCard\n                  id=\"masterInfo\"\n                  goBack={() => this.goBack(\"masters\")}\n                  openPhoto={() => this.goTo(\"masters\", \"masterPhoto\")}\n                  openComments={() => this.goTo(\"masters\", \"masterComments\")}\n                  activeMaster={this.props.activeMasterOnMasters}\n                  openModal={(content) => {\n                    this.setState({ mastersModal: content });\n                  }}\n                />\n              </Panel>\n              <Panel id=\"masterPhoto\">\n                <Head\n                  title={\"Портфолио\"}\n                  goBack={() => this.goBack(\"masters\")}\n                />\n                <MasterPhoto\n                  goBack={() => this.goBack(\"masters\")}\n                  activeMaster={this.props.activeMasterOnMasters}\n                />\n              </Panel>\n              <Panel id=\"masterComments\">\n                <Head title={\"Отзывы\"} goBack={() => this.goBack(\"masters\")} />\n                <MasterComments\n                  goBack={() => this.goBack(\"masters\")}\n                  activeMaster={this.props.activeMasterOnMasters}\n                />\n              </Panel>\n              <Panel id=\"masterCat\">\n                <Head\n                  title={\"Выбор категории\"}\n                  goBack={() => this.goBack(\"masters\")}\n                />\n                <Group>\n                  <CategoriesList\n                    scheme={this.state.scheme}\n                    setCategory={(category) => {\n                      this.props.changeTargetCategory(category);\n                      this.goBack(\"masters\");\n                    }}\n                  />\n                </Group>\n              </Panel>\n            </View>\n            <View\n              id=\"findmodel\"\n              activePanel={\n                this.props.findmodelHistory[\n                  this.props.findmodelHistory.length - 1\n                ]\n              }\n              history={this.props.findmodelHistory}\n              onSwipeBack={() => this.goBack(\"findmodel\")}\n              modal={this.state.findModal}\n            >\n              <Panel id=\"findmodel\">\n                <PanelHeader>Ищу модель</PanelHeader>\n                <FindModel\n                  openMasterOnId={(masterId) =>\n                    this.openFindMasterOnId(masterId)\n                  }\n                  changeCity={() => this.goTo(\"findmodel\", \"changeCity\")}\n                />\n              </Panel>\n              <Panel id=\"changeCity\">\n                <Head\n                  title={\"Выбор города\"}\n                  goBack={() => this.goBack(\"findmodel\")}\n                />\n                <CityList\n                  id=\"changeCity\"\n                  goBack={() => this.goBack(\"findmodel\")}\n                  changeCity={(city) => {\n                    this.changeTargetCity(city);\n                    this.goBack(\"findmodel\");\n                  }}\n                />\n              </Panel>\n              <Panel id=\"masterInfo\">\n                <MasterCard\n                  id=\"masterInfo\"\n                  goBack={() => this.goBack(\"findmodel\")}\n                  openPhoto={() => this.goTo(\"findmodel\", \"masterPhoto\")}\n                  activeMaster={this.props.activeMasterOnFindModels}\n                  openComments={() => this.goTo(\"findmodel\", \"masterComments\")}\n                  openModal={(content) => {\n                    this.setState({ findModal: content });\n                  }}\n                />\n              </Panel>\n              <Panel id=\"masterPhoto\">\n                <Head\n                  title={\"Портфолио\"}\n                  goBack={() => this.goBack(\"findmodel\")}\n                />\n                <MasterPhoto\n                  goBack={() => this.goBack(\"findmodel\")}\n                  activeMaster={this.props.activeMasterOnFindModels}\n                />\n              </Panel>\n              <Panel id=\"masterComments\">\n                <Head\n                  title={\"Отзывы\"}\n                  goBack={() => this.goBack(\"findmodel\")}\n                />\n                <MasterComments\n                  goBack={() => this.goBack(\"findmodel\")}\n                  activeMaster={this.props.activeMasterOnFindModels}\n                />\n              </Panel>\n            </View>\n            <Root\n              id=\"lk\"\n              activeView={this.props.activeViewLk}\n              modal={this.state.lkModal}\n            >\n              <View\n                id=\"lk\"\n                popout={this.state.popoutLk}\n                activePanel={\n                  this.props.lkHistory[this.props.lkHistory.length - 1]\n                }\n                history={this.props.lkHistory}\n                onSwipeBack={() => this.goBack(\"lk\")}\n              >\n                <Panel id=\"lk\">\n                  <PanelHeader separator={false}>Кабинет</PanelHeader>\n                  <Tabs>\n                    <TabsItem\n                      onClick={() => this.setState({ activeTabLk: \"about\" })}\n                      selected={this.state.activeTabLk === \"about\"}\n                    >\n                      О пользователе\n                    </TabsItem>\n                    <TabsItem\n                      onClick={() => this.setState({ activeTabLk: \"partners\" })}\n                      selected={this.state.activeTabLk === \"partners\"}\n                    >\n                      Партнёрам\n                    </TabsItem>\n                  </Tabs>\n                  <Separator />\n                  {this.state.activeTabLk === \"about\" ? (\n                    <Lk\n                      master={this.props.master}\n                      user={user}\n                      openSetting={() => this.goTo(\"lk\", \"setting\")}\n                      openFavourite={() => this.goTo(\"lk\", \"favourite\")}\n                      openFindModel={() => this.goTo(\"lk\", \"findModel\")}\n                      openMasterPhoto={() => this.goTo(\"lk\", \"portfolio\")}\n                      openHistory={() => this.goTo(\"lk\", \"history\")}\n                      isFavourite={this.props.params.vk_is_favorite}\n                    />\n                  ) : (\n                    <Partners />\n                  )}\n                  {this.state.snackbarLk}\n                </Panel>\n                <Panel id=\"setting\">\n                  <Setting\n                    setAlert={(alert) => this.setState({ popoutLk: alert })}\n                    snackbar={(message) => this.openSnackLk(message)}\n                    snackbarDismiss={(message) =>\n                      this.openSnackLkDismiss(message)\n                    }\n                    modalBack={this.modalBack}\n                    activeModal={this.state.activeModal}\n                    changeCity={() => this.goTo(\"lk\", \"changeCity\")}\n                    goBack={() => this.goBack(\"lk\")}\n                    snackbarLk={this.state.snackbarLk}\n                  />\n                </Panel>\n                <Panel id=\"changeCity\">\n                  <Head\n                    title={\"Выбор города\"}\n                    goBack={() => this.goBack(\"lk\")}\n                  />\n                  <CityList\n                    id=\"changeCity\"\n                    goBack={() => this.goBack(\"lk\")}\n                    changeCity={(geo) => {\n                      let master = this.props.master;\n                      master.location.city = geo.city;\n                      master.location.country = geo.country;\n                      master.changed = true;\n                      this.props.setMaster(master);\n                      this.goBack(\"lk\");\n                    }}\n                  />\n                </Panel>\n                <Panel id=\"favourite\">\n                  <Favourite\n                    goBack={() => this.goBack(\"lk\")}\n                    user={user}\n                    openFavMasterOnId={(master) => {\n                      this.props.changeActiveMasterOnFavs(master);\n                      this.goTo(\"lk\", \"masterInfo\");\n                    }}\n                  />\n                </Panel>\n                <Panel id=\"history\">\n                  <History goBack={() => this.goBack(\"lk\")} user={user} />\n                </Panel>\n                <Panel id=\"masterInfo\">\n                  <MasterCard\n                    goBack={() => this.goBack(\"lk\")}\n                    openPhoto={() => this.goTo(\"lk\", \"masterPhoto\")}\n                    user={user}\n                    activeMaster={this.props.activeMasterOnFavs}\n                    openComments={() => this.goTo(\"lk\", \"masterComments\")}\n                    setActiveMaster={(master) =>\n                      this.setState({ activeMaster: master })\n                    }\n                    openModal={(content) => {\n                      this.setState({ lkModal: content });\n                    }}\n                  />\n                </Panel>\n                <Panel id=\"masterPhoto\">\n                  <Head title={\"Портфолио\"} goBack={() => this.goBack(\"lk\")} />\n                  <MasterPhoto\n                    goBack={() =>\n                      this.setState({ activePanelLk: \"masterInfo\" })\n                    }\n                    activeMaster={this.props.activeMasterOnFavs}\n                  />\n                </Panel>\n                <Panel id=\"portfolio\">\n                  <Portfolio\n                    id=\"portfolio\"\n                    setAlert={(alert) => this.setState({ popoutLk: alert })}\n                    goBack={() => this.goBack(\"lk\")}\n                    user={user}\n                  />\n                </Panel>\n                <Panel id=\"masterComments\">\n                  <Head title=\"Отзывы\" goBack={() => this.goBack(\"lk\")} />\n                  <MasterComments\n                    goBack={() => this.goBack(\"lk\")}\n                    user={user}\n                    activeMaster={this.props.activeMasterOnFavs}\n                  />\n                </Panel>\n                <Panel id=\"findModel\">\n                  <Head title=\"Ищу модель\" goBack={() => this.goBack(\"lk\")} />\n                  <FindModelMaster\n                    goBack={() => this.goBack(\"lk\")}\n                    user={user}\n                    popout={this.openAlert}\n                  />\n                </Panel>\n\n                {/*reg*/}\n                <Panel id=\"registration\">\n                  <Head\n                    title={\"Регистрация\"}\n                    goBack={() => {\n                      this.goBack(\"lk\");\n                    }}\n                  />\n                  <Invite\n                    setAlert={(alert) => this.setState({ popoutLk: alert })}\n                    goBack={() => this.props.changeActiveViewLk(\"lk\")}\n                    closeReg={this.closeReg}\n                    changeCity={() => this.goTo(\"lk\", \"changeCityReg\")}\n                    openRules={() => this.goTo(\"lk\", \"rules\")}\n                    snackbar={(message) => this.openSnackInvite(message)}\n                  />\n                  {this.state.snackbarInvite}\n                </Panel>\n                <Panel id=\"rules\">\n                  <Head title=\"Соглашение\" goBack={() => this.goBack(\"lk\")} />\n                  <Rules goBack={() => this.goBack(\"lk\")} />\n                </Panel>\n                <Panel id=\"changeCityReg\">\n                  <Head\n                    title={\"Выбор города\"}\n                    goBack={() => this.goBack(\"lk\")}\n                  />\n                  <CityList\n                    id=\"changeCityReg\"\n                    goBack={() => this.goBack(\"lk\")}\n                    changeCity={(city) => {\n                      this.changeTargetCity(city);\n                      this.goBack(\"lk\");\n                    }}\n                  />\n                </Panel>\n              </View>\n            </Root>\n          </Epic>\n        </ConfigProvider>\n      );\n    }\n  }\n}\n\nconst putStateToProps = (state) => {\n  return {\n    mastersList: state.mastersList,\n    targetCategory: state.targetCategory,\n    targetCity: state.targetCity,\n    mastersListScroll: state.mastersListScroll,\n    findModelsList: state.findModelsList,\n    findModelsListScroll: state.findModelsListScroll,\n    user: state.user,\n    loginStatus: state.loginStatus,\n    master: state.master,\n    activeMasterOnMasters: state.activeMasterOnMasters,\n    activeMasterOnFindModels: state.activeMasterOnFindModels,\n    activeMasterOnFavs: state.activeMasterOnFavs,\n    params: state.params,\n    activePanelnews: state.activePanelnews,\n    activePanelmasters: state.activePanelmasters,\n    activePanelfindmodel: state.activePanelfindmodel,\n    activePanellk: state.activePanellk,\n    activeStory: state.activeStory,\n    newsHistory: state.newsHistory,\n    mastersHistory: state.mastersHistory,\n    findmodelHistory: state.findmodelHistory,\n    lkHistory: state.lkHistory,\n    activeViewLk: state.activeViewLk,\n    activePanelregistration: state.activePanelregistration,\n    registrationHistory: state.registrationHistory,\n  };\n};\n\nconst putActionsToProps = (dispatch) => {\n  return {\n    changeMastersList: bindActionCreators(changeMastersList, dispatch),\n    changeTargetCategory: bindActionCreators(changeTargetCategory, dispatch),\n    changeTargetCity: bindActionCreators(changeTargetCity, dispatch),\n    changeMasterslistScroll: bindActionCreators(\n      changeMasterslistScroll,\n      dispatch\n    ),\n    changeFindModelsList: bindActionCreators(changeFindModelsList, dispatch),\n    changeFindModelsListScroll: bindActionCreators(\n      changeFindModelsListScroll,\n      dispatch\n    ),\n    loginUser: bindActionCreators(loginUser, dispatch),\n    setMaster: bindActionCreators(setMaster, dispatch),\n    changeActiveMasterOnMasters: bindActionCreators(\n      changeActiveMasterOnMasters,\n      dispatch\n    ),\n    changeActiveMasterOnFindModels: bindActionCreators(\n      changeActiveMasterOnFindModels,\n      dispatch\n    ),\n    changeActiveMasterOnFavs: bindActionCreators(\n      changeActiveMasterOnFavs,\n      dispatch\n    ),\n    changeLaunchParams: bindActionCreators(changeLaunchParams, dispatch),\n    changeStory: bindActionCreators(changeStory, dispatch),\n    goTo: bindActionCreators(goTo, dispatch),\n    goForward: bindActionCreators(goForward, dispatch),\n    changeActiveViewLk: bindActionCreators(changeActiveViewLk, dispatch),\n  };\n};\n\nexport default connect(putStateToProps, putActionsToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { rootReducer } from \"./js/store/reducers\";\n\nrequire(\"dotenv\").config();\n\nconst store = createStore(rootReducer);\nbridge.send(\"VKWebAppInit\", {});\n\nlet linkParams = window.location.hash\n  .replace(\"#\", \"\")\n  .split(\"&\")\n  .reduce(function (p, e) {\n    let a = e.split(\"=\");\n    p[decodeURIComponent(a[0])] = decodeURIComponent(a[1]);\n    return p;\n  }, {});\n\nlet params = window.location.search\n  .replace(\"?\", \"\")\n  .split(\"&\")\n  .reduce(function (p, e) {\n    let a = e.split(\"=\");\n    p[decodeURIComponent(a[0])] = decodeURIComponent(a[1]);\n    return p;\n  }, {});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App launchParams={params} linkParams={linkParams} />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}