(this.webpackJsonpnavg=this.webpackJsonpnavg||[]).push([[0],{121:function(e,t,a){e.exports=a(147)},126:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),o=a.n(s),i=(a(126),a(12)),c=a(13),l=a(26),u=a(15),d=a(14),m=a(1),p=a(75),h=a.n(p),g=(a(39),a(76)),f=a.n(g),v=a(77),b=a.n(v),y=a(29),E=a.n(y),k=a(78),C=a.n(k),S=function(e){return r.a.createElement(m.D,{theme:"light",left:r.a.createElement(m.E,{onClick:e.goBack})},e.title)},O=a(25),M=a.n(O),w=a(27),L=a(24),P=a(79),T=a.n(P),j=a(80),_=a.n(j),A=a(81),I=a.n(A),B="https://mysterious-garden-57052.herokuapp.com/",N={users:{auth:B+"users/auth/",like:B+"users/like/"},message:B+"users/message/",masters:{all:B+"masters/",onID:B+"masters/",category:B+"masters/category/",vkuid:B+"masters/vkuid/",subscribers:B+"masters/subscribe/",onarrayid:B+"masters/onarrayid/",connect:B+"masters/connect/"},favs:{new:B+"favs/",master:B+"favs/master/",user:B+"favs/user/"},findModel:{new:B+"findmodel/",onMasterId:B+"findmodel/onMasterId/",onCity:B+"findmodel/onCity/"},comment:{new:B+"comment/master/",onMasterId:B+"comment/master/",moderation:B+"comment/moderation/"},vkapi:{uploadPhoto:B+"vkapi/uploadPhoto/",savePhoto:B+"vkapi/savePhoto/",savePhotoFindModels:B+"vkapi/savePhotoFindModels/",getCities:B+"vkapi/getCities",isMember:B+"vkapi/isMember",getAlbum:B+"vkapi/getAlbum",delPhoto:B+"vkapi/delPhoto/"},category:{getAll:B+"category/"},logs:{params:B+"logs/params/"},sendmessage:B+"sendmessage",moder:B+"masters/moderation/",moderCom:B+"comment/moderation/"},F=a(11),R=a.n(F);var z=a(23),x=a(50),G=a.n(x),D=a(83),H=a.n(D),V=(a(142),a(16)),U=a(18),W={loginStatus:!1,user:{},master:null,mastersList:[],mastersListScroll:0,targetCategory:"",targetCity:"",findModelsList:[],findModelsListScroll:0,activeMasterOnMasters:{},activeMasterOnFindModels:{},activeMasterOnFavs:{},params:null,activePanelnews:"news",activePanelmasters:"mastersList",activePanelfindmodel:"findmodel",activePanellk:"lk",newsHistory:["news"],mastersHistory:["mastersList"],findmodelHistory:["findmodel"],lkHistory:["lk"],activeStory:"news",activeViewLk:"lk",regSet:null},K=function(e){return console.log("SET_MASTER"),{type:"SET_MASTER",payload:e}},J=function(e){return console.log("LOGIN_USER"),{type:"LOGIN_USER",payload:e}},$=function(e){return console.log("in ACTION_CHANGE_MASTERS_LIST"),{type:"ACTION_CHANGE_MASTERS_LIST",payload:e}},Y=function(e){return console.log("in ACTION_CHANGE_TARGET_CATEGORY"),{type:"ACTION_CHANGE_TARGET_CATEGORY",payload:e}},q=function(e){return console.log("in ACTION_CHANGE_TARGET_CITY"),{type:"ACTION_CHANGE_TARGET_CITY",payload:e}},Q=function(e){return console.log("in ACTION_CHANGE_MASTERSLIST_SCROLL"),{type:"ACTION_CHANGE_MASTERSLIST_SCROLL",payload:e}},Z=function(e){return console.log("in ACTION_CHANGE_FINDMODELS_LIST"),{type:"ACTION_CHANGE_FINDMODELS_LIST",payload:e}},X=function(e){return console.log("in ACTION_CHANGE_FINDMODELS_SCROLL"),{type:"ACTION_CHANGE_FINDMODELS_SCROLL",payload:e}},ee=function(e){return console.log("in ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS"),{type:"ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS",payload:e}},te=function(e){return console.log("in ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS"),{type:"ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS",payload:e}},ae=function(e){return console.log("in ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS"),{type:"ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS",payload:e}},ne=function(e){return console.log("in SET_LAUNCH_PARAMS"),{type:"SET_LAUNCH_PARAMS",payload:e}},re=function(e,t){return{type:"GO_TO",payload:{story:e,panel:t}}},se=function(e){return{type:"GO_FORWARD",payload:{story:e}}},oe=function(e){return{type:"CHANGE_STORY",payload:e}},ie=function(e){return{type:"CHANGE_ACTIVE_VIEW_LK",payload:e}},ce=function(e){return{type:"REG_SET",payload:e}},le=a(45),ue=a.n(le),de=a(30),me=a.n(de),pe=a(31),he=a.n(pe),ge=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.changeNumber=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value),n.openModal)},n.sendMessage=function(){var e={params:n.props.params,title:n.state.sendtitle,phone:n.state.phone};fetch(N.masters.connect+n.state.activeMaster._id,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.error?(n.props.openModal(null),n.openSnackAvatar(e.error,n.state.activeMaster.avatarLink)):(n.props.openModal(null),n.openSnackAvatar("\u041c\u044b \u0443\u0432\u0435\u0434\u043e\u043c\u0438\u043b\u0438 \u043c\u0430\u0441\u0442\u0435\u0440\u0430, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441 \u043d\u0438\u043c \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f. \u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435.",n.state.activeMaster.avatarLink))})).catch((function(e){n.props.openModal(null),n.openSnackAvatar(e.message,n.state.activeMaster.avatarLink)}))},n.favStatus=function(){return!1===n.state.isFavourite?r.a.createElement(m.n,{style:{float:"right",padding:0,marginRight:20},onClick:n.checkFavs},r.a.createElement(I.a,{width:30,height:30,fill:"red"})):r.a.createElement(m.n,{style:{float:"right",padding:0,marginRight:20},onClick:n.checkFavs},r.a.createElement(_.a,{width:30,height:30,fill:"red"}))},n.connectStatus=function(e){return r.a.createElement(m.j,{before:r.a.createElement(H.a,null),onClick:function(){return n.enterNumber(e)}},"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")},n.share=function(){R.a.send("VKWebAppShare",{link:"https://m.vk.com/app7170938#masterid="+n.state.activeMaster._id}).then((function(e){"VKWebAppShareResult"===e.type&&n.openSnackAvatar("\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043c\u0430\u0441\u0442\u0435\u0440\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430.",n.state.activeMaster.avatarLink)}))},n.loadFavs=function(){n.props.user.favs&&(n.props.user.favs.includes(n.state.activeMaster._id)?n.setState({isFavourite:!0}):n.setState({isFavourite:!1})),n.setState({countFavs:n.state.activeMaster.subscribers.length,isLoad:!0})},n.changeVisible=function(e){n.setState(Object(L.a)({},e,!n.state[e]))},n.checkFavs=function(){if(!1===n.state.isFavourite){var e=n.props.user;e.favs.push(n.state.activeMaster._id),n.props.loginUser(e),n.setState({isFavourite:!0,countFavs:n.state.countFavs+1,isChange:!n.state.isChange},(function(){return n.openSnackAvatar("\u041c\u0430\u0441\u0442\u0435\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445.",n.state.activeMaster.avatarLink)}))}else{var t=n.props.user,a=n.props.user.favs.indexOf(n.state.activeMaster._id),r=n.props.user.favs;a>-1?r.splice(a,1):r.splice(0,a),n.props.loginUser(t),n.setState({isFavourite:!1,countFavs:n.state.countFavs-1,isChange:!n.state.isChange},(function(){return n.openSnackAvatar("\u041c\u0430\u0441\u0442\u0435\u0440 \u0443\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445.",n.state.activeMaster.avatarLink)}))}},n.getPhone=function(){console.log("\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u044e \u043d\u043e\u043c\u0435\u0440"),R.a.send("VKWebAppGetPhoneNumber",{group_id:193179174,key:"dBuBKe1kFcdemzB"}).then((function(e){n.setState({phone:e.phone_number},(function(){return n.openModal()}))})).catch((function(e){console.log(e),n.openModal()}))},n.enterNumber=function(){var e=Object(w.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({sendtitle:t}),n.openModal();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.openModal=function(){console.log("\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u044e \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),n.props.openModal(r.a.createElement(m.B,{activeModal:"phoneNumber",onClose:function(){return n.props.openModal(null)}},r.a.createElement(m.A,{id:"phoneNumber",onClose:function(){return n.props.openModal(null)},header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",caption:r.a.createElement(m.s,null,r.a.createElement(m.n,{className:"FormField Input Input--center"},r.a.createElement(T.a,{className:"Input__el",name:"phone",type:"number",align:"center",value:n.state.phone,onChange:n.changeNumber}),r.a.createElement(m.n,{className:"FormField__border"})),""===n.state.phone&&r.a.createElement(m.j,{onClick:function(){n.getPhone()}},"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440"),r.a.createElement("p",null,"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 7 (\u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 7\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425). \u0415\u0441\u043b\u0438 \u043c\u0430\u0441\u0442\u0435\u0440 \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441, \u043e\u043d \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0432\u0430\u043c\u0438."),r.a.createElement(m.d,{onClick:n.sendMessage},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))})))},n.state={isLoad:!1,snackbar:null,isChange:!1,activeMaster:{},phone:""},n.handleChange=n.handleChange.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({activeMaster:this.props.activeMaster},(function(){null!==e.props.activeMaster&&e.loadFavs()}))}},{key:"componentWillUnmount",value:function(){var e=this;if(this.state.isChange){var t=this.props.mastersList.map((function(t){return t._id===e.state.activeMaster._id?(t.subscribers.includes(e.props.user._id)?t.subscribers=t.subscribers.filter((function(t){return t!==e.props.user._id})):t.subscribers.push(e.props.user._id),t):t}));if(this.props.changeMastersList(t),this.props.activeMasterOnFindModels._id===this.state.activeMaster._id){var a=this.props.activeMasterOnFindModels;a.subscribers.includes(this.props.user._id)?a.subscribers=a.subscribers.filter((function(t){return t!==e.props.user._id})):a.subscribers.push(this.props.user._id),this.props.changeActiveMasterOnFindModels(a)}!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(N.users.like+this.state.activeMaster._id,this.props.params)}}},{key:"openShowImages",value:function(e,t){R.a.send("VKWebAppShowImages",{images:e,start_index:t}).then((function(e){return console.log(e)}))}},{key:"openSnackAvatar",value:function(e,t){var a=this;this.state.snackbar&&this.setState({snackbar:null}),this.setState({snackbar:r.a.createElement(m.O,{duration:"3000",layout:"vertical",onClose:function(){return a.setState({snackbar:null})},after:r.a.createElement(m.b,{src:t,size:32})},e)})}},{key:"postData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return fetch(e,{method:a,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return console.log("ok")}))}},{key:"render",value:function(){var e=this;return null===this.props.activeMaster?r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(S,{title:"\u041e \u043c\u0430\u0441\u0442\u0435\u0440\u0435",goBack:function(){return e.props.goBack()}}),r.a.createElement(m.G,{icon:r.a.createElement(ue.a,null),header:"\u041c\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u043c \u0442\u0430\u043a\u0438\u0445 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432."},"\u041c\u0430\u0441\u0442\u0435\u0440 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")):this.props.activeMaster.error?r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(S,{title:"\u041e \u043c\u0430\u0441\u0442\u0435\u0440\u0435",goBack:function(){return e.props.goBack()}}),r.a.createElement(m.G,{icon:r.a.createElement(ue.a,null),header:"\u0422\u0443\u0442 \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435\u0442 :)"},"\u041c\u0430\u0441\u0442\u0435\u0440 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.")):!1===this.state.isLoad?r.a.createElement(m.P,{size:"large",style:{marginTop:20}}):!1===this.state.activeMaster.visible?r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(S,{title:"\u041e \u043c\u0430\u0441\u0442\u0435\u0440\u0435",goBack:function(){return e.props.goBack()}}),r.a.createElement(m.G,{icon:r.a.createElement(ue.a,null),header:"\u0422\u0443\u0442 \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435\u0442 :)"},"\u041c\u0430\u0441\u0442\u0435\u0440 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0435\u043b \u0441\u043a\u0440\u044b\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c.")):r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(S,{title:"\u041e \u043c\u0430\u0441\u0442\u0435\u0440\u0435",goBack:function(){return e.props.goBack()}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{separator:"hide"},r.a.createElement(m.g,null,r.a.createElement(m.f,{size:"l"},r.a.createElement(m.I,{disabled:!0,multiline:!0,before:r.a.createElement(m.b,{src:this.state.activeMaster.avatarLink,size:90}),text:r.a.createElement(m.e,{level:"2",weight:"regular",style:{marginBottom:15}},"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"===this.state.activeMaster.type?this.state.activeMaster.brand:this.state.activeMaster.type),caption:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.d,{onClick:function(){return e.share()}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),this.props.user.vkUid===this.state.activeMaster.vkUid?null:this.favStatus())},this.state.activeMaster.firstname," ",this.state.activeMaster.lastname)))),r.a.createElement(m.N,null),r.a.createElement(m.u,null,r.a.createElement(m.i,{expandable:!0,onClick:function(){return e.props.openComments()},indicator:this.state.activeMaster.meta.comments||0,description:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432: "+this.state.countFavs},"\u041e\u0442\u0437\u044b\u0432\u044b")),r.a.createElement(m.u,{title:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"},this.state.activeMaster.photos.length>0?r.a.createElement(m.u,{header:r.a.createElement(m.v,{mode:"secondary"},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u0430\u0441\u0442\u0435\u0440\u0430")},r.a.createElement(m.h,null,this.state.activeMaster.photos.map((function(t,a){return r.a.createElement(m.f,{style:{padding:2,borderRadius:13,margin:0},size:"s",mode:"shadow",key:a,onClick:function(){return e.openShowImages(e.state.activeMaster.photos,a)}},r.a.createElement("div",{style:{width:144,height:96,backgroundImage:"url("+t+")",backgroundSize:"cover",backgroundPosition:"center 35%",backgroundRepeat:"no-repeat",borderRadius:13}}))}))),r.a.createElement(m.i,{expandable:!0,onClick:function(){return e.props.openPhoto()},description:this.state.activeMaster.photos.length+" \u0444\u043e\u0442\u043e \u0432 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",indicator:this.state.activeMaster.photos.length},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0435\u0442\u043a\u043e\u0439")):r.a.createElement(m.G,{icon:r.a.createElement(G.a,null),header:"\u041d\u0435\u0442 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"})),r.a.createElement(m.u,{separator:"hide",header:r.a.createElement(m.v,{mode:"secondary"},"\u0417\u0430\u043f\u0438\u0441\u044c \u043a \u043c\u0430\u0441\u0442\u0435\u0440\u0443"),description:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0443\u044e \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0437\u0430\u043f\u0438\u0441\u0438 \u043a \u043c\u0430\u0441\u0442\u0435\u0440\u0443. \u041c\u0430\u0441\u0442\u0435\u0440 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0412\u0430\u043c\u0438."},this.state.activeMaster.priceList.map((function(t,a){return r.a.createElement(m.g,{key:a},r.a.createElement(m.f,{size:"l",onClick:function(){return e.changeVisible(a)}},r.a.createElement(m.i,{description:""!==t.price?"\u041e\u0442 "+t.price+" \u0440\u0443\u0431.":"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",asideContent:e.state[a]?r.a.createElement(he.a,null):r.a.createElement(me.a,null),indicator:""},e.state.activeMaster.priceList[a].title),e.state[a]&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.i,{description:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b",multiline:!0},e.state.activeMaster.priceList[a].body),e.connectStatus(e.state.activeMaster.priceList[a].title)),r.a.createElement(m.N,null)))}))),r.a.createElement(m.u,{separator:"hide",header:r.a.createElement(m.v,{mode:"secondary"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043c\u0430\u0441\u0442\u0435\u0440\u0435")},r.a.createElement(m.i,{multiline:!0},this.state.activeMaster.description)),this.state.snackbar))}}]),a}(r.a.Component),fe=Object(z.b)((function(e){return{user:e.user,params:e.params,mastersList:e.mastersList,activeMasterOnFindModels:e.activeMasterOnFindModels}}),(function(e){return{loginUser:Object(V.a)(J,e),changeMastersList:Object(V.a)($,e),changeActiveMasterOnFindModels:Object(V.a)(te,e)}}))(ge),ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={activeMaster:n.props.activeMaster,isLoad:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({images:this.props.activeMaster.photos,isLoad:!0})}},{key:"openShowImages",value:function(e,t){R.a.send("VKWebAppShowImages",{images:e,start_index:t}).then((function(e){return console.log(e)}))}},{key:"gridPhoto",value:function(){var e=this;if(0===this.state.images.length)return r.a.createElement(m.i,{multiline:!0},"\u0423 \u043c\u0430\u0441\u0442\u0435\u0440\u0430 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 \u0432 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e");var t=this.state.images;return r.a.createElement(m.g,null,t.map((function(t,a){return r.a.createElement(m.f,{style:{padding:2,borderRadius:13,margin:0},size:"s",mode:"shadow",key:a,onClick:function(){return e.openShowImages(e.state.images,a)}},r.a.createElement("div",{style:{height:96,backgroundImage:"url("+t+")",backgroundSize:"cover",backgroundPosition:"center 35%",backgroundRepeat:"no-repeat",borderRadius:13}}))})))}},{key:"render",value:function(){return!1===this.state.isLoad?r.a.createElement(m.P,{size:"large",style:{marginTop:20}}):r.a.createElement(m.n,null,r.a.createElement(m.u,{title:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"},r.a.createElement(m.u,{separator:"hide"},this.gridPhoto())))}}]),a}(r.a.Component),be=a(56),ye=a.n(be),Ee=a(84),ke=a.n(Ee),Ce=a(85),Se=a.n(Ce),Oe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeStars=function(){for(var e=[],t=function(t){t<=n.state.rating?e.push(r.a.createElement(Se.a,{width:36,height:36,id:t,onClick:function(){return n.setState({rating:t})},fill:"ffbb00"})):e.push(r.a.createElement(ke.a,{width:36,height:36,id:t,onClick:function(){return n.setState({rating:t})},fill:"ffbb00"}))},a=1;a<=5;a++)t(a);n.setState({stars:e})},n.validCommentText=function(e){return!!(n.state.body.replace(/\s+/g," ").replace(/(\r?\n){2,}/g,"$1").length<101&n.state.body.replace(/\s+/g," ").replace(/(\r?\n){2,}/g,"$1").length>19)},n.sendComment=function(){try{if(0===n.state.rating)throw"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443 \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u0430\u0441\u0442\u0435\u0440\u0430.";if(n.state.body.replace(/\s+/g," ").replace(/(\r?\n){2,}/g,"$1").length<20)throw"\u041a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043e\u0442\u0437\u044b\u0432 \u0431\u0443\u0434\u0435\u0442 \u0431\u0435\u0441\u043f\u043e\u043b\u0435\u0437\u0435\u043d \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0412\u0430\u0448\u0438 \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435.";if(n.state.body.replace(/\s+/g," ").replace(/(\r?\n){2,}/g,"$1").length>100)throw"\u0414\u043b\u0438\u043d\u0430 \u043e\u0442\u0437\u044b\u0432\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0430 100 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438.";var e={rating:Number(n.state.rating),body:n.state.body.replace(/(\r?\n){2,}/g,"$1"),moderation:!1,params:n.props.params};n.postData(N.comment.new+n.props.activeMaster._id,e,"POST")}catch(t){console.log(t),n.setState({snackbar:r.a.createElement(m.O,{layout:"vertical",onClose:function(){return n.setState({snackbar:null})}},t)})}},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.state={rating:0,body:"",isLoad:!1,snackbar:null,stars:[],onModer:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.changeStars(),fetch(N.comment.onMasterId+this.props.activeMaster._id).then((function(e){return e.json()})).then((function(t){t.ids.includes(e.props.user._id)&&e.setState({isCommended:!0}),e.setState({commentsArr:t.comments,countComments:t.comments.length,isLoad:!0,onModer:t.onModer})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t,a){t.rating!==this.state.rating&&this.changeStars()}},{key:"postData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return fetch(t,{method:n,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.setState({isCommended:!0,onModer:e.state.onModer+1,snackbar:r.a.createElement(m.O,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})}},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e. \u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043e\u043d \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u043c\u0430\u0441\u0442\u0435\u0440\u0430.")})})).catch((function(t){e.state.snackbar&&e.setState({snackbar:null}),e.setState({snackbar:r.a.createElement(m.O,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})}},t.message)})}))}},{key:"getDate",value:function(e){if("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443"===e)return e;var t=new Date(e),a=t.getHours();a<10&&(a="0"+a);var n=t.getMinutes();n<10&&(n="0"+n);var r=t.getDate();r<10&&(r="0"+r);var s=t.getMonth();return s<10&&(s="0"+s),r+"."+s+"."+t.getFullYear()+" \u0432 "+a+":"+n}},{key:"commentList",value:function(){var e=this;return!1===this.state.isLoad?r.a.createElement(m.n,{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(m.P,{size:"large",style:{marginTop:20}})):this.state.commentsArr.map((function(t){return r.a.createElement(m.u,{key:t._id,separator:"hide"},r.a.createElement(m.i,{description:e.getDate(t.date),before:r.a.createElement(m.b,{size:40,src:t.user.avatarLink})},t.user.firstname+" "+t.user.lastname),r.a.createElement(m.i,{multiline:!0},!0===t.moderation?t.body:r.a.createElement(m.i,{before:r.a.createElement(ye.a,null)},"\u041e\u0442\u0437\u044b\u0432 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438")),r.a.createElement(m.i,{indicator:t.rating+" \u0438\u0437 5"},"\u041e\u0446\u0435\u043d\u043a\u0430"),r.a.createElement(m.N,null))}))}},{key:"validate",value:function(){var e=this;if(!0===this.state.isLoad)return this.props.activeMaster.vkUid===this.props.user.vkUid?r.a.createElement(m.n,{style:{fontSize:12,color:"darkgray",webkitUserSelect:"none",userSelect:"none"}},"\u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0430 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0435\u0431\u044f"):!0===this.state.isCommended?r.a.createElement(m.n,{style:{fontSize:12,color:"darkgray",webkitUserSelect:"none",userSelect:"none"}},"\u0412\u044b \u0443\u0436\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u0431 \u044d\u0442\u043e\u043c \u043c\u0430\u0441\u0442\u0435\u0440\u0435"):r.a.createElement(m.s,null,r.a.createElement(m.t,null,r.a.createElement(m.i,{description:"\u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443 \u043c\u0430\u0441\u0442\u0435\u0440\u0443"},r.a.createElement(m.n,{style:{display:"inline-flex"}},this.state.stars.map((function(e){return e}))))),r.a.createElement(m.V,{name:"body",status:this.state.body.length>0?!0===this.validCommentText(this.state.body)?"valid":"error":null,value:this.state.body,bottom:"\u041e\u0442\u0437\u044b\u0432 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043e\u0442 20 \u0434\u043e 100 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432. \u0421\u0435\u0439\u0447\u0430\u0441 "+this.state.body.replace(/\s+/g," ").replace(/(\r?\n){2,}/g,"$1").length+" \u0438\u0437 100.",top:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u0430",placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435, \u0447\u0442\u043e \u0432\u0430\u043c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c \u0438\u043b\u0438 \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u043c\u0430\u0441\u0442\u0435\u0440\u0430",onChange:this.handleChange}),r.a.createElement(m.d,{mode:"primary",onClick:function(){return e.sendComment()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,0!==this.state.onModer?r.a.createElement(m.i,{indicator:this.state.onModer,before:r.a.createElement(ye.a,null)},"\u041e\u0442\u0437\u044b\u0432\u043e\u0432 \u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438"):null,this.commentList(),r.a.createElement(m.r,null,this.validate()),this.state.snackbar)}}]),a}(r.a.Component),Me=Object(z.b)((function(e){return{user:e.user,params:e.params}}))(Oe),we=a(86),Le=a.n(we),Pe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).addToFav=function(){R.a.send("VKWebAppAddToFavorites",{}).then((function(e){!0===e.result&&n.setState({isFav:1})})).catch((function(e){return console.log(e)}))},n.favApp=function(){return 0===n.state.isFav?r.a.createElement(m.c,{subheader:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u041d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440 \u043a\u0440\u0430\u0441\u043e\u0442\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 - \u0432\u0441\u0435 \u043c\u0430\u0441\u0442\u0435\u0440\u0430 \u0431\u0443\u0434\u0443\u0442 \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u043e\u0434 \u0440\u0443\u043a\u043e\u0439",actions:r.a.createElement(m.d,{onClick:function(){return n.addToFav()}},"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")}):r.a.createElement(m.r,null)},n.isMember=function(){var e={user_id:n.props.user.vkUid,params:n.props.params};fetch(N.vkapi.isMember,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return 1===e.ingroup?null:r.a.createElement(m.c,{header:"\u0411\u0443\u0434\u044c \u0432 \u043a\u0443\u0440\u0441\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439!",subheader:"\u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0441\u044c \u043d\u0430 \u043d\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0438 \u0441\u043b\u0435\u0434\u0438 \u0437\u0430 \u043d\u043e\u0432\u043e\u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f\u043c\u0438",actions:r.a.createElement(m.d,{onClick:function(){return n.joinGroup()}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")})})).catch((function(e){return console.log(e)}))},n.joinGroup=function(){R.a.send("VKWebAppJoinGroup",{group_id:193179174}).then(n.isMember).catch((function(e){return console.log(e)}))},n.feedList=function(){return n.state.feed.map((function(e){return r.a.createElement(m.g,null,r.a.createElement(m.f,{key:e,size:"l",mode:"shadow"},r.a.createElement("div",{style:{height:96,backgroundColor:"aliceblue"}})))}))},n.userInfo=function(e){return r.a.createElement(m.g,null,r.a.createElement(m.f,{size:"l"},r.a.createElement(m.i,{photo:"https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg",description:null===n.props.master?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440",before:r.a.createElement(m.b,{src:e.avatarLink,size:50}),size:"l"},e.firstname," ",e.lastname),"199500866"===e.vkUid&&r.a.createElement(m.j,{onClick:n.props.openModer},"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f"),null===n.props.master&&r.a.createElement(m.i,{style:{borderRadius:"0 0 10px 10px"},multiline:!0,onClick:n.props.openReg,before:r.a.createElement(Le.a,null),expandable:!0},"\u0415\u0441\u043b\u0438 \u0412\u044b \u2014 \u043c\u0430\u0441\u0442\u0435\u0440, \u043f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u0443\u044e \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")))},n.nowCounter=function(){return r.a.createElement(m.g,null,r.a.createElement(m.f,{size:"l",mode:"shadow"},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.i,null,"\u0423\u0436\u0435 \u0441 \u043d\u0430\u043c\u0438:"),r.a.createElement(m.i,{indicator:n.state.countUsers?r.a.createElement(m.m,null,n.state.countUsers):r.a.createElement(m.P,{size:"small"})},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),r.a.createElement(m.i,{indicator:n.state.countMasters?r.a.createElement(m.m,null,n.state.countMasters):r.a.createElement(m.P,{size:"small"})},"\u041c\u0430\u0441\u0442\u0435\u0440\u043e\u0432"),r.a.createElement(m.i,{indicator:n.state.countCities?r.a.createElement(m.m,null,n.state.countCities):r.a.createElement(m.P,{size:"small"})},"\u0413\u043e\u0440\u043e\u0434\u043e\u0432"))))},n.state={feed:[1,2,3,4,5,6,7,8,9],inGroup:!1,isFav:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),this.props.params&&this.setState({isFav:Number(this.props.params.vk_is_favorite)}),fetch("https://mysterious-garden-57052.herokuapp.com/info/landing").then((function(e){return e.json()})).then((function(t){e.setState({countMasters:t.countMasters,countUsers:t.countUsers,countCities:t.countCities,cities:t.cities.sort()})}))}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement(m.C,{id:"news"},r.a.createElement(m.D,null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),r.a.createElement(m.u,null,r.a.createElement(m.G,{icon:r.a.createElement(m.b,{src:"https://sun1-28.userapi.com/O4KZM7zfdhZ-zHP-LtRj_xrYiNSRdraBcCQe6Q/PLqKmK-NWTY.jpg?ava=1",size:70}),header:"\u041f\u0440\u0438\u0432\u0435\u0442!"},"\u0423 \u043d\u0430\u0441 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0431\u044c\u044e\u0442\u0438-\u043c\u0430\u0441\u0442\u0435\u0440\u0430 \u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0443\u0441\u043b\u0443\u0433\u0438. \u0411\u0430\u0437\u0430 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0430\u0445 \u043f\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e."),this.userInfo(e),this.nowCounter(),this.isMember(),this.favApp()))}}]),a}(r.a.Component),Te=Object(z.b)((function(e){return{user:e.user,master:e.master,params:e.params}}),(function(e){return{}}))(Pe),je=a(34),_e=a(44),Ae=a.n(_e),Ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).deleteProcedure=function(e){n.props.setAlert(r.a.createElement(m.a,{actionsLayout:"vertical",actions:[{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443",autoclose:!0,mode:"destructive",action:function(){return n.onRemove(e)}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:function(){return n.props.setAlert(null)}},r.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),r.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443?")))},n.getCategories=function(){fetch(N.category.getAll).then((function(e){return e.json()})).then((function(e){n.setState({categories:e}),e.map((function(e){n.setState(Object(L.a)({},e._id,!1))}))}))},n.regMaster=function(){try{if("\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"===n.state.type&&n.setState({brand:""}),"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"===n.props.targetCity)throw"\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d. \u0412\u0430\u0441 \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043d\u0430\u0439\u0442\u0438.";if(!1===n.state.statusMessage)throw"\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u0447\u0442\u043e\u0431\u044b \u043c\u044b \u0443\u0432\u0435\u0434\u043e\u043c\u0438\u043b\u0438 \u0432\u0430\u0441 \u043e \u0437\u0430\u043a\u0430\u0437\u0435.";if(n.state.description.replace(/ +/g," ").trim().length<20)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 20-\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(n.state.description.replace(/ +/g," ").trim().length>200)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 20-\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(n.state.priceList.length<1)throw"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443, \u0447\u0442\u043e\u0431\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043a \u0432\u0430\u043c.";if(!n.state.type)throw"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f \u0440\u0430\u0431\u043e\u0442: \u0427\u0430\u0441\u0442\u043d\u043e\u0435 \u043b\u0438\u0446\u043e \u0438\u043b\u0438 \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f.";if(""!==n.state.brand&&n.state.brand.length>25)throw"\u0414\u043b\u0438\u043d\u0430 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0430 25 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438.";if(!1===n.state.checkLicense)throw"\u041f\u0440\u0438\u043c\u0438\u0442\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f, \u0435\u0441\u043b\u0438 \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f.";var e={subcat:[],category:[]};n.state.categories.map((function(t,a){t.subcat.filter((function(t){return!0===t.active?(e.subcat.push(t._id),t.active):null})).length>0?(e.category.push({id:t._id,label:t.label}),t.active=!0):t.active=!1}));var t={description:n.state.description,type:n.state.type,location:{country:n.props.user.location.country,city:n.props.targetCity},categories:e,brand:n.state.brand,priceList:n.state.priceList,params:n.props.params};n.props.closeReg(t)}catch(a){console.log(a),n.props.snackbar(a)}},n.addProd=function(e){n.setState({add:e})},n.saveProd=function(){try{var e=n.validateNewProdTitle(n.state.newProdTitle);if(!e.status)throw e.error;var t=n.validateNewProdBody(n.state.newProdBody);if(!t.status)throw t.error;var a=n.validateNewProdPrice(n.state.newProdPrice);if(!a.status)throw a.error;var r=n.state.priceList;r.push({title:n.state.newProdTitle,body:n.state.newProdBody,price:Number(n.state.newProdPrice.replace(/^0+/,""))}),n.setState({priceList:r,add:!1,newProdTitle:"",newProdBody:"",newProdPrice:""})}catch(s){n.props.snackbar(s)}},n.onRemove=function(e){var t=n.state.priceList;t=[].concat(Object(je.a)(n.state.priceList.slice(0,e)),Object(je.a)(n.state.priceList.slice(e+1))),n.setState({priceList:t})},n.permMessage=function(){R.a.send("VKWebAppAllowMessagesFromGroup",{group_id:193179174,key:"dBuBKe1kFcdemzB"}).then((function(e){n.setState({statusMessage:e.result})})).catch((function(e){console.log(e)}))},n.checkSubcat=function(e){var t=e.target,a=t.name,r=t.id,s=n.state.categories;s[a].subcat[r].active=!n.state.categories[a].subcat[r].active,n.setState({categories:s})},n.counter=function(e){return n.state.categories[e].subcat.filter((function(e){return!0===e.active?e.active:null})).length},n.state={count:{},activeMaster:{},categories:[],statusPhoto:!1,statusMessage:!1,checkLicense:!1,description:"",priceList:[],newProdTitle:"",newProdBody:"",newProdPrice:"",qapi:!1,type:"\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440",brand:""},n.handleChange=n.handleChange.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.permMessage(),null!==this.props.regSet?this.setState({checkLicense:this.props.regSet.checkLicense,description:this.props.regSet.description,priceList:this.props.regSet.priceList,type:this.props.regSet.type,categories:this.props.regSet.categories,brand:this.props.regSet.brand}):this.getCategories()}},{key:"componentWillUnmount",value:function(){var e={};e.checkLicense=this.state.checkLicense,e.description=this.state.description,e.priceList=this.state.priceList,e.type=this.state.type,e.categories=this.state.categories,e.brand=this.state.brand,this.props.regSetInvite(e),this.props.setAlert(null)}},{key:"validateNewProdTitle",value:function(e){return void 0===e?{status:!1,error:"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b."}:e.replace(/ +/g," ").trim().length>20||e.replace(/ +/g," ").trim().length<2?{status:!1,error:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430."}:{status:!0}}},{key:"validateNewProdBody",value:function(e){return void 0===e?{status:!1,error:"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b."}:e.replace(/ +/g," ").trim().length>250||e.replace(/ +/g," ").trim().length<5?{status:!1,error:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f."}:{status:!0}}},{key:"validateNewProdPrice",value:function(e){return void 0===e?{status:!1,error:"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b."}:e.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").trim().length>5||e.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").trim().length<1?{status:!1,error:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0446\u0435\u043b\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 \u043e\u0442 1 \u0434\u043e 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."}:Number(e.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,""))<0?{status:!1,error:"\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c."}:{status:!0}}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(L.a)({},a,n))}},{key:"render",value:function(){var e=this;return r.a.createElement(m.u,null,r.a.createElement(m.u,null,r.a.createElement(m.g,null,r.a.createElement(m.f,{size:"l",mode:"shadow"},r.a.createElement(m.i,{size:"l",description:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043c\u0430\u0441\u0442\u0435\u0440\u0430",before:r.a.createElement(m.b,{src:this.props.user.avatarLink,size:80})},this.props.user.firstname+" "+this.props.user.lastname),r.a.createElement(m.i,{expandable:!0,onClick:this.props.changeCity,indicator:this.props.targetCity.title||"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",status:this.props.targetCity.title?"valid":"error",bottom:this.props.targetCity.title?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435"},"\u0412\u0430\u0448 \u0433\u043e\u0440\u043e\u0434"))),!1===this.state.statusMessage?r.a.createElement(m.i,{multiline:!0,asideContent:r.a.createElement(m.d,{mode:"outline",onClick:this.permMessage},"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"),bottom:!1===this.state.statusMessage&&"\u0414\u043e\u0441\u0442\u0443\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"},"\u0414\u043e\u0441\u0442\u0443\u043f \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0442 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043e \u0437\u0430\u044f\u0432\u043a\u0430\u0445"):null),r.a.createElement(m.s,null,r.a.createElement(m.V,{name:"description",bottom:this.state.description?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0430\u0440\u0443 \u0441\u043b\u043e\u0432 \u043e \u0441\u0435\u0431\u0435",top:"\u041e \u0441\u0435\u0431\u0435",value:this.state.description,onChange:this.handleChange}),r.a.createElement(m.t,{top:"\u0421\u0444\u0435\u0440\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",bottom:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442\u044b, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u0412\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0435. \u0422\u0430\u043a \u0412\u0430\u0441 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0449\u0435 \u043d\u0430\u0439\u0442\u0438.",id:"category"},this.state.categories.map((function(t,a){return r.a.createElement(m.u,{key:t._id},r.a.createElement(m.i,{name:t._id,onClick:function(){return e.setState(Object(L.a)({},t._id,!e.state[t._id]))},indicator:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e: "+e.counter(a),asideContent:e.state[t._id]?r.a.createElement(he.a,null):r.a.createElement(me.a,null)},t.label),e.state[t._id]&&r.a.createElement(m.n,null,t.subcat.map((function(t,n,s){return r.a.createElement(m.i,{key:n,asideContent:r.a.createElement(m.Q,{name:a,id:n,onChange:e.checkSubcat,checked:t.active})},t.label)}))))})))),r.a.createElement(m.u,{title:"\u041f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442"},0===this.state.priceList.length&&r.a.createElement(m.i,{multiline:!0},"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b. \u041f\u043e\u043a\u0430 \u043e\u043d\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0412\u0430\u043c\u0438."),r.a.createElement(m.g,null,this.state.priceList.map((function(t,a){return r.a.createElement(m.f,{size:"l",mode:"shadow"},r.a.createElement(m.i,{key:t,multiline:!0},r.a.createElement(m.i,{description:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b"},e.state.priceList[a].title),r.a.createElement(m.i,{description:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b",multiline:!0},e.state.priceList[a].body),r.a.createElement(m.i,{description:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430 \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"},e.state.priceList[a].price),r.a.createElement(m.d,{onClick:function(){e.deleteProcedure(a)},size:"xl",mode:"destructive"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}))),this.state.add?r.a.createElement(m.n,null,r.a.createElement(m.i,{description:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430",multiline:!0},r.a.createElement(m.z,null,r.a.createElement(m.i,{description:this.state.newProdTitle.replace(/ +/g," ").trim().length+"/20"},r.a.createElement(m.x,{require:!0,status:this.state.newProdTitle.length>0?!0===this.validateNewProdTitle(this.state.newProdTitle).status?"valid":"error":null,name:"newProdTitle",type:"text",value:this.state.newProdTitle,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:this.handleChange})),r.a.createElement(m.i,{description:this.state.newProdBody.replace(/ +/g," ").trim().length+"/250"},r.a.createElement(m.V,{require:!0,status:this.state.newProdBody.length>0?this.validateNewProdBody(this.state.newProdBody).status?"valid":"error":null,name:"newProdBody",value:this.state.newProdBody,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:this.handleChange})),r.a.createElement(m.i,{description:this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").trim().length+"/5"},r.a.createElement(m.x,{require:!0,status:this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").length>0?this.validateNewProdPrice(this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"")).status?"valid":"error":null,name:"newProdPrice",type:"number",value:this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,""),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0446\u0435\u043d\u0443",onChange:this.handleChange})))),r.a.createElement(m.n,{style:{display:"flex"}},r.a.createElement(m.d,{size:"l",stretched:!0,style:{marginRight:8},onClick:function(){return e.saveProd()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(m.d,{size:"l",stretched:!0,mode:"destructive",onClick:function(){return e.addProd(!1)}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))):r.a.createElement(m.j,{onClick:function(){return e.addProd(!0)},before:r.a.createElement(Ae.a,null)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443")),r.a.createElement(m.s,null,r.a.createElement(m.L,{name:"type",top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433",value:this.state.type,bottom:this.state.type?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433",onChange:this.handleChange},r.a.createElement("option",{value:"\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"},"\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"),r.a.createElement("option",{value:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"},"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f")),"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"===this.state.type&&r.a.createElement(m.t,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435"},r.a.createElement(m.x,{name:"brand",type:"text",status:this.state.brand.length>0?this.state.brand.length<26?"valid":"error":null,value:this.state.brand,onChange:this.handleChange})),r.a.createElement(m.k,{checked:this.state.checkLicense,onChange:function(){return e.setState({checkLicense:!e.state.checkLicense})}},"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d c ",r.a.createElement(m.y,{onClick:this.props.openRules},"\u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f")),r.a.createElement(m.d,{size:"xl",onClick:this.regMaster},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u043c\u0430\u0441\u0442\u0435\u0440")),r.a.createElement(m.r,null))}}]),a}(r.a.Component),Be=Object(z.b)((function(e){return{targetCity:e.targetCity,user:e.user,params:e.params,regSet:e.regSet}}),(function(e){return{changeTargetCity:Object(V.a)(q,e),regSetInvite:Object(V.a)(ce,e)}}))(Ie),Ne=a(87),Fe=a.n(Ne),Re=a(88),ze=a.n(Re),xe=a(89),Ge=a.n(xe),De=a(51),He=a.n(De),Ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).checkModeration=function(){if(!1===n.props.master.moderation.status)return n.props.master.moderation.reasons.length>0?r.a.createElement(m.g,null,r.a.createElement(m.f,{size:"xl"},r.a.createElement(m.i,{description:"\u0418\u0445 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},"\u041f\u0440\u0438 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438:"),n.props.master.moderation.reasons.map((function(e,t){return r.a.createElement(m.i,{key:t},e)})))):r.a.createElement(m.g,null,r.a.createElement(m.f,{size:"xl"},r.a.createElement(m.i,{multiline:!0},"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435. \u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0441\u0443\u0442\u043e\u043a \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 \u043f\u043e\u0438\u0441\u043a\u0435.")))},n.addToFavApp=function(){R.a.send("VKWebAppAddToFavorites",{}).then((function(e){return console.log(e)}))},n.state={connection:!1,tmpUser:[],isMaster:!1,isUser:!1,favsArr:[],mastersArr:[],countFavs:0,promo:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;R.a.subscribe((function(t){if(t.detail){var a=t.detail,n=a.type,r=a.data;"VKWebAppGetAdsResult"===n&&e.setState({promo:r}),"VKWebAppGetAdsFailed"===n&&console.log(r.error_data)}})),R.a.send("VKWebAppGetAds",{}).then((function(e){return console.log("Ads")})).catch((function(e){return console.log(e)}))}},{key:"postData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return console.log("ok")}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.u,{separator:"hide"},r.a.createElement(m.g,null,r.a.createElement(m.f,{size:"l"},r.a.createElement(m.I,{disabled:!0,multiline:!0,before:r.a.createElement(m.b,{src:this.props.user.avatarLink,size:62}),text:r.a.createElement(m.e,{level:"2",weight:"regular",style:{marginBottom:15}},this.props.master?this.props.master.type:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),caption:this.props.master&&this.props.master.location.city.title,after:null!==this.props.master&&r.a.createElement(He.a,{onClick:this.props.openSetting})},this.props.user.firstname+" "+this.props.user.lastname)))),null!==this.props.master&&this.checkModeration(),r.a.createElement(m.u,{title:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435",separator:"hide"},r.a.createElement(m.z,null,r.a.createElement(m.i,{expandable:!0,before:r.a.createElement(ze.a,null),onClick:this.props.openFavourite},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"))),0===this.props.isFavourite?r.a.createElement(m.c,{header:"\u041c\u044b \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435",subheader:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u041d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440 \u043a\u0440\u0430\u0441\u043e\u0442\u044b \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439. \u041c\u044b \u0432\u0441\u0435\u0433\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u043a\u043b\u0438\u043a\u0435 \u043e\u0442 \u0432\u0430\u0441.",actions:r.a.createElement(m.d,{onClick:function(){return e.addToFavApp()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")}):null,null!==this.props.master&&r.a.createElement(m.u,{title:"\u041c\u0435\u043d\u044e \u043c\u0430\u0441\u0442\u0435\u0440\u0430"},r.a.createElement(m.N,{style:{margin:"12px 0"}}),r.a.createElement(m.z,null,r.a.createElement(m.i,{expandable:!0,before:r.a.createElement(Fe.a,null),onClick:this.props.openMasterPhoto},"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"),r.a.createElement(m.i,{expandable:!0,before:r.a.createElement(Ge.a,null),onClick:this.props.openFindModel},"\u041f\u043e\u0438\u0441\u043a \u043c\u043e\u0434\u0435\u043b\u0438"))),null!==this.state.promo?r.a.createElement(m.q,{vertical:"bottom"},r.a.createElement(m.H,{onClose:function(){return e.setState({promo:null})},bannerData:this.state.promo})):null)}}]),a}(r.a.Component),Ue=Object(z.b)((function(e){return{user:e.user,master:e.master}}),(function(e){return{}}))(Ve),We=a(52),Ke=a.n(We),Je=a(37),$e=a.n(Je),Ye=a(90),qe=a.n(Ye),Qe=(a(143),a(57)),Ze=a.n(Qe),Xe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).deletePhoto=function(e){n.props.setAlert(r.a.createElement(m.a,{actionsLayout:"vertical",actions:[{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",autoclose:!0,mode:"destructive",action:function(){return setTimeout(n.delete(e),500)}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:function(){return n.props.setAlert(null)}},r.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),r.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e?")))},n.delete=function(e){n.setState({loading:!0}),fetch(N.vkapi.delPhoto,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({params:n.props.params,photo:e})}).then((function(e){return e.json()})).then((function(e){"success"===e.status&&(0===e.master.photos.length&&n.setState({deleteMode:!1}),n.setState({images:e.master.photos,loading:!1}),n.props.setMaster(e.master),n.props.setAlert(null))})).catch((function(e){return console.log(e)}))},n.uploadPhoto=Object(w.a)(M.a.mark((function e(){var t,a,r,s,o,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==n.state.token){e.next=3;break}throw"\u041e\u0448\u0438\u0431\u043a\u0430. \u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0442\u043e\u043a\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.";case 3:if((t=document.getElementById("input").files[0]).type.match("image.*")){e.next=6;break}throw"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f.";case 6:return e.next=8,n.getAlbum();case 8:if(!1!==(a=e.sent).status){e.next=11;break}throw"\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0430\u043b\u044c\u0431\u043e\u043c \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438.";case 11:if("none"!==a.status){e.next=17;break}return s=encodeURI("https://api.vk.com/method/photos.createAlbum?title=\u041d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440 \u043a\u0440\u0430\u0441\u043e\u0442\u044b&access_token="+n.state.token+"&v=5.103"),e.next=15,$e()(s).then((function(e){return e.json()})).then((function(e){console.log("\u0421\u043e\u0437\u0434\u0430\u043b\u0438 \u0430\u043b\u044c\u0431\u043e\u043c \u0432 \u0418\u0414 ",e.response.id),r=e.response.id})).catch((function(e){return console.log(e)}));case 15:e.next=18;break;case 17:r=a.album_id;case 18:return e.next=20,n.getUploadServer(n.state.token,r);case 20:if(!1!==(o=e.sent).status){e.next=23;break}throw"\u041e\u0448\u0438\u0431\u043a\u0430. \u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0444\u043e\u0442\u043e.";case 23:n.setState({loading:!0}),(i=new FormData).append("master",n.props.master.firstname+" "+n.props.master.lastname),i.append("uploadUrl",o.url),i.append("token",n.state.token),i.append("file1",t),i.append("masterId",n.props.master._id),console.log("\u041d\u0430\u0447\u0438\u043d\u0430\u044e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0444\u043e\u0442\u043e."),fetch(N.vkapi.uploadPhoto,{method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){e.error?(n.setState({loading:!1}),n.openSnack(e.error)):(console.log("photo.save",e),$e()(e.saveUrl,{mode:"no-cors",method:"GET"}).then((function(e){return e.json()})).then((function(e){if(e.error)n.setState({loading:!1}),n.openSnack("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.");else{console.log("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u043e\u0435 \u0444\u043e\u0442\u043e: ",e);var t={url:e.response[0].sizes[4].url,params:n.props.params};fetch(N.vkapi.savePhoto,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(e.error)n.setState({loading:!1}),n.openSnack(e.error);else{var t=n.state.images;t.unshift(e.img),n.openSnack("\u0424\u043e\u0442\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e."),n.setState({images:t,loading:!1})}})).catch((function(e){n.setState({loading:!1}),console.log(e)}))}})).catch((function(e){n.setState({loading:!1}),console.log(e)})))})).catch((function(e){console.log(e),n.setState({loading:!1}),n.openSnack("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435.")})),e.next=38;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0),n.openSnack("\u041a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0435\u0449\u0435 \u0440\u0430\u0437\u043e\u043a?");case 38:case"end":return e.stop()}}),e,null,[[0,34]])}))),n.getUploadServer=function(){var e=Object(w.a)(M.a.mark((function e(t,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.send("VKWebAppCallAPIMethod",{method:"photos.getUploadServer",params:{album_id:a,v:"5.103",access_token:t}}).then((function(e){return console.log("\u041f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438",e.response.upload_url),n.setState({uploadUrl:e.response.upload_url}),{status:!0,url:e.response.upload_url}})).catch((function(e){return console.log(e),{status:!1}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getToken=function(){R.a.send("VKWebAppGetAuthToken",{app_id:7170938,scope:"photos"}).then((function(e){e.access_token&&n.setState({token:e.access_token})})).catch((function(e){return console.log(e)}))},n.state={activeMaster:{},photoArr:[],isLoad:!1,photoFile:"",images:[],deleteMode:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;R.a.send("VKWebAppGetAuthToken",{app_id:7170938,scope:"photos"}).then((function(t){t.access_token?e.setState({token:t.access_token,images:e.props.master.photos,isLoad:!0}):e.setState({images:e.props.master.photos,isLoad:!0})})).catch((function(t){console.log(t),e.setState({images:e.props.master.photos,isLoad:!0})}))}},{key:"componentWillUnmount",value:function(){this.props.setAlert(null)}},{key:"openSnack",value:function(e){var t=this;this.state.snackbar||this.setState({snackbar:r.a.createElement(m.O,{layout:"vertical",onClose:function(){return t.setState({snackbar:null})}},e)})}},{key:"openShowImages",value:function(e,t){R.a.send("VKWebAppShowImages",{images:e,start_index:t}).then((function(e){return console.log("ok")}))}},{key:"getAlbum",value:function(){var e=Object(w.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=encodeURI("https://api.vk.com/method/photos.getAlbums?owner_id="+this.props.params.vk_user_id+"&access_token="+this.state.token+"&v=5.103"),a=null,e.next=4,$e()(t).then((function(e){return e.json()})).then((function(e){e.response&&e.response.items.map((function(e){"\u041d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440 \u043a\u0440\u0430\u0441\u043e\u0442\u044b"===e.title&&(a=e.id)}))})).catch((function(e){return console.log(e)}));case 4:if(null!==a){e.next=9;break}return console.log("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0418\u0414 \u0430\u043b\u044c\u0431\u043e\u043c\u0430. \u0421\u043e\u0437\u0434\u0430\u0435\u043c."),e.abrupt("return",{status:"none"});case 9:return console.log("\u041f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0430\u043b\u044c\u0431\u043e\u043c \u0418\u0414 -",a),e.abrupt("return",{status:!0,album_id:a});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gridPhoto",value:function(){var e=this;return this.state.images.length>0?r.a.createElement(m.g,null,this.state.images.map((function(t,a){return r.a.createElement(m.f,{style:{padding:2,borderRadius:13,margin:0},size:"s",mode:"shadow",key:a,onClick:e.state.deleteMode?function(){return e.deletePhoto(t)}:function(){return e.openShowImages(e.state.images,a)}},r.a.createElement("div",{style:{height:96,backgroundImage:"url("+t+")",backgroundSize:"cover",backgroundPosition:"center 35%",backgroundRepeat:"no-repeat",borderRadius:13}}),e.state.deleteMode?r.a.createElement("div",{style:{color:"red",textAlign:"center"}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"):null)}))):r.a.createElement(m.i,null,"\u0412 \u0412\u0430\u0448\u0435\u043c \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043d\u0435\u0442 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439.")}},{key:"render",value:function(){var e=this;return!1===this.state.isLoad?r.a.createElement(m.P,{size:"large",style:{marginTop:20}}):r.a.createElement(m.n,{style:{webkitUserSelect:"none",userSelect:"none"}},this.state.loading?r.a.createElement(m.n,{style:{webkitUserSelect:"none",userSelect:"none"}},r.a.createElement(m.i,{multiline:!0},"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e..."),r.a.createElement(m.F,null)):r.a.createElement(m.u,{title:""},r.a.createElement(m.s,null,this.state.token?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.p,{accept:"image/*",top:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0444\u043e\u0442\u043e \u0432 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",before:r.a.createElement(Ke.a,null),size:"l",onChange:this.uploadPhoto,id:"input"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0433\u0430\u043b\u0435\u0440\u0435\u044e"),this.state.images.length>0?!1===this.state.deleteMode?r.a.createElement(m.j,{onClick:function(){return e.setState({deleteMode:!0})},before:r.a.createElement(Ze.a,null)},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"):r.a.createElement(m.j,{onClick:function(){return e.setState({deleteMode:!1})},before:r.a.createElement(Ze.a,null)},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.j,{onClick:function(){return e.getToken()},before:r.a.createElement(qe.a,null)},"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0444\u043e\u0442\u043e"))),r.a.createElement(m.u,{separator:"hide"},this.gridPhoto())),this.state.snackbar)}}]),a}(r.a.Component),et=Object(z.b)((function(e){return{user:e.user,master:e.master,params:e.params}}),(function(e){return{setMaster:Object(V.a)(K,e)}}))(Xe),tt=a(53),at=a.n(tt),nt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={search:"",cities:[{id:1,title:"City"}]},n.onChange=n.onChange.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getCities()}},{key:"getCities",value:function(){var e=this,t={search:this.state.search.toLowerCase(),country_id:1};fetch(N.vkapi.getCities,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.setState({cities:t.cityList,isLoad:!0})})).catch((function(e){return console.log(e)}))}},{key:"onChange",value:function(e){this.setState({search:e.target.value}),this.getCities()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.K,{value:this.state.search,onChange:this.onChange,after:null}),this.state.cities.length>0&&r.a.createElement(m.z,null,this.state.cities.map((function(t){return r.a.createElement(m.i,{description:t.region||"",onClick:function(){return e.props.changeTargetCity(t)},key:t.id},t.title)}))))}}]),a}(r.a.Component),rt=(Object(m.Y)(nt),a(28)),st=a.n(rt),ot=(Object(m.X)(),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).saveChanges=function(){try{if("\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"===n.state.type&&n.setState({brand:""}),n.state.description.replace(/ +/g," ").trim().length<20)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(n.state.description.replace(/ +/g," ").trim().length>200)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(n.state.master.priceList.length<1)throw"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443, \u0447\u0442\u043e\u0431\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043a \u0412\u0430\u043c.";if(""!==n.state.brand&&n.state.brand.length>25)throw"\u0414\u043b\u0438\u043d\u0430 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0430 25 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438.";if(!0===n.state.isChange){var e=n.state.master;e.type=n.state.type,e.brand=n.state.brand,e.params=n.props.params,n.patchData(N.masters.all+n.state.master._id,e),n.props.setMaster(n.state.master)}}catch(t){n.props.snackbarDismiss(t)}},n.deleteProcedure=function(e){n.setState({isChange:!0}),n.props.setAlert(r.a.createElement(m.a,{actionsLayout:"vertical",actions:[{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443",autoclose:!0,mode:"destructive",action:function(){return n.onRemove(e)}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:function(){return n.props.setAlert(null)}},r.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),r.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443?")))},n.handleChange=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value)),n.setState({isChange:!0})},n.saveEdit=function(e){try{var t=n.validateNewProdTitle(n.state.editProdTitle);if(!t.status)throw t.error;var a=n.validateNewProdBody(n.state.editProdBody);if(!a.status)throw a.error;var r=n.validateNewProdPrice(n.state.editProdPrice);if(!r.status)throw r.error;var s={title:n.state.editProdTitle,body:n.state.editProdBody,price:Number(n.state.editProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,""))},o=n.state.master;o.priceList.splice(e,1,s),n.setState({master:o,editProdTitle:"",editProdBody:"",editProdPrice:"",edit:null}),n.setState({isChange:!0})}catch(i){n.props.snackbarDismiss(i)}},n.visible=function(e){var t=e.target.name,a=n.state.master;a[t]=!a[t],n.setState({master:a}),n.props.setMaster(a),n.setState({isChange:!0})},n.onRemove=function(e){var t=n.state.master;t.priceList=[].concat(Object(je.a)(n.state.master.priceList.slice(0,e)),Object(je.a)(n.state.master.priceList.slice(e+1))),n.setState({master:t}),n.setState({isChange:!0})},n.saveProd=function(){try{var e=n.validateNewProdTitle(n.state.newProdTitle);if(!e.status)throw e.error;var t=n.validateNewProdBody(n.state.newProdBody);if(!t.status)throw t.error;var a=n.validateNewProdPrice(n.state.newProdPrice);if(!a.status)throw a.error;var r=n.state.master;r.priceList.push({title:n.state.newProdTitle,body:n.state.newProdBody,price:Number(n.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,""))}),n.setState({master:r,add:!1,newProdTitle:"",newProdBody:"",newProdPrice:""}),n.setState({isChange:!0})}catch(s){n.props.snackbarDismiss(s)}},n.counter=function(e){return n.state.categories[e].subcat.filter((function(e){if(!0===e.active)return e.label})).length},n.checkBan=function(){return!0===n.state.master.banned.status?r.a.createElement(m.i,{multiline:!0},"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0441\u0435\u0439\u0447\u0430\u0441 \u043d\u0435 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043f\u043e\u0438\u0441\u043a\u0435, \u0442\u0430\u043a-\u043a\u0430\u043a \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f. \u0414\u043b\u044f \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 - \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0438\u0445. \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f."):r.a.createElement(m.i,{asideContent:r.a.createElement(m.Q,{name:"visible",onChange:n.visible,checked:n.state.master.visible})},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0432 \u043f\u043e\u0438\u0441\u043a\u0435")},n.checkSubcat=function(e){var t=e.target,a=t.name,r=t.id,s=n.state.categories;s[a].subcat[r].active=!n.state.categories[a].subcat[r].active,n.setState({categories:s})},n.changeCity=function(e){var t=n.state.master;t.location.city=e,n.props.setMaster(t),n.props.goBack(),n.setState({isChange:!0})},n.statusProfile=function(){return!1===n.state.master.moderation.status?"\u041d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438":!1===n.state.master.visible?"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0435 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043f\u043e\u0438\u0441\u043a\u0435":"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 \u043f\u043e\u0438\u0441\u043a\u0435"},n.state={about:"non info",tooltip:!0,popout:null,vkuid:"",count:{manicureStatus:0,pedicureStatus:0,eyelashesStatus:0,eyebrowsStatus:0,shugaringStatus:0,hairStatus:0,cosmeticStatus:0},category:[],isLoad:!1,isMaster:!1,snackbar:null,newProdTitle:"",newProdBody:"",newProdPrice:"",editProdTitle:"",editProdBody:"",editProdPrice:"",isChange:!1,type:"\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440",brand:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;!0===this.props.user.isMaster&&(this.setState({master:this.props.master,description:this.props.master.description,type:this.props.master.type,brand:this.props.master.brand}),fetch(N.category.getAll).then((function(e){return e.json()})).then((function(t){e.setState({categories:t}),t.map((function(t){e.setState(Object(L.a)({},t._id,!1))})),e.setActive(e.props.master.categories.subcat)})),this.props.master.changed&&this.setState({isChange:!0}))}},{key:"componentWillUnmount",value:function(){this.saveChanges(),this.props.setAlert(null)}},{key:"componentDidUpdate",value:function(e,t,a){if(e.targetCity!==this.props.targetCity){var n=this.state.master;n.location.city=this.props.targetCity,this.setState({master:n})}}},{key:"setActive",value:function(e){var t=this;Array.isArray(e)&&(this.state.categories.map((function(e){t.setState(Object(L.a)({},e._id,!1)),e.subcat.map((function(e){t.state.master.categories.subcat.includes(e._id)&&(e.active=!0)}))})),this.setState({isLoad:!0}))}},{key:"patchData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.state.categories.map((function(e){var t=e.subcat.filter((function(e){return!0===e.active})).length;e.active=t>0})),t.description=this.state.description,t.categories={subcat:[],category:[]},this.state.categories.map((function(e){!0===e.active&&t.categories.category.push({id:e._id,label:e.label}),e.subcat.map((function(e){!0===e.active&&t.categories.subcat.push(e._id)}))})),fetch(e,{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e")})).catch((function(e){return console.log(e.message)}))}},{key:"openSnackDismiss",value:function(e){var t=this;this.state.snackbar&&this.setState({snackbar:null}),this.setState({snackbar:r.a.createElement(m.O,{before:r.a.createElement(st.a,null),layout:"vertical",onClose:function(){return t.setState({snackbar:null})}},e)})}},{key:"openSnack",value:function(e){var t=this;this.state.snackbar&&this.setState({snackbar:null}),this.setState({snackbar:r.a.createElement(m.O,{layout:"vertical",onClose:function(){return t.setState({snackbar:null})}},e)})}},{key:"validateNewProdTitle",value:function(e){return void 0===e?{status:!1,error:"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b."}:e.replace(/ +/g," ").trim().length>20||e.replace(/ +/g," ").trim().length<2?{status:!1,error:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430."}:{status:!0}}},{key:"validateNewProdBody",value:function(e){return void 0===e?{status:!1,error:"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b."}:e.replace(/ +/g," ").trim().length>250||e.replace(/ +/g," ").trim().length<5?{status:!1,error:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f."}:{status:!0}}},{key:"validateNewProdPrice",value:function(e){return void 0===e?{status:!1,error:"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b."}:e.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").trim().length>5||e.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").trim().length<1?{status:!1,error:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0446\u0435\u043b\u044b\u0435 \u0447\u0438\u0441\u043b\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 \u043e\u0442 1 \u0434\u043e 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."}:Number(e.replace(/[\s.,%]/g,"").replace(/[.\/,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,""))<0?{status:!1,error:"\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c."}:{status:!0}}},{key:"render",value:function(){var e=this;return!1===this.state.isLoad?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",goBack:function(){return e.props.goBack("lk")}}),r.a.createElement(m.G,{stretched:!0,icon:r.a.createElement(m.P,{size:"large",style:{marginTop:20}}),header:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e..."})):!1===this.props.user.isMaster?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",goBack:function(){try{if(e.state.description.replace(/ +/g," ").trim().length<20)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(e.state.description.replace(/ +/g," ").trim().length>200)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(e.state.master.priceList.length<1)throw"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443, \u0447\u0442\u043e\u0431\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043a \u0412\u0430\u043c.";e.props.goBack("lk")}catch(t){e.props.snackbarDismiss(t)}}}),r.a.createElement(m.i,{size:"l",description:this.statusProfile(),before:r.a.createElement(m.b,{src:this.state.master.avatarLink,size:80})},this.state.master.firstname+" "+this.state.master.lastname),r.a.createElement(m.i,{expandable:!0,onClick:function(){try{if(e.state.description.replace(/ +/g," ").trim().length<20)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(e.state.description.replace(/ +/g," ").trim().length>201)throw'\u0411\u043b\u043e\u043a "\u041e \u0441\u0435\u0431\u0435" \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.';if(e.state.master.priceList.length<1)throw"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0443 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443, \u0447\u0442\u043e\u0431\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043a \u0412\u0430\u043c.";e.props.changeCity()}catch(t){e.props.snackbarDismiss(t)}},indicator:this.state.master.location.city===typeof String?"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e":this.state.master.location.city.title},"\u0412\u0430\u0448 \u0433\u043e\u0440\u043e\u0434"),r.a.createElement(m.u,null,this.checkBan()),r.a.createElement(m.u,{title:"\u041f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442"},0===this.state.master.priceList.length&&r.a.createElement(m.i,{multiline:!0},"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b. \u041f\u043e\u043a\u0430 \u043e\u043d\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0412\u0430\u043c\u0438."),r.a.createElement(m.g,null,this.state.master.priceList.map((function(t,a){return r.a.createElement(m.f,{size:"l",mode:"shadow",key:a},r.a.createElement(m.i,{multiline:!0},r.a.createElement(m.i,{description:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b"},e.state.edit===a?r.a.createElement(m.x,{name:"editProdTitle",onChange:e.handleChange,defaultValue:e.state.master.priceList[a].title,value:e.state.editProdTitle,status:!0===e.validateNewProdTitle(e.state.editProdTitle).status?"valid":"error"}):e.state.master.priceList[a].title),r.a.createElement(m.i,{description:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b",multiline:!0},e.state.edit===a?r.a.createElement(m.x,{name:"editProdBody",onChange:e.handleChange,defaultValue:e.state.master.priceList[a].body,value:e.state.editProdBody,status:e.validateNewProdBody(e.state.editProdBody).status?"valid":"error"}):e.state.master.priceList[a].body),r.a.createElement(m.i,{description:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430 \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"},e.state.edit===a?r.a.createElement(m.x,{name:"editProdPrice",type:"number",onChange:e.handleChange,defaultValue:e.state.master.priceList[a].price,value:e.state.editProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,""),status:e.validateNewProdPrice(e.state.editProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"")).status?"valid":"error"}):e.state.master.priceList[a].price),e.state.edit===a?r.a.createElement(m.n,{style:{display:"flex"}},r.a.createElement(m.d,{stretched:!0,style:{marginRight:8},onClick:function(){return e.setState({edit:null})},size:"l",mode:"destructive"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(m.d,{size:"l",stretched:!0,onClick:function(){return e.saveEdit(a)},mode:"secondary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")):r.a.createElement(m.n,{style:{display:"flex"}},r.a.createElement(m.d,{stretched:!0,style:{marginRight:8},onClick:function(){return e.deleteProcedure(a)},size:"l",mode:"destructive"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement(m.d,{size:"l",stretched:!0,onClick:function(){e.setState({editProdTitle:e.state.master.priceList[a].title,editProdBody:e.state.master.priceList[a].body,editProdPrice:String(e.state.master.priceList[a].price),edit:a,add:!1})},mode:"secondary"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))))}))),this.state.add?r.a.createElement(m.n,{style:{webkitUserSelect:"none",userSelect:"none"}},r.a.createElement(m.i,{description:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430",multiline:!0},r.a.createElement(m.z,null,r.a.createElement(m.i,{description:this.state.newProdTitle.replace(/ +/g," ").trim().length+"/20"},r.a.createElement(m.x,{require:!0,status:this.state.newProdTitle.length>0?!0===this.validateNewProdTitle(this.state.newProdTitle).status?"valid":"error":null,name:"newProdTitle",type:"text",value:this.state.newProdTitle,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:this.handleChange})),r.a.createElement(m.i,{description:this.state.newProdBody.replace(/ +/g," ").trim().length+"/250"},r.a.createElement(m.V,{require:!0,status:this.state.newProdBody.length>0?this.validateNewProdBody(this.state.newProdBody).status?"valid":"error":null,name:"newProdBody",value:this.state.newProdBody,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:this.handleChange})),r.a.createElement(m.i,{description:this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").trim().length+"/5"},r.a.createElement(m.x,{require:!0,status:this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"").length>0?this.validateNewProdPrice(this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,"")).status?"valid":"error":null,name:"newProdPrice",type:"number",value:this.state.newProdPrice.replace(/[\s.,%]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/^0+/,""),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0446\u0435\u043d\u0443",onChange:this.handleChange})))),r.a.createElement(m.n,{style:{display:"flex",webkitUserSelect:"none",userSelect:"none"}},r.a.createElement(m.d,{size:"l",stretched:!0,mode:"destructive",style:{marginRight:8},onClick:function(){return e.setState({add:!1})}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(m.d,{size:"l",stretched:!0,onClick:function(){return e.saveProd()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))):r.a.createElement(m.j,{onClick:function(){return e.setState({add:!0,edit:null})},before:r.a.createElement(Ae.a,null)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443")),r.a.createElement(m.u,null,r.a.createElement(m.s,null,r.a.createElement(m.V,{name:"description",status:this.state.description.replace(/ +/g," ").trim().length>19&&this.state.description.replace(/ +/g," ").trim().length<201?"valid":"error",bottom:this.state.description.replace(/ +/g," ").trim().length>1?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0430\u0440\u0443 \u0441\u043b\u043e\u0432 \u043e \u0441\u0435\u0431\u0435",top:"\u041e \u0441\u0435\u0431\u0435",value:this.state.description,onChange:this.handleChange}),r.a.createElement(m.t,{top:"\u0421\u0444\u0435\u0440\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",bottom:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442\u044b, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u0412\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0435. \u0422\u0430\u043a \u0412\u0430\u0441 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0449\u0435 \u043d\u0430\u0439\u0442\u0438.",id:"category"},this.state.categories.map((function(t,a){return r.a.createElement(m.u,{key:t._id},r.a.createElement(m.i,{name:t._id,onClick:function(){return e.setState(Object(L.a)({},t._id,!e.state[t._id]))},indicator:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e: "+e.counter(a),asideContent:e.state[t._id]?r.a.createElement(he.a,null):r.a.createElement(me.a,null)},t.label),e.state[t._id]&&r.a.createElement(m.n,{style:{webkitUserSelect:"none",userSelect:"none"}},t.subcat.map((function(t,n,s){return r.a.createElement(m.i,{key:n,asideContent:r.a.createElement(m.Q,{name:a,id:n,onChange:function(t){e.setState({isChange:!0}),e.checkSubcat(t)},checked:t.active})},t.label)}))))}))),r.a.createElement(m.L,{name:"type",top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433",value:this.state.type,bottom:this.state.type?"":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433",onChange:this.handleChange},r.a.createElement("option",{value:"\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"},"\u0427\u0430\u0441\u0442\u043d\u044b\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"),r.a.createElement("option",{value:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"},"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f")),"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"===this.state.type&&r.a.createElement(m.t,{top:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435"},r.a.createElement(m.x,{name:"brand",type:"text",status:this.state.brand.length>0?this.state.brand.length<26?"valid":"error":null,value:this.state.brand,onChange:this.handleChange})))),this.props.snackbarLk)}}]),a}(r.a.Component)),it=Object(z.b)((function(e){return{targetCity:e.targetCity,user:e.user,master:e.master,params:e.params}}),(function(e){return{setMaster:Object(V.a)(K,e)}}))(Object(m.Y)(ot)),ct=a(33),lt=a.n(ct),ut=a(91),dt=a.n(ut),mt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadFavsMasters=function(e){var t={ids:e};fetch(N.masters.onarrayid,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){n.setState({mastersArr:e,isLoaded:!0})})).catch((function(e){console.log(e),n.setState({isLoaded:!0})}))},n.state={favsArr:[],mastersArr:[],isLoaded:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadFavsMasters(this.props.user.favs)}},{key:"render",value:function(){var e=this;return!1===this.state.isLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",goBack:function(){return e.props.goBack()}}),r.a.createElement(m.G,{stretched:!0,icon:r.a.createElement(m.P,{size:"large",style:{marginTop:20}}),header:"\u0418\u0449\u0435\u043c-\u0438\u0449\u0435\u043c..."})):this.state.mastersArr.error?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",goBack:function(){return e.props.goBack()}}),r.a.createElement(m.G,{stretched:!0,icon:r.a.createElement(lt.a,null),header:this.state.mastersArr.message},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0441\u0442\u0435\u0440\u0430 \u0432 \u044d\u0442\u043e\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043c\u043e\u0436\u043d\u043e, \u043d\u0430\u0436\u0430\u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043a\u043d\u043e\u043f\u043a\u0443 \u0432 \u0435\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435.")):r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",goBack:function(){return e.props.goBack()}}),r.a.createElement(m.u,{separator:"hide"},this.state.mastersArr.map((function(t){if(null!==t)return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.g,{key:t.vkUid},r.a.createElement(m.f,{size:"l",mode:"shadow"},r.a.createElement(m.I,{key:t._id,before:r.a.createElement(m.b,{size:72,src:t.avatarLink}),text:t.type,caption:t.location.city.title,after:r.a.createElement(dt.a,null),onClick:function(){return e.props.openFavMasterOnId(t)}},t.firstname," ",t.lastname))))})),r.a.createElement(m.r,{style:{webkitUserSelect:"none",userSelect:"none"}},"\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0435. \u041c\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u0432\u0441\u0435\u0433\u043e - ",this.state.mastersArr.length,".")))}}]),a}(r.a.Component),pt=a(38),ht=a.n(pt);function gt(e){return r.a.createElement(m.g,{key:e.key},r.a.createElement(m.f,{size:"l"},r.a.createElement(m.I,{disabled:!0,before:r.a.createElement(m.b,{size:72,src:e.find.avatarLink}),caption:e.date,bottom:r.a.createElement(m.m,null,e.find.sale),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.d,{mode:"outline",onClick:function(){return e.openMasterOnId(e.find.masterId)}},"\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043c\u0430\u0441\u0442\u0435\u0440\u0430"))},e.find.firstname," ",e.find.lastname),r.a.createElement(m.i,{multiline:!0},e.find.body),r.a.createElement(m.g,{style:{marginBottom:10}},e.find.images.map((function(e,t){return r.a.createElement(m.f,{style:{padding:2,borderRadius:13,margin:0},size:"s",mode:"shadow",key:t},r.a.createElement("div",{style:{borderRadius:13,height:96,backgroundImage:"url("+e+")",backgroundSize:"cover"}}))})))))}function ft(e){if("\u0422\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e"===e)return e;var t=new Date(e),a=t.getHours();a<10&&(a="0"+a);var n=t.getMinutes();n<10&&(n="0"+n);var r=t.getDate();r<10&&(r="0"+r);var s=t.getMonth();return s<10&&(s="0"+s),r+"."+s+"."+t.getFullYear()+" \u0432 "+a+":"+n}function vt(e){return 0===e.findArr.length?r.a.createElement(m.G,{icon:r.a.createElement(ht.a,null),header:"\u041d\u0435 \u0440\u0430\u0441\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439\u0442\u0435\u0441\u044c",action:r.a.createElement(m.d,{onClick:e.share,size:"l"},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432 \u0433\u043e\u0440\u043e\u0434\u0435 ",e.user.location.city.title," \u043d\u0435\u0442 \u043f\u043e\u0438\u0441\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0435\u0439. \u041c\u044b \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u043c \u0431\u0430\u0437\u0443 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432, \u0438 \u0441\u043a\u043e\u0440\u043e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0441 \u043c\u0430\u0441\u0442\u0435\u0440\u0430\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0412\u044b \u0437\u043d\u0430\u0435\u0442\u0435."):e.findArr.map((function(t){return r.a.createElement(gt,{date:ft(t.date),key:t._id,find:t,openMasterOnId:e.openMasterOnId})}))}function bt(e){if(e)return"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043e"===e?e:e.title}var yt=Object(z.b)((function(e){return{targetCity:e.targetCity}}))((function(e){return r.a.createElement(m.i,{style:{fontSize:12,padding:0},expandable:!0,onClick:e.changeCity,indicator:bt(e.targetCity)},r.a.createElement("span",{style:{fontSize:12}},"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0433\u043e\u0440\u043e\u0434"))})),Et=a(32),kt=a.n(Et),Ct=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadFind=function(){fetch(N.findModel.onCity+n.props.targetCity.id).then((function(e){return e.json()})).then((function(e){n.props.changeFindModelsList(e),n.setState({findArr:e,isLoad:!0})})).catch((function(e){return n.setState({warnConnection:!0})}))},n.share=function(){R.a.send("VKWebAppShare",{link:"https://m.vk.com/app7170938"}).then((function(e){"VKWebAppShareResult"===e.type&&n.openSnackAvatar("\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430.",n.state.activeMaster.avatarLink)}))},n.state={isLoad:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.props.findModelsList.length?this.loadFind():this.setState({findArr:this.props.findModelsList,isLoad:!0},(function(){e.props.findModelsListScroll&&R.a.send("VKWebAppScroll",{top:e.props.findModelsListScroll,speed:600})}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;e.targetCity!==this.props.targetCity&&this.setState({isLoad:!1},(function(){return n.loadFind()}))}},{key:"componentWillUnmount",value:function(){this.props.changeFindModelsListScroll(window.self.pageYOffset)}},{key:"render",value:function(){var e=this;return this.state.warnConnection?r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{changeCity:function(){return e.props.changeCity()}}),r.a.createElement(m.G,{stretched:!0,icon:r.a.createElement(kt.a,null),header:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!"},"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435."),this.state.snackbar):!1===this.state.isLoad?r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{changeCity:function(){return e.props.changeCity()}}),r.a.createElement(m.P,{size:"large",style:{marginTop:20}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{changeCity:function(){return e.props.changeCity()}}),r.a.createElement(vt,{findArr:this.state.findArr,share:this.share,user:this.props.user,openMasterOnId:this.props.openMasterOnId}),r.a.createElement(m.r,null))}}]),a}(r.a.Component),St=Object(z.b)((function(e){return{targetCity:e.targetCity,user:e.user,findModelsListScroll:e.findModelsListScroll,findModelsList:e.findModelsList}}),(function(e){return{changeFindModelsList:Object(V.a)(Z,e),changeFindModelsListScroll:Object(V.a)(X,e)}}))(Ct);a(92);a(48);var Ot=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).targetImg=function(e){try{if(n.state.targetImg.includes(e)){var t=n.state.targetImg,a=t.indexOf(e);a>-1?t.splice(a,1):t.splice(0,a),n.setState({targetImg:t})}else{var r=n.state.targetImg;if(r.length>2)throw"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e 3 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438.";r.push(e),n.setState({targetImg:r})}}catch(s){n.openSnack(s)}},n.handleChangeSelect=function(e){n.setState({selectvalue:e.target.value})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.save=function(){try{if(0===n.state.body.replace(/ +/g," ").trim().length)throw"\u041f\u0443\u0441\u0442\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e.";if(n.state.body.replace(/ +/g," ").trim().length>250)throw"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f - 250 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.";if(n.state.targetImg.length<3)throw"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c 3 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0438\u0437 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e.";if("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u0430\u043a\u0446\u0438\u0438"===n.state.selectvalue)throw"\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0430\u043a\u0446\u0438\u044e. \u0420\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u0430\u043a\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e.";if(""===n.state.selectvalue)throw"\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0430\u043a\u0446\u0438\u044e. \u0420\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u0430\u043a\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e.";if(!0===n.state.isActive){var e=n.state.loadFind;e.body=n.state.body,e.images=n.state.targetImg,e.sale=n.state.selectvalue,e.visible=n.state.visible,e.params=n.props.params,n.patchData(N.findModel.new+n.state.loadFind._id,e)}else{var t=n.state.loadFind;t.body=n.state.body,t.images=n.state.targetImg,t.sale=n.state.selectvalue,t.visible=n.state.visible,t.params=n.props.params,fetch(N.findModel.new,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){n.setState({loadFind:e.find,isActive:!0}),!1===e.mStatus?(n.setState({visible:!1}),n.openSnack("\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043e \u043f\u043e\u0438\u0441\u043a\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u043e, \u043d\u043e \u043f\u043e\u043a\u0430 \u043d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f. \u0415\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043c\u0430\u0441\u0442\u0435\u0440\u0430.")):n.openSnack("\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043e \u043f\u043e\u0438\u0441\u043a\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043e.")})).catch((function(e){return console.log(e)}))}}catch(a){n.openSnack(a)}},n.state={activeMaster:"",body:"",isLoaded:!1,isActive:!1,error:"",loading:!1,images:[],loadFind:{images:[]},selectvalue:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u0430\u043a\u0446\u0438\u0438",visible:!0,targetImg:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(N.findModel.onMasterId+this.props.master._id).then((function(e){return e.json()})).then((function(t){if(t.length>0){var a=[];t[0].images.map((function(t){e.props.master.photos.includes(t)&&a.push(t)})),e.setState({targetImg:a,loadFind:t[0],body:t[0].body,visible:t[0].visible,error:"",isLoaded:!0,selectvalue:t[0].sale,isActive:!0})}else{var n=r.a.createElement(m.i,{multiline:!0},"\u0423 \u0412\u0430\u0441 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u043e\u0441\u0442\u043e\u0432 \u043e \u043f\u043e\u0438\u0441\u043a\u0435");e.setState({error:n,isLoaded:!0})}}))}},{key:"openSnack",value:function(e){var t=this;this.state.snackbar||this.setState({snackbar:r.a.createElement(m.O,{layout:"vertical",onClose:function(){return t.setState({snackbar:null})}},e)})}},{key:"patchData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){e.openSnack("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430.")})).catch((function(t){e.openSnack("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435."),console.log(t)}))}},{key:"getDate",value:function(e){if("\u0422\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e"===e)return e;var t=new Date(e),a=t.getHours();a<10&&(a="0"+a);var n=t.getMinutes();n<10&&(n="0"+n);var r=t.getDate();r<10&&(r="0"+r);var s=t.getMonth();return s<10&&(s="0"+s),r+"."+s+"."+t.getFullYear()+" \u0432 "+a+":"+n}},{key:"postData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){e.setState({loadFind:t,isActive:!0})}))}},{key:"render",value:function(){var e=this;return!1===this.state.isLoaded?r.a.createElement(m.P,{size:"large",style:{marginTop:20}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.c,{header:"\u041c\u0430\u0441\u0442\u0435\u0440 \u0438\u0449\u0435\u0442 \u043c\u043e\u0434\u0435\u043b\u044c",subheader:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f",text:"\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c\u0441\u044f, \u0435\u0441\u043b\u0438 \u0432\u044b \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043f\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c. \u0421\u0435\u0439\u0447\u0430\u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0442\u0440\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430: \u0441\u043a\u0438\u0434\u043a\u0430 50%, \u043e\u043f\u043b\u0430\u0442\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0438\u043b\u0438 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043b\u044f \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e."}),r.a.createElement(m.s,null,r.a.createElement(m.V,{name:"body",top:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:this.state.body,onChange:this.handleChange}),this.props.master.photos.length>0?r.a.createElement(m.n,{style:{webkitUserSelect:"none",userSelect:"none"}},r.a.createElement(m.i,null,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u0430\u0441\u0442\u0435\u0440\u0430"),r.a.createElement(m.h,null,this.props.master.photos.map((function(t,a){return r.a.createElement(m.f,{style:{padding:2,borderRadius:13,margin:0},size:"s",mode:"shadow",key:a,onClick:function(){return e.targetImg(t)}},e.state.targetImg.includes(t)?r.a.createElement("div",{style:{width:144,height:96,backgroundImage:"url("+t+")",backgroundSize:"cover",borderRadius:13}},r.a.createElement("div",{style:{backgroundColor:"grey",borderRadius:"13px 13px 0 0",textAlign:"center"}},"\u0412\u044b\u0431\u0440\u0430\u043d\u043e")):r.a.createElement("div",{style:{width:144,height:96,backgroundImage:"url("+t+")",backgroundSize:"cover",borderRadius:13}}))})))):r.a.createElement(m.i,{multiline:!0},"\u0423 \u0412\u0430\u0441 \u0432 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043d\u0435\u0442 \u0444\u043e\u0442\u043e, \u0440\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043e \u043f\u043e\u0438\u0441\u043a\u0435 \u043c\u043e\u0436\u043d\u043e, \u0438\u043c\u0435\u044f \u0432 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 3-\u0445 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439."),r.a.createElement(m.L,{value:this.state.selectvalue,onChange:this.handleChangeSelect,top:"\u0422\u0438\u043f \u0430\u043a\u0446\u0438\u0438",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0430\u043a\u0446\u0438\u0438"},r.a.createElement("option",{value:"\u0421\u043a\u0438\u0434\u043a\u0430 50%"},"\u0421\u043a\u0438\u0434\u043a\u0430 50%"),r.a.createElement("option",{value:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},"\u041e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"),r.a.createElement("option",{value:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"},"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e")),r.a.createElement(m.i,{asideContent:r.a.createElement(m.Q,{onChange:function(){!0===e.props.master.moderation.status?e.setState({visible:!e.state.visible}):e.openSnack("\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0436\u0435 \u0441\u0435\u0439\u0447\u0430\u0441, \u043d\u043e \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0435\u0433\u043e \u043d\u0435 \u0443\u0432\u0438\u0434\u044f\u0442.")},checked:!0===this.props.master.moderation.status&&this.state.visible})},"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043f\u043e\u0438\u0441\u043a\u0435"),r.a.createElement(m.d,{size:"xl",onClick:this.save},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement(m.N,{style:{margin:"12px 0"}}),this.state.isActive&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.i,{description:"\u041d\u0435\u043a\u043b\u0438\u043a\u0430\u0431\u0435\u043b\u044c\u043d\u043e"},"\u0412\u0430\u0448 \u043f\u043e\u0441\u0442 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c \u0442\u0430\u043a:"),r.a.createElement(gt,{date:this.getDate(this.state.loadFind.date),key:this.state.loadFind._id,find:this.state.loadFind,openMasterOnId:this.props.openMasterOnId})),r.a.createElement(m.r,null),this.state.snackbar)}}]),a}(r.a.Component),Mt=Object(z.b)((function(e){return{user:e.user,master:e.master,params:e.params}}),(function(e){return{}}))(Ot),wt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"addToCommunity",value:function(){var e=Object(w.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.send("VKWebAppAddToCommunity",{}).then((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.c,{header:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0432 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e",subheader:"\u0415\u0441\u043b\u0438 \u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0441 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u043e\u0439, \u0441\u0445\u043e\u0436\u0435\u0439 \u0441 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u043e\u0439 \u043d\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u041d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440 \u043a\u0440\u0430\u0441\u043e\u0442\u044b \u0432 \u0441\u0432\u043e\u044e \u0433\u0440\u0443\u043f\u043f\u0443. \u0412\u0430\u0448\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438 \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432.",actions:r.a.createElement(m.d,{onClick:function(){return e.addToCommunity()}},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e")}))}}]),a}(r.a.Component),Lt=a(93),Pt=a.n(Lt),Tt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={search:"",isLoad:!1,cities:[{id:621,title:"\u0414\u0437\u0435\u0440\u0436\u0438\u043d\u0441\u043a"},{id:49,title:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433"}]},n.onChange=n.onChange.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getCities("")}},{key:"getCities",value:function(e){var t=this,a={search:e.toLowerCase(),country_id:1};fetch(N.vkapi.getCities,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):t.setState({cities:e.cityList,isLoad:!0})})).catch((function(e){return console.log(e)}))}},{key:"onChange",value:function(e){this.setState({search:e.target.value}),this.getCities(e.target.value)}},{key:"render",value:function(){var e=this;return!1===this.state.isLoad?r.a.createElement(m.P,{size:"large",style:{marginTop:20}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.K,{value:this.state.search,onChange:this.onChange,after:null}),this.state.cities.length>0?r.a.createElement(m.z,null,this.state.cities.map((function(t){return r.a.createElement(m.i,{description:t.region||"",onClick:function(){return e.props.changeCity(t)},key:t.id},t.title)}))):r.a.createElement(m.G,{icon:r.a.createElement(Pt.a,null),header:"\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"},"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043e\u043f\u0435\u0447\u0430\u0442\u043a\u0438 \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430"))}}]),a}(r.a.Component),jt=Object(m.Y)(Tt),_t=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.good=function(e,t){var a=n.state.mastersList;t>-1?a.splice(t,1):a.splice(0,t),n.setState({mastersList:a});var r={id:e,status:!0,reasons:[],params:n.props.params};fetch(N.moder+"good",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(r)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},n.bad=function(e,t){var a=n.state.mastersList,r=[];r.push(n.state.reason),a[t].moderation.reasons=r;var s={id:e,status:!1,reasons:r,params:n.props.params};fetch(N.moder+"bad",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})),n.setState({mastersList:a})},n.goodComment=function(e,t){var a=n.state.comments;t>-1?a.splice(t,1):a.splice(0,t),n.setState({comments:a});var r={id:e,params:n.props.params};fetch(N.moderCom+"good",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},n.badComment=function(e,t){var a=n.state.comments;t>-1?a.splice(t,1):a.splice(0,t),n.setState({comments:a});var r={id:e,params:n.props.params};fetch(N.moderCom+"bad",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},n.state={mastersList:[],activeTab:"masters",comments:[],mastersCount:0,usersCount:0,isLoad:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(w.a)(M.a.mark((function e(){var t=this;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N.moder,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(this.props.params)}).then((function(e){return e.json()})).then((function(e){t.setState({mastersList:e})})).catch((function(e){return console.log(e)}));case 2:return e.next=4,fetch(N.comment.moderation,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(this.props.params)}).then((function(e){return e.json()})).then((function(e){t.setState({comments:e,isLoad:!1})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderComments",value:function(){var e=this;return 0===this.state.comments.length?r.a.createElement(m.G,{icon:r.a.createElement(lt.a,null),header:"\u041d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438"},"\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435\u0442"):this.state.comments.map((function(t,a){return null===t?null:(console.log(t),r.a.createElement(m.g,{key:a,style:{padding:0}},r.a.createElement(m.f,{size:"l",mode:"shadow"},r.a.createElement(m.I,{disabled:!0,multiline:!0,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.d,{onClick:function(){return e.goodComment(t._id,a)}},"\u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"),r.a.createElement(m.d,{onClick:function(){return e.badComment(t._id,a)},mode:"destructive"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))},t.body),r.a.createElement(m.i,{before:r.a.createElement(m.b,{size:25,src:t.user.avatarLink})}," From - ",t.user.firstname+" "+t.user.lastname),r.a.createElement(m.i,null,"To - ",t.to.name))))}))}},{key:"renderMasters",value:function(){var e=this;return!0===this.state.isLoad?r.a.createElement(m.G,{icon:r.a.createElement(lt.a,null),header:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e..."},"\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435\u0442"):0===this.state.mastersList.length?r.a.createElement(m.G,{icon:r.a.createElement(lt.a,null),header:"\u041d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438"},"\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435\u0442"):this.state.mastersList.map((function(t,a){return r.a.createElement(m.g,{key:t.vkUid,style:{padding:0}},r.a.createElement(m.f,{size:"l",mode:"shadow"},r.a.createElement(m.I,{disabled:!0,multiline:!0,before:r.a.createElement(m.b,{onClick:function(){return e.props.openMaster(t)},src:t.avatarLink,size:70}),caption:t.location.city.title,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.i,null,r.a.createElement(m.d,{onClick:function(){return e.good(t._id,a)}},"\u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"),r.a.createElement(m.d,{onClick:function(){return e.setState(Object(L.a)({},t.vkUid,!0))},mode:"secondary"},"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c")))},t.firstname," ",t.lastname),t.moderation.reasons.length>0&&r.a.createElement(m.i,null,t.moderation.reasons.map((function(e){return e}))),!0===e.state[t.vkUid]&&r.a.createElement(m.i,null,r.a.createElement(m.V,{name:"reason",value:e.state.reason,onChange:function(t){console.log(e.state.reason),e.setState({reason:t.target.value})}}),r.a.createElement(m.d,{onClick:function(){return e.bad(t._id,a)},mode:"secondary"},"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"))))}))}},{key:"render",value:function(){var e=this;return"199500866"!==this.props.params.vk_user_id?r.a.createElement(m.C,{id:"moder"},r.a.createElement(m.i,null,"\u0423 \u0412\u0430\u0441 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430")):r.a.createElement(m.C,{id:"moder"},r.a.createElement(S,{title:"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f",goBack:function(){return e.props.goBack()}}),r.a.createElement("div",null,r.a.createElement(m.T,null,r.a.createElement(m.U,{onClick:function(){return e.setState({activeTab:"masters"})},selected:"masters"===this.state.activeTab},"\u041c\u0430\u0441\u0442\u0435\u0440\u0430"),r.a.createElement(m.U,{onClick:function(){return e.setState({activeTab:"comments"})},selected:"comments"===this.state.activeTab},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438")),"masters"===this.state.activeTab?this.renderMasters():this.renderComments()))}}]),a}(r.a.Component),At=Object(z.b)((function(e){return{user:e.user,master:e.master,params:e.params}}),(function(e){return{}}))(_t),It=(a(94),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setBottom=function(e){return e.comments>0?r.a.createElement(m.n,{style:{margin:0,padding:0,fontSize:12,color:"#a9a9a9",webkitUserSelect:"none",userSelect:"none"}},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 ",e.rating," \u0438\u0437 ",e.comments," \u043e\u0442\u0437\u044b\u0432\u043e\u0432"):r.a.createElement(m.n,{style:{margin:0,padding:0,fontSize:12,color:"#a9a9a9",webkitUserSelect:"none",userSelect:"none"}},"\u041e\u0442\u0437\u044b\u0432\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")},n.share=function(){R.a.send("VKWebAppShare",{link:"https://m.vk.com/app7170938"}).then((function(e){"VKWebAppShareResult"===e.type&&n.props.openSnack("\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0443 \u0432 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0438.")}))},n.state={promo:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setTitle(this.props.mastersList.length);try{if("\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"===this.props.city)throw"\u041d\u0435\u0442 \u0433\u043e\u0440\u043e\u0434\u0430";if(0===this.props.mastersList.length)throw"\u041d\u0438\u043a\u043e\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438"}catch(t){this.setState({error:t})}R.a.subscribe((function(t){if(t.detail){var a=t.detail,n=a.type,r=a.data;"VKWebAppGetAdsResult"===n&&e.setState({promo:r}),"VKWebAppGetAdsFailed"===n&&(console.log(r.error_data),e.setState({promo:r.error_data}))}})),R.a.send("VKWebAppGetAds",{}).then((function(e){return console.log("ads")})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t,a){if(e!==this.props){this.setState({error:null});try{if("\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"===this.props.city)throw"\u041d\u0435\u0442 \u0433\u043e\u0440\u043e\u0434\u0430";if(0===this.props.mastersList.length)throw"\u041d\u0438\u043a\u043e\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438"}catch(n){this.setState({error:n})}}}},{key:"setTitle",value:function(e){void 0===e?this.setState({title:"\u041c\u044b \u043d\u0438\u043a\u043e\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 :( \u043f\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u0448\u043b\u0438..."}):this.setState({title:"\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432: "+e})}},{key:"renderMasters",value:function(){var e=this,t=0;return this.props.mastersList.map((function(a){return 6===t&&(t=0),t++,r.a.createElement(m.g,{key:a.vkUid},r.a.createElement(m.f,{size:"l",mode:"shadow"},r.a.createElement(m.i,{style:{borderRadius:"10px 10px 10px 10px"},expandable:!0,photo:"https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg",description:a.categories.category.map((function(e){return e.label+" "})),bottomContent:e.setBottom(a.meta),before:r.a.createElement(m.b,{src:a.avatarLink,size:70}),size:"l",onClick:function(){return e.props.openPanelMaster(a)}},a.firstname," ",a.lastname)))}))}},{key:"render",value:function(){var e=this;return"\u041d\u0435\u0442 \u0433\u043e\u0440\u043e\u0434\u0430"===this.state.error?r.a.createElement(m.G,{icon:r.a.createElement(ht.a,null),header:"\u0413\u0434\u0435 \u0432\u044b?"},"\u041d\u0430\u043c \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0412\u0430\u0448 \u0433\u043e\u0440\u043e\u0434, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0435\u0433\u043e \u0432\u0440\u0443\u0447\u043d\u0443\u044e."):"\u041d\u0438\u043a\u043e\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438"===this.state.error?r.a.createElement(m.G,{icon:r.a.createElement(ht.a,null),header:"\u041d\u0435 \u0440\u0430\u0441\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439\u0442\u0435\u0441\u044c",action:r.a.createElement(m.d,{onClick:function(){return e.share()},size:"l"},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0443 \u043d\u0430\u0441 \u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u0445 \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0432 \u0412\u0430\u0448\u0435\u043c \u0433\u043e\u0440\u043e\u0434\u0435. \u041c\u044b \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u043c \u0431\u0430\u0437\u0443 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432, \u0438 \u0441\u043a\u043e\u0440\u043e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0441 \u043c\u0430\u0441\u0442\u0435\u0440\u0430\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0412\u044b \u0437\u043d\u0430\u0435\u0442\u0435."):r.a.createElement(m.u,{separator:"hide",header:r.a.createElement(m.v,{mode:"secondary"},this.state.title)},this.renderMasters(),r.a.createElement(m.r,null,"\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0435. \u041c\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u0432\u0441\u0435\u0433\u043e - ",this.props.mastersList.length,"."))}}]),a}(r.a.Component));function Bt(e,t){var a=0;return t.mastersList.map((function(t){t.categories.subcat&&t.categories.subcat.includes(e)&&a++})),a}var Nt=function(e){return"all"!==e.targetCategory._id?r.a.createElement(m.w,null,r.a.createElement(m.T,null,e.targetCategory.subcat.map((function(t){return r.a.createElement(m.U,{after:r.a.createElement(m.m,{size:"s"},Bt(t._id,e)),key:t._id,id:t._id,onClick:e.checkSubcat,selected:e.filter.includes(t._id)},t.label)})))):null},Ft=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadList=function(){""===n.props.targetCategory?fetch(N.masters.category+"all/"+n.props.targetCity.id).then((function(e){return e.json()})).then((function(e){n.props.changeMastersList(e),n.filter()})).catch((function(e){return n.setState({warnConnection:!0})})):fetch(N.masters.category+n.props.targetCategory._id+"/"+n.props.targetCity.id).then((function(e){return e.json()})).then((function(e){n.props.changeMastersList(e),n.filter()})).catch((function(e){return n.setState({warnConnection:!0})}))},n.checkSubcat=function(e){if(n.state.filter.includes(e.currentTarget.id)){var t=n.state.filter.indexOf(e.currentTarget.id),a=n.state.filter;t>-1?a.splice(t,1):a.splice(0,t),n.setState({filter:a},(function(){return n.filter()}))}else{var r=n.state.filter;r.push(e.currentTarget.id),n.setState({filter:r},(function(){return n.filter()}))}},n.state={isLoad:!1,filter:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){0===this.props.mastersList.length?this.loadList():this.setState({filteredList:this.props.mastersList,isLoad:!0})}},{key:"componentWillMount",value:function(){this.props.mastersListScroll&&R.a.send("VKWebAppScroll",{top:this.props.mastersListScroll})}},{key:"componentWillUnmount",value:function(){this.props.changeMasterslistScroll(window.self.pageYOffset)}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;e.targetCity!==this.props.targetCity&&this.setState({isLoad:!1},(function(){return n.loadList()}))}},{key:"filter",value:function(){var e=this;if(0===this.state.filter.length)this.setState({filteredList:this.props.mastersList,isLoad:!0});else{var t=this.props.mastersList.filter((function(t){var a=0;if(e.state.filter.forEach((function(e){if(!t.categories.subcat)return!1;t.categories.subcat.includes(e)&&a++})),a>0)return!0}));this.setState({filteredList:t,isLoad:!0})}}},{key:"render",value:function(){var e=this;if(this.state.warnConnection)return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{changeCity:function(){return e.props.changeCity()}}),r.a.createElement(m.G,{stretched:!0,icon:r.a.createElement(kt.a,null),header:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!"},"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435."),this.state.snackbar);var t=this.props,a=t.targetCategory,n=t.user;return r.a.createElement(m.C,{id:"mastersList"},r.a.createElement(m.D,null,"\u041c\u0430\u0441\u0442\u0435\u0440\u0430"),r.a.createElement(yt,{changeCity:function(){return e.props.changeCity()}}),r.a.createElement(m.n,null,r.a.createElement(m.M,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",placeholder:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u044b \u043c\u0430\u0441\u0442\u0435\u0440\u0430 \u0432\u0441\u0435\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",onClick:"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043e"===n.location.city?this.props.openSnack("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"):this.props.changeCategory},a.label),a&&this.state.isLoad&&r.a.createElement(Nt,{targetCategory:a,mastersList:this.props.mastersList,checkSubcat:function(t){return e.checkSubcat(t)},filter:this.state.filter})),this.state.isLoad?r.a.createElement(It,{openSnack:this.props.openSnack,mastersList:this.state.filteredList,category:a,city:n.location.city,openPanelMaster:this.props.openPanelMaster}):r.a.createElement(m.P,{size:"large",style:{marginTop:20}}),this.props.snackbar)}}]),a}(r.a.Component),Rt=Object(z.b)((function(e){return{mastersList:e.mastersList,targetCategory:e.targetCategory,targetCity:e.targetCity,mastersListScroll:e.mastersListScroll,user:e.user}}),(function(e){return{changeMastersList:Object(V.a)($,e),changeTargetCategory:Object(V.a)(Y,e),changeTargetCity:Object(V.a)(q,e),changeMasterslistScroll:Object(V.a)(Q,e)}}))(Ft),zt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadCategories=function(){fetch(N.category.getAll).then((function(e){return e.json()})).then((function(e){e.unshift({_id:"all",label:"\u041c\u0430\u0441\u0442\u0435\u0440\u0430 \u0432\u0441\u0435\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"}),n.setState({categories:e,isLoad:!0})})).catch((function(e){console.log(e)}))},n.state={isLoad:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadCategories()}},{key:"render",value:function(){var e=this;return!1===this.state.isLoad?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement(m.P,{size:"large",style:{marginTop:20}})):r.a.createElement(m.z,null,this.state.categories.map((function(t){return r.a.createElement(m.i,{key:t._id,onClick:function(){return e.props.setCategory(t)},asideContent:e.props.targetCategory===t?r.a.createElement(at.a,{fill:"var(--accent)"}):null},t.label)})))}}]),a}(r.a.Component),xt=Object(z.b)((function(e){return{targetCategory:e.targetCategory}}))(zt),Gt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(m.n,{style:{color:"gray"}},"1. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043d\u044f\u0442\u0438\u044f",r.a.createElement("br",null),"1.1. \u0421\u0430\u0439\u0442 \u2013 \u0441\u0430\u0439\u0442, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u0432 \u0441\u0435\u0442\u0438 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 http://vk.com/.",r.a.createElement("br",null),"1.2. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u2013 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e, \u0440\u0430\u0437\u043c\u0435\u0449\u0430\u044e\u0449\u0435\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0421\u0430\u0439\u0442\u0435 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0435\u0435 \u0435\u0433\u043e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0423\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u041f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0430 \u0421\u0430\u0439\u0442\u0435. \u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f \u0438 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0438\u0431\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u0435\u043c \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xab\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0435\xbb \u0432 \u043e\u043a\u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.",r.a.createElement("br",null),"1.3. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0421\u0430\u0439\u0442\u0430 \u2013 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e \xab\u0412 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435\xbb, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0435 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443: 191024, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0443\u043b. \u0425\u0435\u0440\u0441\u043e\u043d\u0441\u043a\u0430\u044f, \u0434. 12-14, \u043b\u0438\u0442\u0435\u0440 \u0410, \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435 1-\u041d, \u041e\u0413\u0420\u041d 1079847035179, \u0418\u041d\u041d 7842349892.",r.a.createElement("br",null),'1.4. \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2013 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441, \u0438\u043c\u0435\u043d\u0443\u0435\u043c\u044b\u0439 "\u041d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440 \u043a\u0440\u0430\u0441\u043e\u0442\u044b" \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0439 \u043d\u0430 \u0421\u0430\u0439\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xab\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\xbb, \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0439 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439 \u0421\u0430\u0439\u0442\u0430 \u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0439 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439.',r.a.createElement("br",null),"1.5. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u2013 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0421\u0430\u0439\u0442\u0430, \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0432 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0439 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"2. \u0421\u0442\u0430\u0442\u0443\u0441 \u041f\u0440\u0430\u0432\u0438\u043b",r.a.createElement("br",null),"2.1. \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u0441\u043e\u0431\u043e\u0439 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0438 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c (\u0434\u0430\u043b\u0435\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u0438\u043c\u0435\u043d\u0443\u0435\u043c\u044b\u0435 \xab\u0421\u0442\u043e\u0440\u043e\u043d\u044b\xbb) \u0438 \u0440\u0435\u0433\u0443\u043b\u0438\u0440\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0430 \u0438 \u043e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u0438 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"3. \u041f\u0440\u0430\u0432\u0430 \u0438 \u043e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u0421\u0442\u043e\u0440\u043e\u043d",r.a.createElement("br",null),"3.1. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u043d \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0435, \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u0438 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u043c\u0438 \u041f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0434\u043e \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041f\u0440\u0438 \u043d\u0435\u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0438 \u0441 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u043d \u0432\u043e\u0437\u0434\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.",r.a.createElement("br",null),"3.2. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432 \u043b\u0438\u0447\u043d\u044b\u0445 \u043d\u0435\u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0445 \u0446\u0435\u043b\u044f\u0445. \u0417\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0442\u044c \u0443\u0441\u043b\u0443\u0433\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0434\u0440\u0443\u0433\u0438\u043c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0432 \u0446\u0435\u043b\u044f\u0445 \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438. \u0417\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 (\xab\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b-\u0440\u043e\u0431\u043e\u0442\u044b\xbb) \u0438\u043b\u0438 \u0438\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0445 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0431\u0435\u0437 \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0417\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0435 \u0432\u0440\u0435\u0434\u043e\u043d\u043e\u0441\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b (\xab\u0432\u0438\u0440\u0443\u0441\u044b\xbb).",r.a.createElement("br",null),"3.3. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u043f\u0440\u0430\u0432\u0435 \u0432 \u043b\u044e\u0431\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u043d\u043e\u0441\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0438/\u0438\u043b\u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435\u043c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u043b\u0438 \u0431\u0435\u0437 \u0442\u0430\u043a\u043e\u0432\u043e\u0433\u043e.",r.a.createElement("br",null),"3.4. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u043f\u0440\u0430\u0432\u0435 \u0432 \u043e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0445 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c, \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u043d\u0443\u044e \u0432\u043e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0432\u0430\u043b\u044e\u0442\u0435 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 - \u0433\u043e\u043b\u043e\u0441\u0430\u0445. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0440\u043e\u0441\u043e\u0432\u0435\u0441\u0442\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0438 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432. \u041f\u0440\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0444\u0430\u043a\u0442\u043e\u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u043e\u043c\u0435\u0440\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u043f\u0440\u0430\u0432\u0435 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0443\u0441\u043b\u0443\u0433 \u043b\u0438\u0431\u043e \u0432 \u043e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043b\u0438\u0447\u043d\u044b\u0439 \u0441\u0447\u0435\u0442 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438.",r.a.createElement("br",null),"3.5. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u043f\u0440\u0430\u0432\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432 \u0446\u0435\u043b\u044f\u0445 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433 \u043f\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0440\u0435\u0433\u0443\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430.",r.a.createElement("br",null),"3.6. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043e\u0431\u044f\u0437\u0430\u043d \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0441\u0432\u044f\u0437\u0438 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043e \u0432\u0441\u0435\u043c \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0449\u0438\u043c \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u043c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xab\u041f\u043e\u043c\u043e\u0449\u044c\xbb \u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \xab\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0435\xbb.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"4. \u0418\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c",r.a.createElement("br",null),"4.1. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u0437\u043d\u0430\u0435\u0442, \u0447\u0442\u043e \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0435\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 (\u0432\u043a\u043b\u044e\u0447\u0430\u044f, \u043d\u043e \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u044f\u0441\u044c, \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0434\u0438\u0437\u0430\u0439\u043d\u0430, \u0442\u0435\u043a\u0441\u0442, \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u0438\u043b\u043b\u044e\u0441\u0442\u0440\u0430\u0446\u0438\u0438, \u0432\u0438\u0434\u0435\u043e, \u0441\u043a\u0440\u0438\u043f\u0442\u044b, \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u043c\u0443\u0437\u044b\u043a\u0430, \u0437\u0432\u0443\u043a\u0438 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0438 \u0438\u0445 \u043f\u043e\u0434\u0431\u043e\u0440\u043a\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c) \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b \u0430\u0432\u0442\u043e\u0440\u0441\u043a\u0438\u043c \u043f\u0440\u0430\u0432\u043e\u043c, \u0442\u043e\u0432\u0430\u0440\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u043a\u0430\u043c\u0438, \u043f\u0430\u0442\u0435\u043d\u0442\u0430\u043c\u0438 \u0438 \u0438\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0430\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0442 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0443 \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u0437\u0430\u043a\u043e\u043d\u043d\u044b\u043c \u043f\u0440\u0430\u0432\u043e\u043e\u0431\u043b\u0430\u0434\u0430\u0442\u0435\u043b\u044f\u043c.",r.a.createElement("br",null),"4.2. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043d\u0435\u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0430 \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 \u0437\u0430\u043f\u0443\u0441\u043a \u0438 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0443\u044e \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u044e \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432 \u0446\u0435\u043b\u044f\u0445 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u044f \u043b\u0438\u0447\u043d\u044b\u0445, \u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0445, \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0438\u043b\u0438 \u0438\u043d\u044b\u0445 \u043d\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e \u043d\u0443\u0436\u0434, \u0431\u0435\u0437 \u043f\u0440\u0430\u0432\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u0430\u043d\u043d\u043e\u0439 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u0442\u0440\u0435\u0442\u044c\u0438\u043c \u043b\u0438\u0446\u0430\u043c \u0438 \u0431\u0435\u0437 \u043f\u0440\u0430\u0432\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0443\u0431\u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0439 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0442\u0440\u0435\u0442\u044c\u0438\u043c \u043b\u0438\u0446\u0430\u043c.",r.a.createElement("br",null),"4.3. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0432\u043f\u0440\u0430\u0432\u0435 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c, \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c, \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0430\u0442\u044c, \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438), \u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c, \u0441\u0434\u0430\u0432\u0430\u0442\u044c \u0432 \u043f\u0440\u043e\u043a\u0430\u0442, \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u044b\u0432\u0430\u0442\u044c, \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c, \u0438\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0442\u044c \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043b\u0438\u0431\u043e \u0435\u0433\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b, \u0434\u0435\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u0438\u0437\u0432\u043b\u0435\u0447\u044c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u044f\u0432\u043b\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435\u043c, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0431\u0435\u0437 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0438\u0441\u044c\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u044f \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430.",r.a.createElement("br",null),"4.4. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0432\u043f\u0440\u0430\u0432\u0435 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438/\u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043a\u0430\u043a\u0443\u044e-\u043b\u0438\u0431\u043e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u0443\u044e \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0437\u043d\u0430\u043a\u0438 \u043e\u0445\u0440\u0430\u043d\u044b \u0430\u0432\u0442\u043e\u0440\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u0430\u0432\u0430 \u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438.",r.a.createElement("br",null),"4.5. \u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0432 \u043f\u0443\u043d\u043a\u0442\u0435 4.2 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u041f\u0440\u0430\u0432\u0438\u043b, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0432\u0435\u0441\u044c \u0441\u0440\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c. \u0414\u0430\u043d\u043d\u0430\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044f \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u0430\u043a\u0436\u0435 \u043d\u0430 \u0432\u0441\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438/\u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c.",r.a.createElement("br",null),"4.6. \u0415\u0441\u043b\u0438 \u0438\u043d\u043e\u0435 \u044f\u0432\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u041f\u0440\u0430\u0432\u0438\u043b\u0430\u0445, \u043d\u0438\u0447\u0442\u043e \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u041f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e \u043a\u0430\u043a \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0430\u0432 \u043d\u0430 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438/\u0438\u043b\u0438 \u0435\u0433\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"5. \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0438 \u0438 \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c",r.a.createElement("br",null),"5.1. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u0437\u043d\u0430\u0435\u0442 \u0438 \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0441\u044f \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \xab\u043a\u0430\u043a \u0435\u0441\u0442\u044c\xbb. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0439 \u0432 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441 \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435\u043c.",r.a.createElement("br",null),"5.2. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0439 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u0437\u043d\u0430\u0435\u0442 \u0438 \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0441\u044f \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f\u043c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.",r.a.createElement("br",null),"5.3. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0438\u043b\u0438 \u0438\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u043e\u043e\u0431\u043b\u0430\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0438 \u043f\u0440\u0438 \u043a\u0430\u043a\u0438\u0445 \u043e\u0431\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u0445 \u043d\u0435 \u043d\u0435\u0441\u0443\u0442 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u043b\u044e\u0431\u043e\u0439 \u043a\u043e\u0441\u0432\u0435\u043d\u043d\u044b\u0439, \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439, \u043d\u0435\u0443\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 \u0443\u0449\u0435\u0440\u0431 (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0443\u043f\u0443\u0449\u0435\u043d\u043d\u0443\u044e \u0432\u044b\u0433\u043e\u0434\u0443, \u0443\u0449\u0435\u0440\u0431, \u043f\u0440\u0438\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u0443\u0442\u0440\u0430\u0442\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445), \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u044b\u0439 \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0442\u043a\u0430\u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0438\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0440\u044b\u0432\u0430 \u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0430\u043b \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u043b \u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0442\u0430\u043a\u043e\u0433\u043e \u0443\u0449\u0435\u0440\u0431\u0430.",r.a.createElement("br",null),"5.4. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0435\u0441\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0441\u0432\u043e\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0437\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u043e \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044e \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 \u0438\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0434\u0440\u0443\u0433\u0438\u043c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0435\u0441\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432 \u0442\u0440\u0435\u0442\u044c\u0438\u0445 \u043b\u0438\u0446, \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e\u0433\u043e \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430, \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u041f\u0440\u0430\u0432\u0438\u043b, \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u043f\u0440\u0430\u0432\u0438\u043b \u0438/\u0438\u043b\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430, \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u043d\u044b\u0445 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xab\u041f\u043e\u043c\u043e\u0449\u044c\xbb \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.",r.a.createElement("br",null),"5.5. \u0417\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f, \u0434\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c, \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u043f\u0440\u0430\u0432\u0435 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0443\u0441\u043b\u0443\u0433 \u0438\u043b\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0442\u0430\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0438\u043b\u0438 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u043e \u0441 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435\u043c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0431\u0435\u0437 \u0442\u0430\u043a\u043e\u0432\u043e\u0433\u043e.",r.a.createElement("br",null),"5.6. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043d\u0435 \u043d\u0435\u0441\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0437\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0437\u0430 \u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u043e\u0441\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"6. \u0417\u0430\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f",r.a.createElement("br",null),"6.1. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u043f\u0440\u0430\u0432\u0435 \u0432 \u043b\u044e\u0431\u043e\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433 \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u043e \u0441\u0432\u043e\u0435\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0430 \u0421\u0430\u0439\u0442\u0435.",r.a.createElement("br",null),"6.2. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u043f\u0440\u0430\u0432\u0435 \u0432 \u043b\u044e\u0431\u043e\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0438\u043b\u0438 \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435\u043c \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u043b\u0438 \u0431\u0435\u0437 \u0442\u0430\u043a\u043e\u0432\u043e\u0433\u043e.",r.a.createElement("br",null),"6.3. \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0440\u0435\u0433\u0443\u043b\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0438 \u0442\u043e\u043b\u043a\u0443\u044e\u0442\u0441\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438. \u0412\u043e\u043f\u0440\u043e\u0441\u044b, \u043d\u0435 \u0443\u0440\u0435\u0433\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u041f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438, \u043f\u043e\u0434\u043b\u0435\u0436\u0430\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438.",r.a.createElement("br",null),"6.4. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f \u043b\u044e\u0431\u044b\u0445 \u0441\u043f\u043e\u0440\u043e\u0432 \u0438\u043b\u0438 \u0440\u0430\u0437\u043d\u043e\u0433\u043b\u0430\u0441\u0438\u0439, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u041f\u0440\u0430\u0432\u0438\u043b, \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0438 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0430\u0442 \u0432\u0441\u0435 \u0443\u0441\u0438\u043b\u0438\u044f \u0434\u043b\u044f \u0438\u0445 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0443\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u043d\u0438\u043c\u0438. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0441\u043f\u043e\u0440\u044b \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u043f\u0443\u0442\u0435\u043c \u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u043e\u0432, \u0441\u043f\u043e\u0440\u044b \u043f\u043e\u0434\u043b\u0435\u0436\u0430\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044e \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0437\u0430\u043a\u043e\u043d\u043e\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438.",r.a.createElement("br",null),"6.5. \u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 \u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0434\u043b\u044f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u043c \u044f\u0437\u044b\u043a\u0435. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0440\u0430\u0441\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0440\u0443\u0441\u0441\u043a\u043e\u044f\u0437\u044b\u0447\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u041f\u0440\u0430\u0432\u0438\u043b \u0438 \u0432\u0435\u0440\u0441\u0438\u0438 \u041f\u0440\u0430\u0432\u0438\u043b \u043d\u0430 \u0438\u043d\u043e\u043c \u044f\u0437\u044b\u043a\u0435, \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0440\u0443\u0441\u0441\u043a\u043e\u044f\u0437\u044b\u0447\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u041f\u0440\u0430\u0432\u0438\u043b.",r.a.createElement("br",null),"6.6. \u0415\u0441\u043b\u0438 \u043f\u043e \u0442\u0435\u043c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c \u043e\u0434\u043d\u043e \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u041f\u0440\u0430\u0432\u0438\u043b \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u0437\u043d\u0430\u043d\u044b \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u0438\u043b\u0438 \u043d\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u043c\u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0441\u0438\u043b\u044b, \u044d\u0442\u043e \u043d\u0435 \u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u043b\u0438\u044f\u043d\u0438\u044f \u043d\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438\u043b\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0439.")}}]),a}(r.a.Component),Dt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).auth=function(e){fetch(N.users.auth,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){!0===n.state.warnConnection&&n.setState({warnConnection:!1,snackbar:null}),n.setState({validLaunchParams:!0}),n.props.loginUser(e.user),null!==e.master&&n.props.setMaster(e.master)})).catch((function(e){console.log(e),n.setState({snackbar:r.a.createElement(m.O,{duration:"3000",layout:"vertical",onClose:function(){return n.setState({snackbar:null})},before:r.a.createElement(st.a,null)},"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u0421\u0442\u0440\u0430\u0448\u043d\u043e, \u043e\u0447\u0435\u043d\u044c \u0441\u0442\u0440\u0430\u0448\u043d\u043e, \u043c\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u043c \u0447\u0442\u043e \u044d\u0442\u043e \u0442\u0430\u043a\u043e\u0435, \u0435\u0441\u043b\u0438 \u0431\u044b \u043c\u044b \u0437\u043d\u0430\u043b\u0438 \u0447\u0442\u043e \u044d\u0442\u043e \u0442\u0430\u043a\u043e\u0435, \u0442\u043e \u043c\u044b \u0431\u044b \u0437\u043d\u0430\u043b\u0438, \u0447\u0442\u043e \u044d\u0442\u043e \u0442\u0430\u043a\u043e\u0435.")}),n.setState({warnConnection:!0})}))},n.openMasterOnId=function(e){fetch(N.masters.onID+e).then((function(e){return e.json()})).then((function(e){e.error&&(e=null),n.props.changeActiveMasterOnMasters(e),n.goTo("masters","masterInfo")}))},n.openFindMasterOnId=function(e){fetch(N.masters.onID+e).then((function(e){return e.json()})).then((function(e){n.props.changeActiveMasterOnFindModels(e),n.goTo("findmodel","masterInfo")}))},n.closeReg=function(e){fetch(N.masters.all,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.error?n.openSnack(e.error):(n.props.setMaster(e),n.goTo("lk","lk"))})).catch((function(e){console.log(e),n.openSnack(e.message)}))},n.goTo=function(e,t){window.history.pushState({panel:t},t),n.props.goTo(e,t);n.props[e+"History"]},n.goBack=function(e){if(console.log("\u0434\u043e",n.props[e+"History"]),1===n.props[e+"History"].length)R.a.send("VKWebAppClose",{status:"sucsess"});else{n.props.goForward(e);n.props[e+"History"];console.log("\u043f\u043e\u0441\u043b\u0435",n.props[e+"History"])}},n.activePanelMasters=function(e){n.setState({activePanelMasters:e})},n.openStory=function(e){n.setState({activeStory:e})},n.state={popoutLk:null,popoutInvite:null,activeStory:"news",activePanelFindModels:"findmodel",activePanelMasters:"mastersList",activeMasterId:"",activeViewMasters:"mastersList",activeViewLk:"lk",activePanelLk:"lk",activePanelReg:"registration",baseCities:"",searchCity:"",activeModal:null,modalHistory:[],targetCity:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",activeTabLk:"about",scheme:"bright_light",warnConnection:!1,mastersModal:null,findModal:null,lkModal:null,snackbarInvite:null},n.onStoryChange=n.onStoryChange.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;R.a.subscribe((function(t){var a=t.detail,n=a.type,r=a.data;"VKWebAppUpdateConfig"===n&&(e.setState({scheme:r.scheme}),"space_gray"===r.scheme&&R.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"}),"bright_light"===r.scheme&&R.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"}))})),void 0!==this.props.launchParams.sign?(this.setState({validLaunchParams:!0}),console.log("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u0438\u0448\u043b\u0438"),this.props.changeLaunchParams(this.props.launchParams),this.auth(this.props.launchParams)):(this.setState({validLaunchParams:!1}),this.openSnack("\u041e\u0448\u0438\u0431\u043a\u0430. \u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430.")),this.props.linkParams.masterid&&(this.openMasterOnId(this.props.linkParams.masterid),this.props.changeStory("masters")),window.onpopstate=function(){e.goBack(e.props.activeStory)}}},{key:"openSnack",value:function(e){var t=this;this.state.snackbar&&this.setState({snackbar:null}),this.setState({snackbar:r.a.createElement(m.O,{duration:"3000",layout:"vertical",onClose:function(){return t.setState({snackbar:null})},before:r.a.createElement(m.b,{size:24,style:{backgroundColor:"var(--accent)"}},r.a.createElement(E.a,{fill:"#fff",width:14,height:14}))},e)})}},{key:"openSnackInvite",value:function(e){var t=this;this.state.snackbarInvite&&this.setState({snackbarInvite:null}),this.setState({snackbarInvite:r.a.createElement(m.O,{duration:"3000",layout:"vertical",onClose:function(){return t.setState({snackbarInvite:null})},before:r.a.createElement(st.a,null)},e)})}},{key:"openSnackLk",value:function(e){var t=this;this.state.snackbarLk&&this.setState({snackbarLk:null}),this.setState({snackbarLk:r.a.createElement(m.O,{duration:"3000",layout:"vertical",onClose:function(){return t.setState({snackbarLk:null})},before:r.a.createElement(m.b,{size:24,style:{backgroundColor:"var(--accent)"}},r.a.createElement(E.a,{fill:"#fff",width:14,height:14}))},e)})}},{key:"openSnackLkDismiss",value:function(e){var t=this;this.state.snackbarLk&&this.setState({snackbarLk:null}),this.setState({snackbarLk:r.a.createElement(m.O,{duration:"3000",layout:"vertical",onClose:function(){return t.setState({snackbarLk:null})},before:r.a.createElement(st.a,null)},e)})}},{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"changeTargetCity",value:function(e){var t=this.props.user;t.location.city=e,this.props.changeTargetCity(e),t.params=this.props.params}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.loginStatus;return!0===this.state.warnConnection?r.a.createElement(m.l,{scheme:this.state.scheme},r.a.createElement(m.W,{id:"loading",activePanel:"loading"},r.a.createElement(m.C,{id:"loading"},r.a.createElement(m.G,{stretched:!0,icon:r.a.createElement(kt.a,null),header:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!",action:r.a.createElement(m.d,{size:"l",onClick:function(){return e.auth(e.props.launchParams)}},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e")},"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435."),this.state.snackbar))):!1===this.state.validLaunchParams?r.a.createElement(m.l,{scheme:this.state.scheme},r.a.createElement(m.W,{id:"warn",activePanel:"warn"},r.a.createElement(m.C,{id:"warn"},r.a.createElement(m.G,{icon:r.a.createElement(m.P,{size:"large",style:{marginTop:40}})},"\u0412\u0441\u0451, \u0431\u0435\u0434\u0430! \u0412\u044b \u0432\u0441\u0435 \u0441\u043b\u043e\u043c\u0430\u043b\u0438 :("),this.state.snackbar))):!1===n?r.a.createElement(m.l,{scheme:this.state.scheme},r.a.createElement(m.W,{id:"loading",activePanel:"loading"},r.a.createElement(m.C,{id:"loading"},r.a.createElement(m.G,{stretched:!0,icon:r.a.createElement(m.P,{size:"large",style:{marginTop:40}}),header:"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432\u0445\u043e\u0434..."},"\u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",this.state.snackbar)))):r.a.createElement(m.l,{scheme:this.state.scheme},r.a.createElement(m.o,{activeStory:this.props.activeStory,tabbar:r.a.createElement(m.R,null,r.a.createElement(m.S,{onClick:function(){"news"===e.props.activeStory?e.goTo("news","news"):e.props.changeStory("news")},selected:"news"===this.props.activeStory,"data-story":"news",text:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"},r.a.createElement(f.a,null)),r.a.createElement(m.S,{onClick:function(){"masters"===e.props.activeStory?e.goTo("masters","mastersList"):e.props.changeStory("masters")},selected:"masters"===this.props.activeStory,"data-story":"masters",text:"\u041c\u0430\u0441\u0442\u0435\u0440\u0430"},r.a.createElement(b.a,null)),r.a.createElement(m.S,{onClick:function(){"findmodel"===e.props.activeStory?e.goTo("findmodel","findmodel"):e.props.changeStory("findmodel")},selected:"findmodel"===this.props.activeStory,"data-story":"findmodel",text:"\u0418\u0449\u0443 \u043c\u043e\u0434\u0435\u043b\u044c"},r.a.createElement(C.a,null)),r.a.createElement(m.S,{onClick:function(){e.setState({snackbarLk:null}),"lk"===e.props.activeStory?e.goTo("lk","lk"):e.props.changeStory("lk")},selected:"lk"===this.props.activeStory,"data-story":"lk",text:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"},r.a.createElement(h.a,null)))},r.a.createElement(m.W,{id:"news",history:this.props.newsHistory,onSwipeBack:function(){return e.goBack("news")},activePanel:this.props.newsHistory[this.props.newsHistory.length-1]},r.a.createElement(Te,{id:"news",params:this.props.params,openReg:function(){e.props.changeStory("lk"),e.goTo("lk","registration")},openStory:this.openStory,user:this.props.user,openModer:function(){return e.goTo("news","moder")}}),r.a.createElement(At,{id:"moder",goBack:function(){return e.goBack("news")},user:this.state.user,openMaster:function(t){e.setState({activeMaster:t}),e.goTo("news","masterInfo")}}),r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(fe,{goBack:function(){return e.goBack("news")},openPhoto:function(){return"null"},openComments:function(){return"null"},activeMaster:this.state.activeMaster,setActiveMaster:function(t){return e.setState({activeMaster:t})}}))),r.a.createElement(m.W,{id:"masters",modal:this.state.mastersModal,activePanel:this.props.mastersHistory[this.props.mastersHistory.length-1],history:this.props.mastersHistory,onSwipeBack:function(){return e.goBack("masters")}},r.a.createElement(Rt,{id:"mastersList",changeCity:function(){return e.goTo("masters","changeCity")},openSnack:function(t){return e.openSnack(t)},changeCategory:function(){return e.goTo("masters","masterCat")},openPanelMaster:function(t){e.props.changeActiveMasterOnMasters(t),e.goTo("masters","masterInfo")},snackbar:this.state.snackbar}),r.a.createElement(m.C,{id:"changeCity"},r.a.createElement(S,{title:"\u0412\u044b\u0431\u043e\u0440 \u0433\u043e\u0440\u043e\u0434\u0430",goBack:function(){return e.goBack("masters")}}),r.a.createElement(jt,{id:"changeCity",goBack:function(){return e.goBack("masters")},changeCity:function(t){e.changeTargetCity(t),e.goBack("masters")}})),r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(fe,{id:"masterInfo",goBack:function(){return e.goBack("masters")},openPhoto:function(){return e.goTo("masters","masterPhoto")},openComments:function(){return e.goTo("masters","masterComments")},activeMaster:this.props.activeMasterOnMasters,openModal:function(t){e.setState({mastersModal:t})}})),r.a.createElement(m.C,{id:"masterPhoto"},r.a.createElement(S,{title:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",goBack:function(){return e.goBack("masters")}}),r.a.createElement(ve,{goBack:function(){return e.goBack("masters")},activeMaster:this.props.activeMasterOnMasters})),r.a.createElement(m.C,{id:"masterComments"},r.a.createElement(S,{title:"\u041e\u0442\u0437\u044b\u0432\u044b",goBack:function(){return e.goBack("masters")}}),r.a.createElement(Me,{goBack:function(){return e.goBack("masters")},activeMaster:this.props.activeMasterOnMasters})),r.a.createElement(m.C,{id:"masterCat"},r.a.createElement(S,{title:"\u0412\u044b\u0431\u043e\u0440 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",goBack:function(){return e.goBack("masters")}}),r.a.createElement(m.u,null,r.a.createElement(xt,{setCategory:function(t){e.props.changeTargetCategory(t),e.goBack("masters")}})))),r.a.createElement(m.W,{id:"findmodel",activePanel:this.props.findmodelHistory[this.props.findmodelHistory.length-1],history:this.props.findmodelHistory,onSwipeBack:function(){return e.goBack("findmodel")},modal:this.state.findModal},r.a.createElement(m.C,{id:"findmodel"},r.a.createElement(m.D,null,"\u0418\u0449\u0443 \u043c\u043e\u0434\u0435\u043b\u044c"),r.a.createElement(St,{openMasterOnId:function(t){return e.openFindMasterOnId(t)},changeCity:function(){return e.goTo("findmodel","changeCity")}})),r.a.createElement(m.C,{id:"changeCity"},r.a.createElement(S,{title:"\u0412\u044b\u0431\u043e\u0440 \u0433\u043e\u0440\u043e\u0434\u0430",goBack:function(){return e.goBack("findmodel")}}),r.a.createElement(jt,{id:"changeCity",goBack:function(){return e.goBack("findmodel")},changeCity:function(t){e.changeTargetCity(t),e.goBack("findmodel")}})),r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(fe,{id:"masterInfo",goBack:function(){return e.goBack("findmodel")},openPhoto:function(){return e.goTo("findmodel","masterPhoto")},activeMaster:this.props.activeMasterOnFindModels,openComments:function(){return e.goTo("findmodel","masterComments")},openModal:function(t){e.setState({findModal:t})}})),r.a.createElement(m.C,{id:"masterPhoto"},r.a.createElement(S,{title:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",goBack:function(){return e.goBack("findmodel")}}),r.a.createElement(ve,{goBack:function(){return e.goBack("findmodel")},activeMaster:this.props.activeMasterOnFindModels})),r.a.createElement(m.C,{id:"masterComments"},r.a.createElement(S,{title:"\u041e\u0442\u0437\u044b\u0432\u044b",goBack:function(){return e.goBack("findmodel")}}),r.a.createElement(Me,{goBack:function(){return e.goBack("findmodel")},activeMaster:this.props.activeMasterOnFindModels}))),r.a.createElement(m.J,{id:"lk",activeView:this.props.activeViewLk,modal:this.state.lkModal},r.a.createElement(m.W,{id:"lk",popout:this.state.popoutLk,activePanel:this.props.lkHistory[this.props.lkHistory.length-1],history:this.props.lkHistory,onSwipeBack:function(){return e.goBack("lk")}},r.a.createElement(m.C,{id:"lk"},r.a.createElement(m.D,{separator:!1},"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement(m.T,null,r.a.createElement(m.U,{onClick:function(){return e.setState({activeTabLk:"about"})},selected:"about"===this.state.activeTabLk},"\u041e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435"),r.a.createElement(m.U,{onClick:function(){return e.setState({activeTabLk:"partners"})},selected:"partners"===this.state.activeTabLk},"\u041f\u0430\u0440\u0442\u043d\u0451\u0440\u0430\u043c")),r.a.createElement(m.N,null),"about"===this.state.activeTabLk?r.a.createElement(Ue,{master:this.props.master,user:a,openSetting:function(){return e.goTo("lk","setting")},openFavourite:function(){return e.goTo("lk","favourite")},openFindModel:function(){return e.goTo("lk","findModel")},openMasterPhoto:function(){return e.goTo("lk","portfolio")},isFavourite:this.props.params.vk_is_favorite}):r.a.createElement(wt,null),this.state.snackbarLk),r.a.createElement(m.C,{id:"setting"},r.a.createElement(it,{setAlert:function(t){return e.setState({popoutLk:t})},snackbar:function(t){return e.openSnackLk(t)},snackbarDismiss:function(t){return e.openSnackLkDismiss(t)},modalBack:this.modalBack,activeModal:this.state.activeModal,changeCity:function(){return e.goTo("lk","changeCity")},goBack:function(){return e.goBack("lk")},snackbarLk:this.state.snackbarLk})),r.a.createElement(m.C,{id:"changeCity"},r.a.createElement(S,{title:"\u0412\u044b\u0431\u043e\u0440 \u0433\u043e\u0440\u043e\u0434\u0430",goBack:function(){return e.goBack("lk")}}),r.a.createElement(jt,{id:"changeCity",goBack:function(){return e.goBack("lk")},changeCity:function(t){var a=e.props.master;a.location.city=t,a.changed=!0,e.props.setMaster(a),e.goBack("lk")}})),r.a.createElement(m.C,{id:"favourite"},r.a.createElement(mt,{goBack:function(){return e.goBack("lk")},user:a,openFavMasterOnId:function(t){e.props.changeActiveMasterOnFavs(t),e.goTo("lk","masterInfo")}})),r.a.createElement(m.C,{id:"masterInfo"},r.a.createElement(fe,{goBack:function(){return e.goBack("lk")},openPhoto:function(){return e.goTo("lk","masterPhoto")},user:a,activeMaster:this.props.activeMasterOnFavs,openComments:function(){return e.goTo("lk","masterComments")},setActiveMaster:function(t){return e.setState({activeMaster:t})},openModal:function(t){e.setState({lkModal:t})}})),r.a.createElement(m.C,{id:"masterPhoto"},r.a.createElement(S,{title:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",goBack:function(){return e.goBack("lk")}}),r.a.createElement(ve,{goBack:function(){return e.setState({activePanelLk:"masterInfo"})},activeMaster:this.props.activeMasterOnFavs})),r.a.createElement(m.C,{id:"portfolio"},r.a.createElement(S,{title:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",goBack:function(){return e.goBack("lk")}}),r.a.createElement(et,{setAlert:function(t){return e.setState({popoutLk:t})},goBack:function(){return e.goBack("lk")},user:a})),r.a.createElement(m.C,{id:"masterComments"},r.a.createElement(S,{title:"\u041e\u0442\u0437\u044b\u0432\u044b",goBack:function(){return e.goBack("lk")}}),r.a.createElement(Me,{goBack:function(){return e.goBack("lk")},user:a,activeMaster:this.props.activeMasterOnFavs})),r.a.createElement(m.C,{id:"findModel"},r.a.createElement(S,{title:"\u0418\u0449\u0443 \u043c\u043e\u0434\u0435\u043b\u044c",goBack:function(){return e.goBack("lk")}}),r.a.createElement(Mt,{goBack:function(){return e.goBack("lk")},user:a,popout:this.openAlert})),r.a.createElement(m.C,{id:"registration"},r.a.createElement(S,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",goBack:function(){e.goBack("lk")}}),r.a.createElement(Be,{setAlert:function(t){return e.setState({popoutLk:t})},goBack:function(){return e.props.changeActiveViewLk("lk")},closeReg:this.closeReg,changeCity:function(){return e.goTo("lk","changeCityReg")},openRules:function(){return e.goTo("lk","rules")},snackbar:function(t){return e.openSnackInvite(t)}}),this.state.snackbarInvite),r.a.createElement(m.C,{id:"rules"},r.a.createElement(S,{title:"\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435",goBack:function(){return e.goBack("lk")}}),r.a.createElement(Gt,{goBack:function(){return e.goBack("lk")}})),r.a.createElement(m.C,{id:"changeCityReg"},r.a.createElement(S,{title:"\u0412\u044b\u0431\u043e\u0440 \u0433\u043e\u0440\u043e\u0434\u0430",goBack:function(){return e.goBack("lk")}}),r.a.createElement(jt,{id:"changeCityReg",goBack:function(){return e.goBack("lk")},changeCity:function(t){e.changeTargetCity(t),e.goBack("lk")}}))))))}}]),a}(r.a.Component),Ht=Object(z.b)((function(e){return{mastersList:e.mastersList,targetCategory:e.targetCategory,targetCity:e.targetCity,mastersListScroll:e.mastersListScroll,findModelsList:e.findModelsList,findModelsListScroll:e.findModelsListScroll,user:e.user,loginStatus:e.loginStatus,master:e.master,activeMasterOnMasters:e.activeMasterOnMasters,activeMasterOnFindModels:e.activeMasterOnFindModels,activeMasterOnFavs:e.activeMasterOnFavs,params:e.params,activePanelnews:e.activePanelnews,activePanelmasters:e.activePanelmasters,activePanelfindmodel:e.activePanelfindmodel,activePanellk:e.activePanellk,activeStory:e.activeStory,newsHistory:e.newsHistory,mastersHistory:e.mastersHistory,findmodelHistory:e.findmodelHistory,lkHistory:e.lkHistory,activeViewLk:e.activeViewLk,activePanelregistration:e.activePanelregistration,registrationHistory:e.registrationHistory}}),(function(e){return{changeMastersList:Object(V.a)($,e),changeTargetCategory:Object(V.a)(Y,e),changeTargetCity:Object(V.a)(q,e),changeMasterslistScroll:Object(V.a)(Q,e),changeFindModelsList:Object(V.a)(Z,e),changeFindModelsListScroll:Object(V.a)(X,e),loginUser:Object(V.a)(J,e),setMaster:Object(V.a)(K,e),changeActiveMasterOnMasters:Object(V.a)(ee,e),changeActiveMasterOnFindModels:Object(V.a)(te,e),changeActiveMasterOnFavs:Object(V.a)(ae,e),changeLaunchParams:Object(V.a)(ne,e),changeStory:Object(V.a)(oe,e),goTo:Object(V.a)(re,e),goForward:Object(V.a)(se,e),changeActiveViewLk:Object(V.a)(ie,e)}}))(Dt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(144).config();var Vt=Object(V.b)((function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ACTION_CHANGE_MASTERS_LIST":return Object(U.a)(Object(U.a)({},a),{},{mastersList:n.payload});case"ACTION_CHANGE_TARGET_CATEGORY":return Object(U.a)(Object(U.a)({},a),{},{targetCategory:n.payload,mastersList:[]});case"ACTION_CHANGE_TARGET_CITY":var r=a.user;return r.location.city=n.payload,Object(U.a)(Object(U.a)({},a),{},{targetCity:n.payload,mastersList:[],findModelsList:[],user:r});case"ACTION_CHANGE_MASTERSLIST_SCROLL":return Object(U.a)(Object(U.a)({},a),{},{mastersListScroll:n.payload});case"ACTION_CHANGE_FINDMODELS_LIST":return Object(U.a)(Object(U.a)({},a),{},{findModelsList:n.payload});case"ACTION_CHANGE_FINDMODELS_SCROLL":return Object(U.a)(Object(U.a)({},a),{},{findModelsListScroll:n.payload});case"LOGIN_USER":return Object(U.a)(Object(U.a)({},a),{},{loginStatus:!0,user:n.payload,targetCity:void 0!==n.payload.location?n.payload.location.city:{id:1,title:"\u041c\u043e\u0441\u043a\u0432\u0430"}});case"SET_MASTER":var s=a.user;return s.isMaster=!0,Object(U.a)(Object(U.a)({},a),{},{master:n.payload,user:s});case"ACTION_CHANGE_ACTIVE_MASTER_ON_MASTERS":return Object(U.a)(Object(U.a)({},a),{},{activeMasterOnMasters:n.payload});case"ACTION_CHANGE_ACTIVE_MASTER_ON_FINDMODELS":return Object(U.a)(Object(U.a)({},a),{},{activeMasterOnFindModels:n.payload});case"ACTION_CHANGE_ACTIVE_MASTER_ON_FAVS":return Object(U.a)(Object(U.a)({},a),{},{activeMasterOnFavs:n.payload});case"SET_LAUNCH_PARAMS":return Object(U.a)(Object(U.a)({},a),{},{params:n.payload});case"GO_TO":var o=a[n.payload.story+"History"];return o[o.length-1]!==n.payload.panel&&o.push(n.payload.panel),n.payload.panel===o[0]&&(o=[n.payload.panel]),Object(U.a)(Object(U.a)({},a),{},(e={},Object(L.a)(e,"activePanel"+n.payload.story,n.payload.panel),Object(L.a)(e,n.payload.story+"History",o),Object(L.a)(e,"activeStory",n.payload.story),e));case"GO_FORWARD":var i=a[n.payload.story+"History"];return i.pop(),Object(U.a)(Object(U.a)({},a),{},(t={},Object(L.a)(t,n.payload.story+"History",i),Object(L.a)(t,"activePanel"+n.payload.story,i[i.length-1]),Object(L.a)(t,"activeStory",n.payload.story),t));case"CHANGE_STORY":return Object(U.a)(Object(U.a)({},a),{},{activeStory:n.payload});case"CHANGE_ACTIVE_VIEW_LK":return Object(U.a)(Object(U.a)({},a),{},{activeViewLk:n.payload});case"REG_SET":return Object(U.a)(Object(U.a)({},a),{},{regSet:n.payload})}return a}));R.a.send("VKWebAppInit",{});var Ut=window.location.hash.replace("#","").split("&").reduce((function(e,t){var a=t.split("=");return e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]),e}),{}),Wt=window.location.search.replace("?","").split("&").reduce((function(e,t){var a=t.split("=");return e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]),e}),{});o.a.render(r.a.createElement(z.a,{store:Vt},r.a.createElement(Ht,{launchParams:Wt,linkParams:Ut})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},92:function(e,t,a){e.exports=a.p+"static/media/spinner.80eb5c68.svg"}},[[121,1,2]]]);
//# sourceMappingURL=main.caecb9d5.chunk.js.map